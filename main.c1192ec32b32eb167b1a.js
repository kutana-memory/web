(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("30Go"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.1","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return sn}),n.d(e,"b",function(){return Xa}),n.d(e,"c",function(){return Wa}),n.d(e,"d",function(){return Ka}),n.d(e,"e",function(){return $a}),n.d(e,"f",function(){return Hu}),n.d(e,"g",function(){return Pu}),n.d(e,"h",function(){return ea}),n.d(e,"i",function(){return lu}),n.d(e,"j",function(){return Ts}),n.d(e,"k",function(){return nu}),n.d(e,"l",function(){return Ps}),n.d(e,"m",function(){return Or}),n.d(e,"n",function(){return ja}),n.d(e,"o",function(){return eo}),n.d(e,"p",function(){return gn}),n.d(e,"q",function(){return on}),n.d(e,"r",function(){return mo}),n.d(e,"s",function(){return Js}),n.d(e,"t",function(){return Ys}),n.d(e,"u",function(){return eu}),n.d(e,"v",function(){return fa}),n.d(e,"w",function(){return Ru}),n.d(e,"x",function(){return ha}),n.d(e,"y",function(){return Iu}),n.d(e,"z",function(){return du}),n.d(e,"A",function(){return vn}),n.d(e,"B",function(){return Za}),n.d(e,"C",function(){return Qa}),n.d(e,"D",function(){return Rs}),n.d(e,"E",function(){return Ns}),n.d(e,"F",function(){return xr}),n.d(e,"G",function(){return Ms}),n.d(e,"H",function(){return yr}),n.d(e,"I",function(){return mn}),n.d(e,"J",function(){return Vu}),n.d(e,"K",function(){return aa}),n.d(e,"L",function(){return _u}),n.d(e,"M",function(){return an}),n.d(e,"N",function(){return Ls}),n.d(e,"O",function(){return Vs}),n.d(e,"P",function(){return pa}),n.d(e,"Q",function(){return L}),n.d(e,"R",function(){return Tu}),n.d(e,"S",function(){return $n}),n.d(e,"T",function(){return _}),n.d(e,"U",function(){return Kn}),n.d(e,"V",function(){return Fu}),n.d(e,"W",function(){return Eu}),n.d(e,"X",function(){return tu}),n.d(e,"Y",function(){return ro}),n.d(e,"Z",function(){return ps}),n.d(e,"ab",function(){return gr}),n.d(e,"bb",function(){return Zn}),n.d(e,"cb",function(){return Vn}),n.d(e,"db",function(){return Un}),n.d(e,"eb",function(){return zn}),n.d(e,"fb",function(){return qn}),n.d(e,"gb",function(){return Fn}),n.d(e,"hb",function(){return Hn}),n.d(e,"ib",function(){return ls}),n.d(e,"jb",function(){return Uu}),n.d(e,"kb",function(){return hs}),n.d(e,"lb",function(){return fs}),n.d(e,"mb",function(){return Ln}),n.d(e,"nb",function(){return z}),n.d(e,"ob",function(){return Io}),n.d(e,"pb",function(){return qo}),n.d(e,"qb",function(){return Fo}),n.d(e,"rb",function(){return cs}),n.d(e,"sb",function(){return kt}),n.d(e,"tb",function(){return y}),n.d(e,"ub",function(){return Mn}),n.d(e,"vb",function(){return _o}),n.d(e,"wb",function(){return St}),n.d(e,"xb",function(){return Ss}),n.d(e,"yb",function(){return ui}),n.d(e,"zb",function(){return Ao}),n.d(e,"Ab",function(){return Qo}),n.d(e,"Bb",function(){return Ha}),n.d(e,"Cb",function(){return tt}),n.d(e,"Db",function(){return at}),n.d(e,"Eb",function(){return E}),n.d(e,"Fb",function(){return C}),n.d(e,"Gb",function(){return it}),n.d(e,"Hb",function(){return ut}),n.d(e,"Ib",function(){return No}),n.d(e,"Jb",function(){return Lo}),n.d(e,"Kb",function(){return Vo}),n.d(e,"Lb",function(){return Mo}),n.d(e,"Mb",function(){return Uo}),n.d(e,"Nb",function(){return tn}),n.d(e,"Ob",function(){return os}),n.d(e,"Pb",function(){return In}),n.d(e,"Qb",function(){return en}),n.d(e,"Rb",function(){return Ga}),n.d(e,"Sb",function(){return Ho}),n.d(e,"Tb",function(){return za}),n.d(e,"Ub",function(){return Go}),n.d(e,"Vb",function(){return Ro}),n.d(e,"Wb",function(){return Ko}),n.d(e,"Xb",function(){return qa}),n.d(e,"Yb",function(){return Jt}),n.d(e,"Zb",function(){return mr}),n.d(e,"ac",function(){return ot}),n.d(e,"bc",function(){return Po}),n.d(e,"cc",function(){return ns}),n.d(e,"dc",function(){return rs}),n.d(e,"ec",function(){return is});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function v(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function y(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(y).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function m(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const b=g({__forward_ref__:g});function _(t){return t.__forward_ref__=_,t.toString=function(){return y(this())},t}function w(t){return O(t)?t():t}function O(t){return"function"==typeof t&&t.hasOwnProperty(b)&&t.__forward_ref__===_}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function C(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function S(t){return x(t,T)||x(t,A)}function x(t,e){return t.hasOwnProperty(e)?t[e]:null}function I(t){return t&&(t.hasOwnProperty(j)||t.hasOwnProperty(k))?t[j]:null}const T=g({"\u0275prov":g}),j=g({"\u0275inj":g}),A=g({ngInjectableDef:g}),k=g({ngInjectorDef:g});var P=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let N;function R(t){const e=N;return N=t,e}function D(t,e,n){const r=S(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&P.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${y(t)}]`)}function M(t){return{toString:t}.toString()}var V=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),L=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const U="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,H="undefined"!=typeof global&&global,z=U||H||F||q,B={},G=[],K=g({"\u0275cmp":g}),$=g({"\u0275dir":g}),W=g({"\u0275pipe":g}),J=g({"\u0275mod":g}),Y=g({"\u0275loc":g}),Q=g({"\u0275fac":g}),Z=g({__NG_ELEMENT_ID__:g});let X=0;function tt(t){return M(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===V.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||G,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||L.Emulated,id:"c",styles:t.styles||G,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=X++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[$]||null}(t)}function nt(t){return function(t){return t[W]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||G,declarations:t.declarations||G,imports:t.imports||G,exports:t.exports||G,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&M(()=>{rt[t.id]=t.type}),e}function ot(t,e){return M(()=>{const n=lt(t,!0);n.declarations=e.declarations||G,n.imports=e.imports||G,n.exports=e.exports||G})}function st(t,e){if(null==t)return B;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const at=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[K]||null}function lt(t,e){const n=t[J]||null;if(!n&&!0===e)throw new Error(`Type ${y(t)} does not have '\u0275mod' property.`);return n}const ht=20,ft=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function vt(t){return 2==(2&t.flags)}function yt(t){return 1==(1&t.flags)}function mt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(Q)?t[Q]:null}class _t extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function wt(t){return"string"==typeof t?t:null==t?"":String(t)}function Ot(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():wt(t)}function Et(t,e){const n=e?" in "+e:"";throw new _t("201",`No provider for ${Ot(t)} found${n}`)}class Ct{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function St(){return xt}function xt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Tt),It}function It(){const t=jt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===B)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Tt(t,e,n,r){const i=jt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:B,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new Ct(u&&u.currentValue,e,s===B),t[r]=e}function jt(t){return t.__ngSimpleChanges__||null}St.ngInherit=!0;let At=void 0;function kt(t){At=t}function Pt(t){return!!t.listen}const Nt={createRenderer:(t,e)=>void 0!==At?At:"undefined"!=typeof document?document:void 0};function Rt(t){for(;Array.isArray(t);)t=t[0];return t}function Dt(t,e){return Rt(e[t])}function Mt(t,e){return Rt(e[t.index])}function Vt(t,e){return t.data[e]}function Lt(t,e){const n=e[t];return dt(n)?n:n[0]}function Ut(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ft(t){return 4==(4&t[2])}function qt(t){return 128==(128&t[2])}function Ht(t,e){return null==e?null:t[e]}function zt(t){t[18]=0}function Bt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Gt={lFrame:he(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Kt(){return Gt.bindingsEnabled}function $t(){return Gt.lFrame.lView}function Wt(){return Gt.lFrame.tView}function Jt(t){Gt.lFrame.contextLView=t}function Yt(){let t=Qt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Qt(){return Gt.lFrame.currentTNode}function Zt(t,e){const n=Gt.lFrame;n.currentTNode=t,n.isParent=e}function Xt(){return Gt.lFrame.isParent}function te(){return Gt.isInCheckNoChangesMode}function ee(t){Gt.isInCheckNoChangesMode=t}function ne(){return Gt.lFrame.bindingIndex++}function re(t,e){const n=Gt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ie(e)}function ie(t){Gt.lFrame.currentDirectiveIndex=t}function oe(){return Gt.lFrame.currentQueryIndex}function se(t){Gt.lFrame.currentQueryIndex=t}function ae(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ue(t,e,n){if(n&P.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&P.Host||(r=ae(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Gt.lFrame=le();return r.currentTNode=e,r.lView=t,!0}function ce(t){const e=le(),n=t[1];Gt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function le(){const t=Gt.lFrame,e=null===t?null:t.child;return null===e?he(t):e}function he(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function fe(){const t=Gt.lFrame;return Gt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const de=fe;function pe(){const t=fe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ge(){return Gt.lFrame.selectedIndex}function ve(t){Gt.lFrame.selectedIndex=t}function ye(){const t=Gt.lFrame;return Vt(t.tView,t.selectedIndex)}function me(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function be(t,e,n){Oe(t,e,3,n)}function _e(t,e,n,r){(3&t[2])===n&&Oe(t,e,n,r)}function we(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Oe(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(Ee(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function Ee(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const Ce=-1;class Se{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function xe(t,e,n){const r=Pt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Te(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Ie(t){return 3===t||4===t||6===t}function Te(t){return 64===t.charCodeAt(0)}function je(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ae(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ae(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function ke(t){return t!==Ce}function Pe(t){return 32767&t}function Ne(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Re=!0;function De(t){const e=Re;return Re=t,e}let Me=0;function Ve(t,e){const n=Ue(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Le(r.data,t),Le(e,null),Le(r.blueprint,null));const i=Fe(t,e),o=t.injectorIndex;if(ke(i)){const t=Pe(i),n=Ne(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Le(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ue(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Fe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ce;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ce}function qe(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Z)&&(r=n[Z]),null==r&&(r=n[Z]=Me++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function He(t,e,n){if(n&P.Optional)return t;Et(e,"NodeInjector")}function ze(t,e,n,r){if(n&P.Optional&&void 0===r&&(r=null),0==(n&(P.Self|P.Host))){const i=t[9],o=R(void 0);try{return i?i.get(e,r,n&P.Optional):D(e,r,n&P.Optional)}finally{R(o)}}return He(r,e,n)}function Be(t,e,n,r=P.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Z)?t[Z]:void 0;return"number"==typeof e?e>=0?255&e:Ke:e}(n);if("function"==typeof o){if(!ue(e,t,r))return r&P.Host?He(i,n,r):ze(e,n,r,i);try{const t=o();if(null!=t||r&P.Optional)return t;Et(n)}finally{de()}}else if("number"==typeof o){let i=null,s=Ue(t,e),a=Ce,u=r&P.Host?e[16][6]:null;for((-1===s||r&P.SkipSelf)&&(a=-1===s?Fe(t,e):e[s+8],a!==Ce&&Qe(r,!1)?(i=e[1],s=Pe(a),e=Ne(a,e)):s=-1);-1!==s;){const t=e[1];if(Ye(o,s,t.data)){const t=$e(s,e,n,i,r,u);if(t!==Ge)return t}a=e[s+8],a!==Ce&&Qe(r,e[1].data[s+8]===u)&&Ye(o,s,e)?(i=t,s=Pe(a),e=Ne(a,e)):s=-1}}}return ze(e,n,r,i)}const Ge={};function Ke(){return new Ze(Yt(),$t())}function $e(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=We(a,s,n,null==r?vt(a)&&Re:r!=s&&0!=(3&a.type),i&P.Host&&o===a);return null!==u?Je(e,s,u,a):Ge}function We(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&mt(t)&&t.type===n)return u}return null}function Je(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Se){const s=i;s.resolving&&function(t,e){throw new _t("200","Circular dependency in DI detected for "+t)}(Ot(o[n]));const a=De(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?R(s.injectImpl):null;ue(t,r,P.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=xt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&R(u),De(a),s.resolving=!1,de()}}return i}function Ye(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function Qe(t,e){return!(t&P.Self||t&P.Host&&e)}class Ze{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Be(this._tNode,this._lView,t,void 0,e)}}function Xe(t){const e=t;if(O(t))return()=>{const t=Xe(w(e));return t?t():null};let n=bt(e);if(null===n){const t=I(e);n=t&&t.factory}return n||null}function tn(t){return M(()=>{const e=t.prototype.constructor,n=e[Q]||Xe(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Q]||Xe(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function en(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ie(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Yt(),t)}const nn="__parameters__";function rn(t,e,n){return M(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(nn)?t[nn]:Object.defineProperty(t,nn,{value:[]})[nn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class on{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=E({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const sn=new on("AnalyzeForEntryComponents"),an=Function;function un(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),un(r,e)):e!==t&&e.push(r)}return e}function cn(t,e){t.forEach(t=>Array.isArray(t)?cn(t,e):e(t))}function ln(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function hn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function fn(t,e,n){let r=pn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function dn(t,e){const n=pn(t,e);if(n>=0)return t[1|n]}function pn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const gn=rn("Inject",t=>({token:t})),vn=rn("Optional"),yn=rn("Self"),mn=rn("SkipSelf"),bn={},_n=/\n/gm,wn="__source",On=g({provide:String,useValue:g});let En,Cn=void 0;function Sn(t){const e=Cn;return Cn=t,e}function xn(t,e=P.Default){if(void 0===Cn)throw new Error("inject() must be called from an injection context");return null===Cn?D(t,void 0,e):Cn.get(t,e&P.Optional?null:void 0,e)}function In(t,e=P.Default){return(N||xn)(w(t),e)}function Tn(t){const e=[];for(let n=0;n<t.length;n++){const r=w(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=P.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof vn||"Optional"===i.ngMetadataName||i===vn?n|=P.Optional:i instanceof mn||"SkipSelf"===i.ngMetadataName||i===mn?n|=P.SkipSelf:i instanceof yn||"Self"===i.ngMetadataName||i===yn?n|=P.Self:t=i instanceof gn||i===gn?i.token:i}e.push(In(t,n))}else e.push(In(r))}return e}function jn(t){var e;return(null===(e=function(){if(void 0===En&&(En=null,z.trustedTypes))try{En=z.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return En}())||void 0===e?void 0:e.createHTML(t))||t}class An{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class kn extends An{getTypeName(){return"HTML"}}class Pn extends An{getTypeName(){return"Style"}}class Nn extends An{getTypeName(){return"Script"}}class Rn extends An{getTypeName(){return"URL"}}class Dn extends An{getTypeName(){return"ResourceURL"}}function Mn(t){return t instanceof An?t.changingThisBreaksApplicationSecurity:t}function Vn(t,e){const n=Ln(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Ln(t){return t instanceof An&&t.getTypeName()||null}function Un(t){return new kn(t)}function Fn(t){return new Pn(t)}function qn(t){return new Nn(t)}function Hn(t){return new Rn(t)}function zn(t){return new Dn(t)}let Bn=!0,Gn=!1;function Kn(){return Gn=!0,Bn}function $n(){if(Gn)throw new Error("Cannot enable prod mode after platform setup.");Bn=!1}class Wn{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(jn(t),"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Jn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=jn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=jn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Yn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Qn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Zn(t){return(t=String(t)).match(Yn)||t.match(Qn)?t:(Kn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see https://g.co/ng/security#xss)`),"unsafe:"+t)}function Xn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function tr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const er=Xn("area,br,col,hr,img,wbr"),nr=Xn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rr=Xn("rp,rt"),ir=tr(rr,nr),or=tr(er,tr(nr,Xn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),tr(rr,Xn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ir),sr=Xn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ar=Xn("srcset"),ur=tr(sr,ar,Xn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),cr=Xn("script,style,template");class lr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!or.hasOwnProperty(e))return this.sanitizedSomething=!0,!cr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!ur.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;sr[o]&&(s=Zn(s)),ar[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Zn(t.trim())).join(", ")),this.buf.push(" ",e,'="',dr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();or.hasOwnProperty(e)&&!er.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(dr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const hr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fr=/([^\#-~ |!])/g;function dr(t){return t.replace(/&/g,"&amp;").replace(hr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(fr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let pr;function gr(t,e){let n=null;try{pr=pr||function(t){return function(){try{return!!(new window.DOMParser).parseFromString(jn(""),"text/html")}catch(t){return!1}}()?new Wn:new Jn(t)}(t);let r=e?String(e):"";n=pr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=pr.getInertBodyElement(r)}while(r!==o);const s=new lr,a=s.sanitizeChildren(vr(n)||n);return Kn()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see https://g.co/ng/security#xss"),a}finally{if(n){const t=vr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function vr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var yr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function mr(t){const e=function(){const t=$t();return t&&t[12]}();return e?e.sanitize(yr.URL,t)||"":Vn(t,"URL")?Mn(t):Zn(wt(t))}function br(t){return t.ngDebugContext}function _r(t){return t.ngOriginalError}function wr(t,...e){t.error(...e)}class Or{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||wr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?br(t)?br(t):this._findContext(_r(t)):null}_findOriginalError(t){let e=_r(t);for(;e&&_r(e);)e=_r(e);return e}}function Er(t,e){t.__ngContext__=e}const Cr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(z))();function Sr(t){return t instanceof Function?t():t}var xr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Ir(t,e){return(void 0)(t,e)}function Tr(t){const e=t[3];return pt(e)?e[3]:e}function jr(t){return kr(t[13])}function Ar(t){return kr(t[4])}function kr(t){for(;null!==t&&!pt(t);)t=t[4];return t}function Pr(t,e,n,r,i){if(null!=r){let o,s=!1;pt(r)?o=r:dt(r)&&(s=!0,r=r[0]);const a=Rt(r);0===t&&null!==n?null==i?Ur(e,n,a):Lr(e,n,a,i||null,!0):1===t&&null!==n?Lr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=qr(t,e);r&&function(t,e,n,r){Pt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Rt(n)&&Pr(e,t,r,o,i);for(let s=ft;s<n.length;s++){const i=n[s];Kr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Nr(t,e,n){return Pt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Rr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Bt(i,-1)),n.splice(r,1)}function Dr(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Rr(o,r),e>0&&(t[n-1][4]=r[4]);const s=hn(t,ft+e);Kr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Mr(t,e){if(!(256&e[2])){const n=e[11];Pt(n)&&n.destroyNode&&Kr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Vr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Vr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Vr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Vr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Se)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):Rt(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&Pt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Rr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Lr(t,e,n,r,i){Pt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Ur(t,e,n){Pt(t)?t.appendChild(e,n):e.appendChild(n)}function Fr(t,e,n,r,i){null!==r?Lr(t,e,n,r,i):Ur(t,e,n)}function qr(t,e){return Pt(t)?t.parentNode(e):e.parentNode}function Hr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===L.None||e===L.Emulated)return null}return Mt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?Mt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Fr(o,i,n[a],s,!1);else Fr(o,i,n,s,!1)}function zr(t,e){if(null!==e){const n=e.type;if(3&n)return Mt(e,t);if(4&n)return Br(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return zr(t,n);{const n=t[e.index];return pt(n)?Br(-1,n):Rt(n)}}if(32&n)return Ir(e,t)()||Rt(t[e.index]);{const n=t[16],r=n[6],i=Tr(n),o=r.projection[e.projection];return null!=o?zr(i,o):zr(t,e.next)}}return null}function Br(t,e){const n=ft+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return zr(t,r)}return e[7]}function Gr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&Er(Rt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Gr(t,e,n.child,r,i,o,!1),Pr(e,t,i,a,o);else if(32&u){const s=Ir(n,r);let u;for(;u=s();)Pr(e,t,i,u,o);Pr(e,t,i,a,o)}else 16&u?$r(t,e,r,n,i,o):Pr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Kr(t,e,n,r,i,o){Gr(n,r,t.firstChild,e,i,o,!1)}function $r(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Pr(e,t,i,a[u],o);else Gr(t,e,a,s[3],i,o,!0)}function Wr(t,e,n){Pt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Jr(t,e,n){Pt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Yr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Qr="ng-template";function Zr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Yr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Xr(t){return 4===t.type&&t.value!==Qr}function ti(t,e,n){return e===(4!==t.type||n?t.value:Qr)}function ei(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Ie(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!ti(t,u,n)||""===u&&1===e.length){if(ni(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Zr(t.attrs,c,n)){if(ni(r))return!1;s=!0}continue}const l=ri(8&r?"class":u,i,Xr(t),n);if(-1===l){if(ni(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Yr(e,c,0)||2&r&&c!==t){if(ni(r))return!1;s=!0}}}}else{if(!s&&!ni(r)&&!ni(u))return!1;if(s&&ni(u))continue;s=!1,r=u|1&r}}return ni(r)||s}function ni(t){return 0==(1&t)}function ri(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ii(t,e,n=!1){for(let r=0;r<e.length;r++)if(ei(t,e[r],n))return!0;return!1}function oi(t,e){return t?":not("+e.trim()+")":e}function si(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||ni(s)||(e+=oi(o,i),i=""),r=s,o=o||!ni(r);n++}return""!==i&&(e+=oi(o,i)),e}const ai={};function ui(t){ci(Wt(),$t(),ge()+t,te())}function ci(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&be(e,r,n)}else{const r=t.preOrderHooks;null!==r&&_e(e,r,0,n)}ve(n)}function li(t,e){return t<<17|e<<2}function hi(t){return t>>17&32767}function fi(t){return 2|t}function di(t){return(131068&t)>>2}function pi(t,e){return-131069&t|e<<2}function gi(t){return 1|t}function vi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];se(i),n.contentQueries(2,e[o],o)}}}function yi(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,zt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function mi(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Qt(),s=Xt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Gt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Gt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Zt(o,!0),o}function bi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function _i(t,e,n){ce(e);try{const r=t.viewQuery;null!==r&&Ji(1,r,n);const i=t.template;null!==i&&Ei(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&vi(t,e),t.staticViewQueries&&Ji(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Bi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,pe()}}function wi(t,e,n,r){const i=e[2];if(256==(256&i))return;ce(e);const o=te();try{zt(e),Gt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ei(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&be(e,n,null)}else{const n=t.preOrderHooks;null!==n&&_e(e,n,0,null),we(e,0)}if(function(t){for(let e=jr(t);null!==e;e=Ar(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Bt(r,1),n[2]|=1024}}}(e),function(t){for(let e=jr(t);null!==e;e=Ar(e))for(let t=ft;t<e.length;t++){const n=e[t],r=n[1];qt(n)&&wi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&vi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&be(e,n)}else{const n=t.contentHooks;null!==n&&_e(e,n,1),we(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ve(~r);else{const i=r,o=n[++t],s=n[++t];re(o,i),s(2,e[i])}}}finally{ve(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Hi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Ji(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&be(e,n)}else{const n=t.viewHooks;null!==n&&_e(e,n,2),we(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Bt(e[3],-1))}finally{pe()}}function Oi(t,e,n,r){const i=e[10],o=!te(),s=Ft(e);try{o&&!s&&i.begin&&i.begin(),s&&_i(t,e,r),wi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Ei(t,e,n,r,i){const o=ge();try{ve(-1),2&r&&e.length>ht&&ci(t,e,ht,te()),n(r,i)}finally{ve(o)}}function Ci(t,e,n){Kt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Ve(n,e),Er(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=mt(r);o&&Li(e,n,r);const u=Je(e,t,a,n);Er(u,e),null!==s&&Ui(0,a-i,u,r,0,s),o&&(Lt(n.index,e)[8]=u)}}(t,e,n,Mt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Gt.lFrame.currentDirectiveIndex;try{ve(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ie(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Ni(r,i)}}finally{ve(-1),ie(s)}}(t,e,n))}function Si(t,e,n=Mt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function xi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ii(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ii(t,e,n,r,i,o,s,a,u,c){const l=ht+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ai);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Ti(t,e,n,r){const i=Qi(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function ji(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ai(t,e,n,r,i,o,s,a){const u=Mt(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(Xi(t,n,c,r,i),vt(e)&&function(t,e){const n=Lt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,Pt(o)?o.setProperty(u,r,i):Te(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function ki(t,e,n,r){let i=!1;if(Kt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ii(n,s.selectors,!1)&&(i||(i=[]),qe(Ve(n,e),t,s.type),mt(s)?(Ri(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Mi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=bi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=je(n.mergedAttrs,c.hostAttrs),Vi(t,n,e,u,c),Di(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Xr(e)?null:Fi(n,i);o.push(c),s=ji(n,u,s),a=ji(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new _t("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=je(n.mergedAttrs,n.attrs),i}function Pi(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Ni(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ri(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Di(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;mt(e)&&(n[""]=t)}}function Mi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Vi(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=bt(i.type)),s=new Se(o,mt(i),null);t.blueprint[r]=s,n[r]=s,Pi(t,e,0,r,bi(t,n,i.hostVars,ai),i)}function Li(t,e,n){const r=Mt(e,t),i=xi(n),o=t[10],s=Gi(t,yi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Ui(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Fi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function qi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Hi(t,e){const n=Lt(e,t);if(qt(n)){const t=n[1];80&n[2]?wi(t,n,t.template,n[8]):n[5]>0&&zi(n)}}function zi(t){for(let n=jr(t);null!==n;n=Ar(n))for(let t=ft;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];wi(t,e,t.template,e[8])}else e[5]>0&&zi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Lt(e[n],t);qt(r)&&r[5]>0&&zi(r)}}function Bi(t,e){const n=Lt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),_i(r,n,n[8])}function Gi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ki(t){for(;t;){t[2]|=64;const e=Tr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function $i(t,e,n){const r=e[10];r.begin&&r.begin();try{wi(t,e,t.template,n)}catch(i){throw Zi(e,i),i}finally{r.end&&r.end()}}function Wi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ut(n),i=r[1];Oi(i,r,i.template,n)}}(t[8])}function Ji(t,e,n){se(0),e(t,n)}const Yi=(()=>Promise.resolve(null))();function Qi(t){return t[7]||(t[7]=[])}function Zi(t,e){const n=t[9],r=n?n.get(Or,null):null;r&&r.handleError(e)}function Xi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function to(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=m(i,t):2==o&&(r=m(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const eo=new on("INJECTOR",-1);class no{get(t,e=bn){if(e===bn){const e=new Error(`NullInjectorError: No provider for ${y(t)}!`);throw e.name="NullInjectorError",e}return e}}const ro=new on("Set Injector scope."),io={},oo={},so=[];let ao=void 0;function uo(){return void 0===ao&&(ao=new no),ao}function co(t,e=null,n=null,r){return new lo(t,n,e||uo(),r)}class lo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&cn(e,n=>this.processProvider(n,t,e)),cn([t],t=>this.processInjectorType(t,[],i)),this.records.set(eo,po(void 0,this));const o=this.records.get(ro);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:y(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=bn,n=P.Default){this.assertNotDestroyed();const r=Sn(this);try{if(!(n&P.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof on)&&S(t);e=n&&this.injectableDefInScope(n)?po(ho(t),io):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&P.Self?uo():this.parent).get(t,e=n&P.Optional&&e===bn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(y(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[wn]&&i.unshift(e[wn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=y(e);if(Array.isArray(e))i=e.map(y).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):y(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(_n,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{Sn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(y(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=w(t)))return!1;let r=I(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=I(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{cn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];cn(r,t=>this.processProvider(t,n,r||so))}}this.injectorDefTypes.add(o),this.records.set(o,po(r.factory,io));const a=r.providers;if(null!=a&&!s){const e=t;cn(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=vo(t=w(t))?t:w(t&&t.provide);const i=function(t,e,n){return go(t)?po(void 0,t.useValue):po(fo(t),io)}(t);if(vo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=po(void 0,io,!0),e.factory=()=>Tn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===io&&(e.value=oo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ho(t){const e=S(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;const r=I(t);if(null!==r)return r.factory;if(t instanceof on)throw new Error(`Token ${y(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${y(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[T]||t[A]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function fo(t,e,n){let r=void 0;if(vo(t)){const e=w(t);return bt(e)||ho(e)}if(go(t))r=()=>w(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Tn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>In(w(t.useExisting));else{const e=w(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||ho(e);r=()=>new e(...Tn(t.deps))}var i;return r}function po(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function go(t){return null!==t&&"object"==typeof t&&On in t}function vo(t){return"function"==typeof t}const yo=function(t,e,n){return function(t,e=null,n=null,r){const i=co(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let mo=(()=>{class t{static create(t,e){return Array.isArray(t)?yo(t,e,""):yo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=bn,t.NULL=new no,t.\u0275prov=E({token:t,providedIn:"any",factory:()=>In(eo)}),t.__NG_ELEMENT_ID__=-1,t})();function bo(t,e){me(Ut(t)[1],Yt())}function _o(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(mt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=wo(t.inputs),e.declaredInputs=wo(t.declaredInputs),e.outputs=wo(t.outputs);const n=i.hostBindings;n&&Co(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Oo(t,o),s&&Eo(t,s),v(t.inputs,i.inputs),v(t.declaredInputs,i.declaredInputs),v(t.outputs,i.outputs),mt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===_o&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=je(i.hostAttrs,n=je(n,i.hostAttrs))}}(r)}function wo(t){return t===B?{}:t===G?[]:t}function Oo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Eo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Co(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let So=null;function xo(){if(!So){const t=z.Symbol;if(t&&t.iterator)So=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(So=n)}}}return So}function Io(t){return!!To(t)&&(Array.isArray(t)||!(t instanceof Map)&&xo()in t)}function To(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function jo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ao(t,e,n,r){const i=$t();return jo(i,ne(),e)&&(Wt(),function(t,e,n,r,i,o){const s=Mt(t,e);!function(t,e,n,r,i,o,s){if(null==o)Pt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?wt(o):s(o,r||"",i);Pt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(ye(),i,t,e,n,r)),Ao}function ko(t,e,n,r){return jo(t,ne(),n)?e+wt(n)+r:ai}function Po(t,e,n,r,i,o,s,a){const u=$t(),c=Wt(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=mi(e,t,4,s||null,Ht(c,a));ki(e,n,l,Ht(c,u)),me(e,l);const h=l.tViews=Ii(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Zt(h,!1);const f=u[11].createComment("");Hr(c,u,f,h),Er(f,u),Gi(u,u[l]=qi(f,u,f,h)),yt(h)&&Ci(c,u,h),null!=s&&Si(u,h,a)}function No(t,e=P.Default){const n=$t();return null===n?In(t,e):Be(Yt(),n,w(t),e)}function Ro(t,e,n){const r=$t();return jo(r,ne(),e)&&Ai(Wt(),ye(),r,t,e,r[11],n,!1),Ro}function Do(t,e,n,r,i){const o=i?"class":"style";Xi(t,n,e.inputs[o],o,r)}function Mo(t,e,n,r){const i=$t(),o=Wt(),s=ht+t,a=i[11],u=i[s]=Nr(a,e,Gt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=mi(e,t,2,i,Ht(a,o));return ki(e,n,u,Ht(a,s)),null!==u.attrs&&to(u,u.attrs,!1),null!==u.mergedAttrs&&to(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Zt(c,!0);const l=c.mergedAttrs;null!==l&&xe(a,u,l);const h=c.classes;null!==h&&Jr(a,u,h);const f=c.styles;null!==f&&Wr(a,u,f),64!=(64&c.flags)&&Hr(o,i,u,c),0===Gt.lFrame.elementDepthCount&&Er(u,i),Gt.lFrame.elementDepthCount++,yt(c)&&(Ci(o,i,c),function(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&Si(i,c)}function Vo(){let t=Yt();Xt()?Gt.lFrame.isParent=!1:(t=t.parent,Zt(t,!1));const e=t;Gt.lFrame.elementDepthCount--;const n=Wt();n.firstCreatePass&&(me(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Do(n,e,$t(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Do(n,e,$t(),e.stylesWithoutHost,!1)}function Lo(t,e,n,r){Mo(t,e,n,r),Vo()}function Uo(){return $t()}function Fo(t){return!!t&&"function"==typeof t.then}function qo(t){return!!t&&"function"==typeof t.subscribe}function Ho(t,e,n=!1,r){const i=$t(),o=Wt(),s=Yt();return function(t,e,n,r,i,o,s=!1,a){const u=yt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Qi(e);let h=!0;if(3&r.type){const f=Mt(r,e),d=a?a(f):B,p=d.target||f,g=l.length,v=a?t=>a(Rt(t[r.index])).target:r.index;if(Pt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Bo(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,v,g,g+1)}}else o=Bo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,v,g,s)}else o=Bo(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Ho}function zo(t,e,n){try{return!1!==e(n)}catch(r){return Zi(t,r),!1}}function Bo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Lt(t.index,e):e;0==(32&e[2])&&Ki(s);let a=zo(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=zo(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Go(t=1){return function(t){return(Gt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Gt.lFrame.contextLView))[8]}(t)}function Ko(t,e,n){return $o(t,"",e,"",n),Ko}function $o(t,e,n,r,i){const o=$t(),s=ko(o,e,n,r);return s!==ai&&Ai(Wt(),ye(),o,t,s,o[11],i,!1),$o}const Wo=[];function Jo(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?hi(o):di(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];Yo(t[a],e)&&(u=!0,t[a+1]=r?gi(n):fi(n)),a=r?hi(n):di(n)}u&&(t[n+1]=r?fi(o):gi(o))}function Yo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&pn(t,e)>=0}function Qo(t,e){return function(t,e,n,r){const i=$t(),o=Wt(),s=function(t){const e=Gt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[ge()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Gt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=Xo(n=Zo(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Zo(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==di(r))return t[hi(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=Zo(null,t,e,n[1],r),n=Xo(n,e.attrs,r),function(t,e,n,r){t[hi(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Xo(r,t[o].hostAttrs,true);return Xo(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,a=hi(s),u=di(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||pn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=hi(t[a+1]);t[r+1]=li(e,a),0!==e&&(t[e+1]=pi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=li(a,0),0!==a&&(t[a+1]=pi(t[a+1],r)),a=r;else t[r+1]=li(u,0),0===a?a=r:t[u+1]=pi(t[u+1],r),u=r;l&&(t[r+1]=fi(t[r+1])),Jo(t,c,r,!0),Jo(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&pn(o,e)>=0&&(n[r+1]=gi(n[r+1]))}(e,c,t,r),s=li(a,u),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==ai&&jo(i,s,e)&&function(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];es(1==(1&c)?ts(u,e,n,i,di(c),s):void 0)||(es(o)||function(t){return 2==(2&t)}(c)&&(o=ts(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Pt(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,Dt(ge(),n),i,o))}(o,o.data[ge()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=y(Mn(t))),t}(e),true,s)}(t,e),Qo}function Zo(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Xo(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Xo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),fn(t,s,!!n||e[++o]))}return void 0===t?null:t}function ts(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===ai&&(l=c?Wo:void 0);let h=c?dn(l,r):u===r?l:void 0;if(o&&!es(h)&&(h=dn(e,r)),es(h)&&(a=h,s))return a;const f=t[i+1];i=s?hi(f):di(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=dn(t,r))}return a}function es(t){return void 0!==t}function ns(t,e=""){const n=$t(),r=Wt(),i=t+ht,o=r.firstCreatePass?mi(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return Pt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Hr(r,n,s,o),Zt(o,!1)}function rs(t){return is("",t,""),rs}function is(t,e,n){const r=$t(),i=ko(r,t,e,n);return i!==ai&&function(t,e,n){const r=Dt(e,t);!function(t,e,n){Pt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,ge(),i),is}function os(t,e,n){const r=$t();return jo(r,ne(),e)&&Ai(Wt(),ye(),r,t,e,r[11],n,!0),os}const ss=void 0;var as=["en",[["a","p"],["AM","PM"],ss],[["AM","PM"],ss,ss],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ss,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ss,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ss,"{1} 'at' {0}",ss],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let us={};function cs(t,e,n){"string"!=typeof e&&(n=e,e=t[ps.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),us[e]=t,n&&(us[e][ps.ExtraData]=n)}function ls(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ds(e);if(n)return n;const r=e.split("-")[0];if(n=ds(r),n)return n;if("en"===r)return as;throw new Error(`Missing locale data for the locale "${t}".`)}function hs(t){return ls(t)[ps.CurrencyCode]||null}function fs(t){return ls(t)[ps.PluralCase]}function ds(t){return t in us||(us[t]=z.ng&&z.ng.common&&z.ng.common.locales&&z.ng.common.locales[t]),us[t]}var ps=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const gs="en-US";let vs=gs;function ys(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(vs=t.toLowerCase().replace(/_/g,"-"))}function ms(t,e,n,r,i){if(t=w(t),Array.isArray(t))for(let o=0;o<t.length;o++)ms(t[o],e,n,r,i);else{const o=Wt(),s=$t();let a=vo(t)?t:w(t.provide),u=fo(t);const c=Yt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(vo(t)||!t.multi){const r=new Se(u,i,No),d=ws(a,e,i?l:l+f,h);-1===d?(qe(Ve(c,s),o,a),bs(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=ws(a,e,l+f,h),p=ws(a,e,l,l+f),g=d>=0&&n[d],v=p>=0&&n[p];if(i&&!v||!i&&!g){qe(Ve(c,s),o,a);const l=function(t,e,n,r,i){const o=new Se(t,n,No);return o.multi=[],o.index=e,o.componentProviders=0,_s(o,i,r&&!n),o}(i?Es:Os,n.length,i,r,u);!i&&v&&(n[p].providerFactory=l),bs(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else bs(o,t,d>-1?d:p,_s(n[i?p:d],u,!i&&r));!i&&r&&v&&n[p].componentProviders++}}}function bs(t,e,n,r){const i=vo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function _s(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ws(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Os(t,e,n,r){return Cs(this.multi,[])}function Es(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Je(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Cs(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Cs(i,o);return o}function Cs(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ss(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Wt();if(r.firstCreatePass){const i=mt(t);ms(n,r.data,r.blueprint,i,!0),ms(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class xs{}class Is{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${y(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Ts=(()=>{class t{}return t.NULL=new Is,t})();function js(...t){}function As(t,e){return new Ps(Mt(t,e))}const ks=function(){return As(Yt(),$t())};let Ps=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=ks,t})();class Ns{}let Rs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ds(),t})();const Ds=function(){const t=$t(),e=Lt(Yt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let Ms=(()=>{class t{}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>null}),t})();class Vs{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ls=new Vs("11.0.3");class Us{constructor(){}supports(t){return Io(t)}create(t){return new qs(t)}}const Fs=(t,e)=>e;class qs{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Fs}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Gs(n,r,i)?e:n,s=Gs(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Io(t))throw new Error(`Error trying to diff '${y(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[xo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Hs(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Bs),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Bs),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Hs{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zs{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Bs{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new zs,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Gs(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Ks{constructor(){}supports(t){return t instanceof Map||To(t)}create(){return new $s}}class $s{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||To(t)))throw new Error(`Error trying to diff '${y(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Ws(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ws{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Js=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new mn,new vn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>new t([new Us])}),t})(),Ys=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new mn,new vn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>new t([new Ks])}),t})();function Qs(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Rt(o)),pt(o))for(let t=ft;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&Qs(e[1],e,n,r)}const s=n.type;if(8&s)Qs(t,e,n.child,r);else if(32&s){const t=Ir(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Tr(t);Qs(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class Zs{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return Qs(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Mr(this._lView[1],this._lView)}onDestroy(t){Ti(this._lView[1],this._lView,null,t)}markForCheck(){Ki(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){$i(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ee(!0);try{$i(t,e,n)}finally{ee(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Kr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Xs extends Zs{constructor(t){super(t),this._view=t}detectChanges(){Wi(this._view)}checkNoChanges(){!function(t){ee(!0);try{Wi(t)}finally{ee(!1)}}(this._view)}get context(){return null}}const ta=na;let ea=(()=>{class t{}return t.__NG_ELEMENT_ID__=ta,t.__ChangeDetectorRef__=!0,t})();function na(t=!1){return function(t,e,n){if(!n&&vt(t)){const n=Lt(t.index,e);return new Zs(n,n)}return 47&t.type?new Zs(e[16],e):null}(Yt(),$t(),t)}const ra=[new Ks],ia=new Js([new Us]),oa=new Ys(ra),sa=function(){return la(Yt(),$t())};let aa=(()=>{class t{}return t.__NG_ELEMENT_ID__=sa,t})();const ua=aa,ca=class extends ua{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=yi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),_i(e,n,t),new Zs(n)}};function la(t,e){return 4&t.type?new ca(e,t,As(t,e)):null}class ha{}class fa{}const da=function(){return ba(Yt(),$t())};let pa=(()=>{class t{}return t.__NG_ELEMENT_ID__=da,t})();const ga=pa,va=class extends ga{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return As(this._hostTNode,this._hostLView)}get injector(){return new Ze(this._hostTNode,this._hostLView)}get parentInjector(){const t=Fe(this._hostTNode,this._hostLView);if(ke(t)){const e=Ne(t,this._hostLView),n=Pe(t);return new Ze(e[1].data[n+8],e)}return new Ze(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=ya(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(ha,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new va(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ft+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ft?(e[4]=n[i],ln(n,ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Br(i,o),a=n[11],u=qr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Kr(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(this),ln(ma(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=ya(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Dr(this._lContainer,e);n&&(hn(ma(this._lContainer),e),Mr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Dr(this._lContainer,e);return n&&null!=hn(ma(this._lContainer),e)?new Zs(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function ya(t){return t[8]}function ma(t){return t[8]||(t[8]=[])}function ba(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=Rt(r);else{const n=e[11];i=n.createComment("");const r=Mt(t,e);Lr(n,qr(n,r),i,function(t,e){return Pt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=qi(r,e,i,t),Gi(e,n)}return new va(n,t,e)}const _a={};class wa extends Ts{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new Ca(e,this.ngModule)}}function Oa(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ea=new on("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Cr});class Ca extends xs{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(si).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Oa(this.componentDef.inputs)}get outputs(){return Oa(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,_a,i);return o!==_a||r===_a?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Ns,Nt),s=i.get(Ms,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Pt(t))return t.selectRootElement(e,n===L.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Nr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Cr,clean:Yi,playerHandler:null,flags:0},f=Ii(0,null,null,1,0,null,null,null,null,null),d=yi(null,f,h,l,null,null,o,a,s,i);let p,g;ce(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=mi(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(to(a,u,!0),null!==t&&(xe(i,t,u),null!==a.classes&&Jr(i,t,a.classes),null!==a.styles&&Wr(i,t,a.styles)));const c=r.createRenderer(t,e),l=yi(n,xi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(qe(Ve(a,n),s,e.type),Ri(s,a),Mi(a,n.length,1)),Gi(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)xe(a,c,["ng-version",Ls.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ni(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&xe(a,c,t),e&&e.length>0&&Jr(a,c,e.join(" "))}if(g=Vt(f,ht),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Yt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Vi(t,r,e,bi(t,e,1,null),n));const i=Je(e,t,r.directiveStart,r);Er(i,e);const o=Mt(r,e);return o&&Er(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Yt();e.contentQueries(1,s,t.directiveStart)}const a=Yt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ve(a.index),Pi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ni(e,s)),s}(t,this.componentDef,d,h,[bo]),_i(f,d,null)}finally{pe()}return new Sa(this.componentType,p,As(g,d),d,g)}}class Sa extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Xs(r),this.componentType=t}get injector(){return new Ze(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const xa=new Map;class Ia extends ha{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new wa(this);const n=lt(t),r=t[Y]||null;r&&ys(r),this._bootstrapComponents=Sr(n.bootstrap),this._r3Injector=co(t,e,[{provide:ha,useValue:this},{provide:Ts,useValue:this.componentFactoryResolver}],y(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=mo.THROW_IF_NOT_FOUND,n=P.Default){return t===mo||t===ha||t===eo?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ta extends fa{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${y(e)} vs ${y(e.name)}`)}(i,xa.get(i),n),xa.set(i,n));const o=Sr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Ia(this.moduleType,t)}}const ja=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function Aa(){return this._results[xo()]()}class ka{constructor(){this.dirty=!0,this._results=[],this.changes=new ja,this.length=0;const t=xo(),e=ka.prototype;e[t]||(e[t]=Aa)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=un(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Pa{constructor(t){this.queryList=t,this.matches=null}clone(){return new Pa(this.queryList)}setDirty(){this.queryList.setDirty()}}class Na{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Na(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Ba(t,e).matches&&this.queries[e].setDirty()}}class Ra{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Da{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Da(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ma{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ma(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Va(e,i)),this.matchTNodeWithReadOption(t,e,We(e,t,i,!1,!1))}else n===aa?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,We(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ps||r===pa||r===aa&&4&e.type)this.addMatch(e.index,-2);else{const n=We(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Va(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function La(t,e,n,r){return-1===n?function(t,e){return 11&t.type?As(t,e):4&t.type?la(t,e):null}(e,t):-2===n?function(t,e,n){return n===Ps?As(e,t):n===aa?la(e,t):n===pa?ba(e,t):void 0}(t,e,r):Je(t,t[1],n,e)}function Ua(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:La(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Fa(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Ua(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ft;t<s.length;t++){const e=s[t];e[17]===e[3]&&Fa(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Fa(n[1],n,i,r)}}}}}return r}function qa(t){const e=$t(),n=Wt(),r=oe();se(r+1);const i=Ba(n,r);if(t.dirty&&Ft(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Fa(n,e,r,[]):Ua(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Ha(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new Da),t.queries.track(new Ma(e,n))}(t,new Ra(n,r,false,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new ka;Ti(t,e,n,n.destroy),null===e[19]&&(e[19]=new Na),e[19].queries.push(new Pa(n))}(t,e)}(Wt(),$t(),e,n,r,0,Yt(),t)}function za(){return t=$t(),e=oe(),t[19].queries[e].queryList;var t,e}function Ba(t,e){return t.queries.getByIndex(e)}function Ga(t=P.Default){const e=na(!0);if(null!=e||t&P.Optional)return e;Et("ChangeDetectorRef")}const Ka=new on("Application Initializer");let $a=(()=>{class t{constructor(t){this.appInits=t,this.resolve=js,this.reject=js,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Fo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(In(Ka,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Wa=new on("AppId"),Ja={provide:Wa,useFactory:function(){return`${Ya()}${Ya()}${Ya()}`},deps:[]};function Ya(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Qa=new on("Platform Initializer"),Za=new on("Platform ID"),Xa=new on("appBootstrapListener");let tu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const eu=new on("LocaleId"),nu=new on("DefaultCurrencyCode");class ru{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const iu=function(t){return new Ta(t)},ou=iu,su=function(t){return Promise.resolve(iu(t))},au=function(t){const e=iu(t),n=Sr(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new Ca(n)),t},[]);return new ru(e,n)},uu=au,cu=function(t){return Promise.resolve(au(t))};let lu=(()=>{class t{constructor(){this.compileModuleSync=ou,this.compileModuleAsync=su,this.compileModuleAndAllComponentsSync=uu,this.compileModuleAndAllComponentsAsync=cu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const hu=(()=>Promise.resolve(0))();function fu(t){"undefined"==typeof Zone?hu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class du{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ja(!1),this.onMicrotaskEmpty=new ja(!1),this.onStable=new ja(!1),this.onError=new ja(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=z.requestAnimationFrame,e=z.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(z,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,vu(t),gu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),vu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return yu(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),mu(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return yu(t),e.invoke(r,i,o,s,a)}finally{mu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,vu(t),gu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!du.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(du.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,pu,js,js);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const pu={};function gu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function yu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function mu(t){t._nesting--,gu(t)}class bu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ja,this.onMicrotaskEmpty=new ja,this.onStable=new ja,this.onError=new ja}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let _u=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{du.assertNotInAngularZone(),fu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())fu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(In(du))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})(),wu=(()=>{class t{constructor(){this._applications=new Map,Su.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Su.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();class Ou{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Eu(t){Su=t}let Cu,Su=new Ou;const xu=new on("AllowMultipleToken");class Iu{constructor(t,e){this.name=t,this.token=e}}function Tu(t,e,n=[]){const r="Platform: "+e,i=new on(r);return(e=[])=>{let o=ju();if(!o||o.injector.get(xu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ro,useValue:"platform"});!function(t){if(Cu&&!Cu.destroyed&&!Cu.injector.get(xu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Cu=t.get(Au);const e=t.get(Qa,null);e&&e.forEach(t=>t())}(mo.create({providers:t,name:r}))}return function(t){const e=ju();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function ju(){return Cu&&!Cu.destroyed?Cu:null}let Au=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new bu:("zone.js"===t?void 0:t)||new du({enableLongStackTrace:Kn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:du,useValue:n}];return n.run(()=>{const e=mo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Or,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Nu(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return Fo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get($a);return t.runInitializers(),t.donePromise.then(()=>(ys(i.injector.get(eu,gs)||gs),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=ku({},e);return function(t,e,n){const r=new Ta(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Pu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${y(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(In(mo))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function ku(t,e){return Array.isArray(e)?e.reduce(ku,t):Object.assign(Object.assign({},t),e)}let Pu=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Kn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{du.assertNotInAngularZone(),fu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{du.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof xs?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ha),i=n.create(mo.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(_u,null);return o&&i.injector.get(wu).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Kn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Nu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Xa,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Nu(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(In(du),In(tu),In(mo),In(Or),In(Ts),In($a))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function Nu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Ru{}class Du{}const Mu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Vu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Mu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Lu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Lu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(In(lu),In(Du,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function Lu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Uu=function(t){return null},Fu=Tu(null,"core",[{provide:Za,useValue:"unknown"},{provide:Au,deps:[mo]},{provide:wu,deps:[]},{provide:tu,deps:[]}]),qu=[{provide:Pu,useClass:Pu,deps:[du,tu,mo,Or,Ts,$a]},{provide:Ea,deps:[du],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:$a,useClass:$a,deps:[[new vn,Ka]]},{provide:lu,useClass:lu,deps:[]},Ja,{provide:Js,useFactory:function(){return ia},deps:[]},{provide:Ys,useFactory:function(){return oa},deps:[]},{provide:eu,useFactory:function(t){return ys(t=t||"undefined"!=typeof $localize&&$localize.locale||gs),t},deps:[[new gn(eu),new vn,new mn]]},{provide:nu,useValue:"USD"}];let Hu=(()=>{class t{constructor(t){}}return t.\u0275mod=it({type:t}),t.\u0275inj=C({factory:function(e){return new(e||t)(In(Pu))},providers:qu}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return w}),n.d(e,"f",function(){return i}),n.d(e,"g",function(){return o}),n.d(e,"h",function(){return a}),n.d(e,"i",function(){return l}),n.d(e,"j",function(){return h}),n.d(e,"k",function(){return d}),n.d(e,"l",function(){return p}),n.d(e,"m",function(){return u}),n.d(e,"n",function(){return c}),n.d(e,"o",function(){return f}),n.d(e,"p",function(){return g});var r=n("30Go");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var v=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,y.prototype.create),o}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?m(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new v(i,a,r);return u},t}();function m(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return x}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return m}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return C}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return v}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],v=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},m=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig"),_=new u.O("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.U)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const S={provide:class{},useFactory:w,deps:[m,u.z,[new u.A,b]]};let x=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:m,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=u.Gb({type:t}),t.\u0275inj=u.Fb({factory:function(e){return new(e||t)(u.Pb(u.B))},providers:[S]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return v});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function v(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("30Go"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return u},"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var v=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.d)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}c(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.d)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(s.g)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var d=Object(o.h)(Object.keys(e)),g=d.next();!g.done;g=d.next())e[g.value]._addComponent(a)}catch(v){u={error:v}}finally{try{g&&!g.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.g)(e,t)},createSubscribe:s.e,ErrorFactory:s.b,deepExtend:s.g}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.i)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.n)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var _=v;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyBTJWJC-5nG0BkBmj9vjCuv3QsGjFZGM7A",authDomain:"photocontest-7d8c2.firebaseapp.com",projectId:"photocontest-7d8c2",storageBucket:"photocontest-7d8c2.appspot.com",messagingSenderId:"928025547165",appId:"1:928025547165:web:f609a2b1699562ad249f74",measurementId:"G-GMKT16QBTF"};let o=null;function s(){return o}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Pb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=Object(r.Eb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Pb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function v(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:m,token:t,providedIn:"root"}),t})();function m(t){const e=Object(r.Pb)(a).location;return new _(Object(r.Pb)(u),e&&e.origin||"")}const b=new r.q("appBaseHref");let _=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+v(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+v(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+v(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u),r.Pb(b,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+v(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+v(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u),r.Pb(b,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(C(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+v(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,C(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+v(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+v(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(y),r.Pb(u))},t.normalizeQueryParams=v,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Eb)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new O(Object(r.Pb)(y),Object(r.Pb)(u))}function C(t){return t.replace(/\/index.html$/,"")}var S=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const x=r.lb;class I{}let T=(()=>{class t extends I{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(x(e||this.locale)(t)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class j{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let A=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.U)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new j(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new k(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new k(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K),r.Ib(r.s))},t.\u0275dir=r.Db({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class k{constructor(t,e){this.record=t,this.view=e}}let P=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new N,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){R("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){R("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K))},t.\u0275dir=r.Db({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class N{constructor(){this.$implicit=null,this.ngIf=null}}function R(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}let D=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[{provide:I,useClass:T}]}),t})();function M(t){return"server"===t}let V=(()=>{class t{}return t.\u0275prov=Object(r.Eb)({token:t,providedIn:"root",factory:()=>new L(Object(r.Pb)(a),window,Object(r.Pb)(r.m))}),t})();class L{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=U(this.window.history)||U(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function U(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class F extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new F,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=H||(H=document.querySelector("base"),H)?H.getAttribute("href"):null;return null==e?null:(n=e,q||(q=document.createElement("a")),q.setAttribute("href",n),"/"===q.pathname.charAt(0)?q.pathname:"/"+q.pathname);var n}resetBaseElement(){H=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let q,H=null;const z=new r.q("TRANSITION_ID"),B=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[z,a,r.r],multi:!0}];class G{static init(){Object(r.W)(new G)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const K=new r.q("EventManagerPlugins");let $=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(K),r.Pb(r.z))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class W{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let J=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Y=(()=>{class t extends J{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const Q={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Z=/%COMP%/g;function X(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?X(t,i,n):(i=i.replace(Z,t),n.push(i))}return n}function tt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let et=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new nt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new rt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.Q.ShadowDom:return new it(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=X(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Pb($),r.Pb(Y),r.Pb(r.c))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class nt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Q[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Q[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Q[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.F.DashCase|r.F.Important)?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,tt(n)):this.eventManager.addEventListener(t,e,tt(n))}}class rt extends nt{constructor(t,e,n,r){super(t),this.component=n;const i=X(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Z,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Z,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class it extends nt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=X(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ot=(()=>{class t extends W{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const st=["alt","control","meta","shift"],at={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ut={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ct={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let lt=(()=>{class t extends W{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(st.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ut.hasOwnProperty(e)&&(e=ut[e]))}return at[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),st.forEach(r=>{r!=n&&(0,ct[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const ht=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){F.makeCurrent(),G.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],ft=Object(r.R)(r.V,"browser",ht),dt=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:K,useClass:ot,multi:!0,deps:[a,r.z,r.B]},{provide:K,useClass:lt,multi:!0,deps:[a]},[],{provide:et,useClass:et,deps:[$,Y,r.c]},{provide:r.E,useExisting:et},{provide:J,useExisting:Y},{provide:Y,useClass:Y,deps:[a]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:$,useClass:$,deps:[K,r.z]},[]];let pt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:z,useExisting:r.c},B]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(t,12))},providers:dt,imports:[D,r.f]}),t})();"undefined"!=typeof window&&window;var gt=n("HDdC"),vt=n("LRne"),yt=n("Cfvw"),mt=n("7o/Q"),bt=n("D0XW");class _t{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new wt(t,this.dueTime,this.scheduler))}}class wt extends mt.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Ot,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Ot(t){t.debouncedNext()}var Et=n("lJxs"),Ct=n("pxpQ"),St=n("zx2A");function xt(t,e){return"function"==typeof e?n=>n.pipe(xt((n,r)=>Object(yt.a)(t(n,r)).pipe(Object(Et.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new It(t))}class It{constructor(t){this.project=t}call(t,e){return e.subscribe(new Tt(t,this.project))}}class Tt extends St.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new St.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(St.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var jt=n("spgP"),At=n("zIRd"),kt=n("30Go"),Pt=n("qOnz"),Nt=n("/6Yf"),Rt="firebasestorage.googleapis.com",Dt=function(t){function e(n,r){var i=t.call(this,Ut(n),"Firebase Storage: "+r+" ("+Ut(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(kt.c)(e,t),e.prototype.codeEquals=function(t){return Ut(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(Pt.c),Mt="canceled",Vt="invalid-argument",Lt="unsupported-environment";function Ut(t){return"storage/"+t}function Ft(){return new Dt("unknown","An unknown error occurred, please check the error payload for server response.")}function qt(){return new Dt(Mt,"User canceled the upload/download.")}function Ht(){return new Dt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function zt(t){return new Dt(Vt,t)}function Bt(){return new Dt("app-deleted","The Firebase app was deleted.")}function Gt(t){return new Dt("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Kt(t,e){return new Dt("invalid-format","String does not match format '"+t+"': "+e)}function $t(t){throw new Dt("internal-error","Internal error: "+t)}var Wt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Jt=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function Yt(t,e){switch(t){case Wt.RAW:return new Jt(Qt(e));case Wt.BASE64:case Wt.BASE64URL:return new Jt(Zt(t,e));case Wt.DATA_URL:return new Jt((n=new Xt(e)).base64?Zt(Wt.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(j_){throw Kt(Wt.DATA_URL,"Malformed data URL.")}return Qt(e)}(n.rest),new Xt(e).contentType)}var n;throw Ft()}function Qt(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Zt(t,e){switch(t){case Wt.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw Kt(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Wt.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw Kt(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(j_){throw Kt(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var Xt=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw Kt(Wt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),te="running",ee="pausing",ne="paused",re="success",ie="canceling",oe="canceled",se="error",ae={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ue(t){switch(t){case te:case ee:case ie:return ae.RUNNING;case ne:return ae.PAUSED;case re:return ae.SUCCESS;case oe:return ae.CANCELED;case se:default:return ae.ERROR}}var ce=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),le=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=ce.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=ce.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=ce.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw $t("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw $t("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw $t("cannot .getStatus() before sending");try{return this.xhr_.status}catch(j_){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw $t("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),he=function(){function t(){}return t.prototype.createXhrIo=function(){return new le},t}();function fe(t){return"string"==typeof t||t instanceof String}function de(t){return pe()&&t instanceof Blob}function pe(){return"undefined"!=typeof Blob}function ge(t,e,n,r){if(r<e)throw new Dt(Vt,"Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new Dt(Vt,"Invalid value for '"+t+"'. Expected "+n+" or less.")}function ve(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function ye(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=ve();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(pe())return new Blob(t);throw new Dt(Lt,"This browser doesn't seem to support creating Blobs")}var me=function(){function t(t,e){var n=0,r="";de(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(de(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(pe()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(ye.apply(null,r))}var i=e.map(function(t){return fe(t)?Yt(Wt.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var s=new Uint8Array(o),a=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]}),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),be=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(j_){return new t(e,"")}if(""===n.path)return n;throw new Dt("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var s=Rt.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<a.length;u++){var c=a[u],l=c.regex.exec(e);if(l){var h=l[c.indices.path];h||(h=""),n=new t(l[c.indices.bucket],h),c.postModify(n);break}}if(null==n)throw function(t){return new Dt("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function _e(t){var e,n;try{e=JSON.parse(t)}catch(j_){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function we(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Oe(t){return"https://"+Rt+"/v0"+t}function Ee(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function Ce(t,e){return e}var Se=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Ce}}(),xe=null;function Ie(){if(xe)return xe;var t=[];t.push(new Se("bucket")),t.push(new Se("generation")),t.push(new Se("metageneration")),t.push(new Se("name","fullPath",!0));var e=new Se("name");e.xform=function(t,e){return function(t){return!fe(t)||t.length<2?t:we(t)}(e)},t.push(e);var n=new Se("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new Se("timeCreated")),t.push(new Se("updated")),t.push(new Se("md5Hash",null,!0)),t.push(new Se("cacheControl",null,!0)),t.push(new Se("contentDisposition",null,!0)),t.push(new Se("contentEncoding",null,!0)),t.push(new Se("contentLanguage",null,!0)),t.push(new Se("contentType",null,!0)),t.push(new Se("metadata","customMetadata",!0)),xe=t}function Te(t,e,n){var r=_e(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new be(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function je(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var Ae=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function ke(t){if(!t)throw Ft()}function Pe(t,e){return function(n,r){var i=Te(t,r,e);return ke(null!==i),i}}function Ne(t){return function(e,n){var r;return(r=401===e.getStatus()?new Dt("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new Dt("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new Dt("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function Re(t){var e=Ne(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new Dt("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function De(t,e,n){var r=Oe(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new Ae(r,"GET",Pe(t,n),i);return o.errorHandler=Re(e),o}function Me(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var Ve=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function Le(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(j_){ke(!1)}return ke(!!n&&-1!==(e||["active"]).indexOf(n)),n}var Ue=262144,Fe=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}(),qe=function(){return function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}}();function He(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var ze=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=Ie(),this._resumable=this._shouldDoResumable(this._blob),this._state=te,this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t.codeEquals(Mt)?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition(se))},this._metadataErrorHandler=function(t){r._request=void 0,t.codeEquals(Mt)?r.completeTransitions_():(r._error=t,r._transition(se))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){this._state===te&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage.getAuthToken().then(function(n){switch(e._state){case te:t(n);break;case ie:e._transition(oe);break;case ee:e._transition(ne)}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=Me(e,r,i),a={name:s.fullPath},u=Oe(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=je(s,n),h=new Ae(u,"POST",function(t){var e;Le(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(j_){ke(!1)}return ke(fe(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=Ne(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n){var r=function(t,e,n,r){var i=new Ae(n,"POST",function(t){var e=Le(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(j_){ke(!1)}n||ke(!1);var i=Number(n);return ke(!isNaN(i)),new Ve(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=Ne(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=Ue*this._chunkMultiplier,n=new Ve(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i){var o;try{o=function(t,e,n,r,i,o,s,a){var u=new Ve(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Dt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,h+l);if(null===d)throw Ht();var p=new Ae(n,"POST",function(t,n){var i,s=Le(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?Pe(e,o)(t,n):null,new Ve(a,c,"final"===s,i)},e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=a||null,p.errorHandler=Ne(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(j_){return t._error=j_,void t._transition(se)}var s=t._ref.storage.makeRequest(o,i);t._request=s,s.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition(re)):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){Ue*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e){var n=De(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition(re)},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=Me(e,r,i),c=je(u,n),l=me.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw Ht();var h={name:u.fullPath},f=Oe(o),d=t.maxUploadRetryTime,p=new Ae(f,"POST",Pe(t,n),d);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=Ne(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition(re)},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case ie:case ee:this._state=t,void 0!==this._request&&this._request.cancel();break;case te:var e=this._state===ne;this._state=t,e&&(this._notifyObservers(),this._start());break;case ne:this._state=t,this._notifyObservers();break;case oe:this._error=qt(),this._state=t,this._notifyObservers();break;case se:case re:this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case ee:this._transition(ne);break;case ie:this._transition(oe);break;case te:this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=ue(this._state);return new qe(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new Fe(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(ue(this._state)){case ae.SUCCESS:He(this._resolve.bind(null,this.snapshot))();break;case ae.CANCELED:case ae.ERROR:He(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(ue(this._state)){case ae.RUNNING:case ae.PAUSED:t.next&&He(t.next.bind(t,this.snapshot))();break;case ae.SUCCESS:t.complete&&He(t.complete.bind(t))();break;case ae.CANCELED:case ae.ERROR:t.error&&He(t.error.bind(t,this._error))();break;default:t.error&&He(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t=this._state===ne||this._state===ee;return t&&this._transition(te),t},t.prototype.pause=function(){var t=this._state===te;return t&&this._transition(ee),t},t.prototype.cancel=function(){var t=this._state===te||this._state===ee;return t&&this._transition(ie),t},t}(),Be=function(){function t(t,e){this._service=t,this._location=e instanceof be?e:be.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype.newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new be(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return we(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new be(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw Gt(t)},t}();function Ge(t){var e={prefixes:[],items:[]};return Ke(t,e).then(function(){return e})}function Ke(t,e,n){return Object(kt.b)(this,void 0,void 0,function(){var r,i,o;return Object(kt.d)(this,function(s){switch(s.label){case 0:return[4,$e(t,{pageToken:n})];case 1:return r=s.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,Ke(t,e,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function $e(t,e){return Object(kt.b)(this,void 0,void 0,function(){var n,r,i;return Object(kt.d)(this,function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&ge("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=o.sent(),i=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=Oe(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,u=new Ae(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=_e(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t.makeStorageReference(new be(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t.makeStorageReference(new be(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return ke(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=Ne(e),u}(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[2,t.storage.makeRequest(i,n).getPromise()]}})})}function We(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new be(t._location.bucket,n);return new Be(t.storage,r)}var Je=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),Ye=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new Je(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new Je(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new Je(t,i,i._ref))}:{next:e.next?function(t){return e.next(new Je(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),Qe=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new Ze(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new Ze(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),Ze=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(We(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new Ye(function(t,e,n){return void 0===n&&(n=null),t._throwIfRoot("uploadBytesResumable"),new ze(t,new me(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){return void 0===e&&(e=Wt.RAW),this._throwIfRoot("putString"),new Ye(function(t,e,n,r){void 0===n&&(n=Wt.RAW),t._throwIfRoot("putString");var i=Yt(n,e),o=Object(kt.a)({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new ze(t,new me(i.data,!0),o)}(this._delegate,t,e,n),this)},t.prototype.listAll=function(){var t=this;return Ge(this._delegate).then(function(e){return new Qe(e,t.storage)})},t.prototype.list=function(t){var e=this;return $e(this._delegate,t).then(function(t){return new Qe(t,e.storage)})},t.prototype.getMetadata=function(){return function(t){return Object(kt.b)(this,void 0,void 0,function(){var e,n;return Object(kt.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=De(t.storage,t._location,Ie()),[2,t.storage.makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return Object(kt.b)(this,void 0,void 0,function(){var n,r;return Object(kt.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=Oe(e.fullServerUrl()),o=je(n,r),s=t.maxOperationRetryTime,a=new Ae(i,"PATCH",Pe(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=Re(e),a}(t.storage,t._location,e,Ie()),[2,t.storage.makeRequest(r,n).getPromise()]}})})}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Object(kt.b)(this,void 0,void 0,function(){var e,n;return Object(kt.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=Oe(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new Ae(r,"GET",function(t,e){return function(n,r){var i=Te(t,r,e);return ke(null!==i),function(t,e){var n=_e(e);if(null===n)return null;if(!fe(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map(function(e){var n=t.fullPath;return Oe("/b/"+i(t.bucket)+"/o/"+i(n))+Ee({alt:"media",token:e})})[0]}(i,r)}}(t,n),i);return o.errorHandler=Re(e),o}(t.storage,t._location,Ie()),[2,t.storage.makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new Dt("no-download-url","The given file does not have any download URLs.");return t})]}})})}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Object(kt.b)(this,void 0,void 0,function(){var e,n;return Object(kt.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=Oe(e.fullServerUrl()),r=new Ae(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=Re(e),r}(t.storage,t._location),[2,t.storage.makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw Gt(t)},t}(),Xe=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),tn=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(j_){o(j_)}else null!==s?((r=Ft()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?Bt():qt():new Dt("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new en(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout(function(){o=null,function(e,n){if(n)e(!1,new en(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===ce.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new en(s,n))}else{var a=n.getErrorCode()===ce.ABORT;e(!1,new en(!1,null,a))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())},e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(kt.g)([null,t],e));else{var r;u()||s?l.call.apply(l,Object(kt.g)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout(function(){s=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),en=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function nn(t){return/^[A-Za-z]+:\/\//.test(t)}function rn(t,e){if(t instanceof un){var n=t;if(null==n._bucket)throw new Dt("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Be(n,n._bucket);return null!=e?rn(r,e):r}if(void 0!==e){if(e.includes(".."))throw zt('`path` param cannot contain ".."');return We(t,e)}return t}function on(t,e){if(e&&nn(e)){if(t instanceof un)return new Be(t,e);throw zt("To use ref(service, url), the first argument must be a Storage instance.")}return rn(t,e)}var sn,an,un=function(){function t(t,e,n,r){var i,o;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?be.makeFromBucketSpec(r):null==(o=null==(i=this.app.options)?void 0:i.storageBucket)?null:be.makeFromBucketSpec(o)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){ge("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){ge("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype.getAuthToken=function(){return Object(kt.b)(this,void 0,void 0,function(){var t,e;return Object(kt.d)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype.makeStorageReference=function(t){return new Be(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this._deleted)return new Xe(Bt());var r=function(t,e,n,r){var i=Ee(t.urlParams),o=t.url+i,s=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(s,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==At.a?At.a.SDK_VERSION:"AppManager")}(s),new tn(o,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool);return this._requests.add(r),r.getPromise().then(function(){return n._requests.delete(r)},function(){return n._requests.delete(r)}),r},t}(),cn=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(nn(t))throw zt("ref() expected a child path but got a URL, use refFromURL instead.");return new Ze(on(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!nn(t))throw zt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{be.makeFromUrl(t)}catch(j_){throw zt("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ze(on(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function ln(t){const e=function(t){return new gt.a(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(function(t,e=bt.a){return n=>n.lift(new _t(t,e))}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(Et.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function hn(t,e,n){return{getDownloadURL:()=>Object(vt.a)(void 0).pipe(Object(Ct.b)(e.outsideAngular),xt(()=>t.getDownloadURL()),n),getMetadata:()=>Object(vt.a)(void 0).pipe(Object(Ct.b)(e.outsideAngular),xt(()=>t.getMetadata()),n),delete:()=>Object(yt.a)(t.delete()),child:r=>hn(t.child(r),e,n),updateMetadata:e=>Object(yt.a)(t.updateMetadata(e)),put:(e,n)=>ln(t.put(e,n)),putString:(e,n,r)=>ln(t.putString(e,n,r)),listAll:()=>Object(yt.a)(t.listAll())}}an={TaskState:ae,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:Wt,Storage:un,Reference:Ze},(sn=At.a).INTERNAL.registerComponent(new Nt.a("storage",function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new cn(n,new un(n,r,new he,e))},"PUBLIC").setServiceProps(an).setMultipleInstances(!0)),sn.registerVersion("@firebase/storage","0.4.2");const fn=new r.q("angularfire2.storageBucket"),dn=new r.q("angularfire2.storage.maxUploadRetryTime"),pn=new r.q("angularfire2.storage.maxOperationRetryTime");let gn=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new jt.d(i),this.keepUnstableUntilFirst=Object(jt.h)(this.schedulers);const a=Object(jt.g)(t,i,e);this.storage=Object(jt.f)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return o&&t.setMaxUploadRetryTime(o),s&&t.setMaxOperationRetryTime(s),t},[o,s])}ref(t){return hn(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return hn(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return hn(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(jt.c),r.Pb(jt.b,8),r.Pb(fn,8),r.Pb(r.B),r.Pb(r.z),r.Pb(dn,8),r.Pb(pn,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(jt.c),Object(r.Pb)(jt.b,8),Object(r.Pb)(fn,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(dn,8),Object(r.Pb)(pn,8))},token:t,providedIn:"any"}),t})(),vn=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)}}),t})(),yn=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[gn],imports:[vn]}),t})();var mn=n("XNiG"),bn=n("9ppp");class _n extends mn.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new bn.a;return this._value}next(t){super.next(this._value=t)}}var wn=n("z+Ro"),On=n("DH7j");class En extends mt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Cn extends mt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Sn=n("SeVD");function xn(t,e,n,r,i=new Cn(t,n,r)){if(!i.closed)return e instanceof gt.a?e.subscribe(i):Object(Sn.a)(e)(i)}var In=n("yCtX");const Tn={};class jn{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new An(t,this.resultSelector))}}class An extends En{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Tn),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(xn(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Tn?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const kn=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Pn=n("EY2u");function Nn(t){return new gt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(yt.a)(n):Object(Pn.b)()).subscribe(e)})}var Rn=n("bHdf");function Dn(){return Object(Rn.a)(1)}function Mn(t,e){return function(n){return n.lift(new Vn(t,e))}}class Vn{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Ln(t,this.predicate,this.thisArg))}}class Ln extends mt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Un=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Fn(t){return function(e){return 0===t?Object(Pn.b)():e.lift(new qn(t))}}class qn{constructor(t){if(this.total=t,this.total<0)throw new Un}call(t,e){return e.subscribe(new Hn(t,this.total))}}class Hn extends mt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function zn(t=Kn){return e=>e.lift(new Bn(t))}class Bn{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Gn(t,this.errorFactory))}}class Gn extends mt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(j_){t=j_}this.destination.error(t)}}}function Kn(){return new kn}function $n(t=null){return e=>e.lift(new Wn(t))}class Wn{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Jn(t,this.defaultValue))}}class Jn extends mt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Yn=n("SpAZ");function Qn(t){return e=>0===t?Object(Pn.b)():e.lift(new Zn(t))}class Zn{constructor(t){if(this.total=t,this.total<0)throw new Un}call(t,e){return e.subscribe(new Xn(t,this.total))}}class Xn extends mt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function tr(...t){return Dn()(Object(vt.a)(...t))}function er(...t){const e=t[t.length-1];return Object(wn.a)(e)?(t.pop(),n=>tr(t,n,e)):e=>tr(t,e)}function nr(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new rr(t,e,n))}}class rr{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new ir(t,this.accumulator,this.seed,this.hasSeed))}}class ir extends mt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function or(t){return function(e){const n=new sr(t),r=e.lift(n);return n.caught=r}}class sr{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ar(t,this.selector,this.caught))}}class ar extends St.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new St.a(this);this.add(r);const i=Object(St.c)(n,r);i!==r&&this.add(i)}}}var ur=n("5+tZ");function cr(t,e){return Object(ur.a)(t,e,1)}function lr(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Mn((e,n)=>t(e,n,r)):Yn.a,Qn(1),n?$n(e):zn(()=>new kn))}var hr=n("vkgz"),fr=n("quSY");function dr(t){return e=>e.lift(new pr(t))}class pr{constructor(t){this.callback=t}call(t,e){return e.subscribe(new gr(t,this.callback))}}class gr extends mt.a{constructor(t,e){super(t),this.add(new fr.a(e))}}class vr{constructor(t,e){this.id=t,this.url=e}}class yr extends vr{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class mr extends vr{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class br extends vr{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _r extends vr{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wr extends vr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Or extends vr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Er extends vr{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Cr extends vr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sr extends vr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xr{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ir{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Tr{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jr{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ar{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kr{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pr{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Nr="primary";class Rr{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Dr(t){return new Rr(t)}function Mr(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Vr(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Lr(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Ur(t[i],e[i]))return!1;return!0}function Ur(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Fr(t){return Array.prototype.concat.apply([],t)}function qr(t){return t.length>0?t[t.length-1]:null}function Hr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function zr(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(yt.a)(Promise.resolve(t)):Object(vt.a)(t)}function Br(t,e,n){return n?function(t,e){return Lr(t,e)}(t.queryParams,e.queryParams)&&Gr(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Ur(t[n],e[n]))}(t.queryParams,e.queryParams)&&Kr(t.root,e.root)}function Gr(t,e){if(!Qr(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Gr(t.children[n],e.children[n]))return!1}return!0}function Kr(t,e){return $r(t,e,e.segments)}function $r(t,e,n){if(t.segments.length>n.length)return!!Qr(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Qr(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Kr(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Qr(t.segments,r)&&!!t.children.primary&&$r(t.children.primary,e,i)}}class Wr{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dr(this.queryParams)),this._queryParamMap}toString(){return ei.serialize(this)}}class Jr{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Hr(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ni(this)}}class Yr{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Dr(this.parameters)),this._parameterMap}toString(){return ci(this)}}function Qr(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Zr(t,e){let n=[];return Hr(t.children,(t,r)=>{r===Nr&&(n=n.concat(e(t,r)))}),Hr(t.children,(t,r)=>{r!==Nr&&(n=n.concat(e(t,r)))}),n}class Xr{}class ti{parse(t){const e=new pi(t);return new Wr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+ri(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${oi(e)}=${oi(t)}`).join("&"):`${oi(e)}=${oi(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const ei=new ti;function ni(t){return t.segments.map(t=>ci(t)).join("/")}function ri(t,e){if(!t.hasChildren())return ni(t);if(e){const e=t.children.primary?ri(t.children.primary,!1):"",n=[];return Hr(t.children,(t,e)=>{e!==Nr&&n.push(`${e}:${ri(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=Zr(t,(e,n)=>n===Nr?[ri(t.children.primary,!1)]:[`${n}:${ri(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${ni(t)}/${e[0]}`:`${ni(t)}/(${e.join("//")})`}}function ii(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function oi(t){return ii(t).replace(/%3B/gi,";")}function si(t){return ii(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ai(t){return decodeURIComponent(t)}function ui(t){return ai(t.replace(/\+/g,"%20"))}function ci(t){return`${si(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${si(t)}=${si(e[t])}`).join("")}`;var e}const li=/^[^\/()?;=#]+/;function hi(t){const e=t.match(li);return e?e[0]:""}const fi=/^[^=?&#]+/,di=/^[^?&#]+/;class pi{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jr([],{}):new Jr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Jr(t,e)),n}parseSegment(){const t=hi(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Yr(ai(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=hi(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=hi(this.remaining);t&&(n=t,this.capture(n))}t[ai(e)]=ai(n)}parseQueryParam(t){const e=function(t){const e=t.match(fi);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(di);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=ui(e),i=ui(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=hi(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Nr);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Jr([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class gi{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=vi(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=vi(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=yi(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return yi(t,this._root).map(t=>t.value)}}function vi(t,e){if(t===e.value)return e;for(const n of e.children){const e=vi(t,n);if(e)return e}return null}function yi(t,e){if(t===e.value)return[e];for(const n of e.children){const r=yi(t,n);if(r.length)return r.unshift(e),r}return[]}class mi{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function bi(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class _i extends gi{constructor(t,e){super(t),this.snapshot=e,xi(this,t)}toString(){return this.snapshot.toString()}}function wi(t,e){const n=function(t,e){const n=new Ci([],{},{},"",{},Nr,e,null,t.root,-1,{});return new Si("",new mi(n,[]))}(t,e),r=new _n([new Yr("",{})]),i=new _n({}),o=new _n({}),s=new _n({}),a=new _n(""),u=new Oi(r,i,s,a,o,Nr,e,n.root);return u.snapshot=n.root,new _i(new mi(u,[]),n)}class Oi{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Et.a)(t=>Dr(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Et.a)(t=>Dr(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ei(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ci{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Dr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Si extends gi{constructor(t,e){super(e),this.url=t,xi(this,e)}toString(){return Ii(this._root)}}function xi(t,e){e.value._routerState=t,e.children.forEach(e=>xi(t,e))}function Ii(t){const e=t.children.length>0?` { ${t.children.map(Ii).join(", ")} } `:"";return`${t.value}${e}`}function Ti(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Lr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Lr(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Lr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Lr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ji(t,e){return Lr(t.params,e.params)&&function(t,e){return Qr(t,e)&&t.every((t,n)=>Lr(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||ji(t.parent,e.parent))}function Ai(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Ai(t,e,r);return Ai(t,e)})}(t,e,n);return new mi(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return ki(e,t),t}{const n=new Oi(new _n((r=e.value).url),new _n(r.params),new _n(r.queryParams),new _n(r.fragment),new _n(r.data),r.outlet,r.component,r),i=e.children.map(e=>Ai(t,e));return new mi(n,i)}}var r}function ki(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)ki(t.children[n],e.children[n])}function Pi(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ni(t){return"object"==typeof t&&null!=t&&t.outlets}function Ri(t,e,n,r,i){let o={};return r&&Hr(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Wr(n.root===t?e:Di(n.root,t,e),o,i)}function Di(t,e,n){const r={};return Hr(t.children,(t,i)=>{r[i]=t===e?n:Di(t,e,n)}),new Jr(t.segments,r)}class Mi{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Pi(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Ni);if(r&&r!==qr(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vi{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Li(t,e,n){if(t||(t=new Jr([],{})),0===t.segments.length&&t.hasChildren())return Ui(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Ni(s))break;const a=""+s,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!zi(a,u,e))return o;r+=2}else{if(!zi(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Jr(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Jr(t.segments.slice(r.pathIndex),t.children),Ui(e,0,i)}return r.match&&0===i.length?new Jr(t.segments,{}):r.match&&!t.hasChildren()?Fi(t,e,n):r.match?Ui(t,0,i):Fi(t,e,n)}function Ui(t,e,n){if(0===n.length)return new Jr(t.segments,{});{const r=function(t){return Ni(t[0])?t[0].outlets:{[Nr]:t}}(n),i={};return Hr(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Li(t.children[r],e,n))}),Hr(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Jr(t.segments,i)}}function Fi(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Ni(o)){const t=qi(o.outlets);return new Jr(r,t)}if(0===i&&Pi(n[0])){r.push(new Yr(t.segments[e].path,n[0])),i++;continue}const s=Ni(o)?o.outlets.primary:""+o,a=i<n.length-1?n[i+1]:null;s&&a&&Pi(a)?(r.push(new Yr(s,Hi(a))),i+=2):(r.push(new Yr(s,{})),i++)}return new Jr(r,{})}function qi(t){const e={};return Hr(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Fi(new Jr([],{}),0,t))}),e}function Hi(t){const e={};return Hr(t,(t,n)=>e[n]=""+t),e}function zi(t,e,n){return t==n.path&&Lr(e,n.parameters)}class Bi{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Ti(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=bi(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Hr(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=bi(t),i=t.value.component?n.children:e;Hr(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=bi(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new kr(t.value.snapshot))}),t.children.length&&this.forwardEvent(new jr(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Ti(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Gi(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Gi(t){Ti(t.value),t.children.forEach(Gi)}class Ki{constructor(t,e){this.routes=t,this.module=e}}function $i(t){return"function"==typeof t}function Wi(t){return t instanceof Wr}const Ji=Symbol("INITIAL_VALUE");function Yi(){return xt(t=>function(...t){let e=void 0,n=void 0;return Object(wn.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(On.a)(t[0])&&(t=t[0]),Object(In.a)(t,n).lift(new jn(e))}(...t.map(t=>t.pipe(Qn(1),er(Ji)))).pipe(nr((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Ji)return t;if(r===Ji&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Wi(r))return r}return t},t)},Ji),Mn(t=>t!==Ji),Object(Et.a)(t=>Wi(t)?t:!0===t),Qn(1)))}let Qi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Jb(0,"router-outlet")},directives:function(){return[Ho]},encapsulation:2}),t})();function Zi(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Xi(r,to(e,r))}}function Xi(t,e){t.children&&Zi(t.children,e)}function to(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function eo(t){const e=t.children&&t.children.map(eo),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Nr&&(n.component=Qi),n}function no(t){return t.outlet||Nr}class ro{constructor(t){this.segmentGroup=t||null}}class io{constructor(t){this.urlTree=t}}function oo(t){return new gt.a(e=>e.error(new ro(t)))}function so(t){return new gt.a(e=>e.error(new io(t)))}function ao(t){return new gt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class uo{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Nr).pipe(Object(Et.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(or(t=>{if(t instanceof io)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof ro)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Nr).pipe(Object(Et.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(or(t=>{if(t instanceof ro)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Jr([],{[Nr]:t}):t;return new Wr(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Et.a)(t=>new Jr([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(vt.a)({});const n=[],r=[],i={};return Hr(t,(t,o)=>{const s=e(o,t).pipe(Object(Et.a)(t=>i[o]=t));o===Nr?n.push(s):r.push(s)}),vt.a.apply(null,n.concat(r)).pipe(Dn(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Mn((e,n)=>t(e,n,r)):Yn.a,Fn(1),n?$n(e):zn(()=>new kn))}(),Object(Et.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){const s=function(t){return t.reduce((t,e)=>{const n=no(e);return t.has(n)?t.get(n).push(e):t.set(n,[e]),t},new Map)}(n);s.has(i)||s.set(i,[]);const a=n=>Object(yt.a)(n).pipe(cr(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(or(t=>{if(t instanceof ro)return Object(vt.a)(null);throw t}))),lr(t=>null!==t),or(t=>{if(t instanceof kn||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(vt.a)(new Jr([],{}));throw new ro(e)}throw t})),u=Array.from(s.entries()).map(([t,e])=>{const n=a(e);return t===i?n:n.pipe(Object(Et.a)(()=>null),or(()=>Object(vt.a)(null)))});return Object(yt.a)(u).pipe(t=>t.lift(new jn(void 0)),lr(),Object(Et.a)(t=>t.find(t=>null!==t)))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return no(r)!==o&&""!==r.path?oo(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):oo(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?so(i):this.lineralizeSegments(n,i).pipe(Object(ur.a)(n=>{const i=new Jr(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=co(e,r,i);if(!s)return oo(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?so(l):this.lineralizeSegments(r,l).pipe(Object(ur.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Et.a)(t=>(n._loadedConfig=t,new Jr(r,{})))):Object(vt.a)(new Jr(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=co(e,n,r);if(!i)return oo(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(ur.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>ho(t,e,n)&&no(n)!==Nr)}(t,n,r)?{segmentGroup:lo(new Jr(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&no(r)!==Nr&&(n[no(r)]=new Jr([],{}));return n}(r,new Jr(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>ho(t,e,n))}(t,n,r)?{segmentGroup:lo(new Jr(t.segments,function(t,e,n,r){const i={};for(const o of n)ho(t,e,o)&&!r[no(o)]&&(i[no(o)]=new Jr([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(Et.a)(t=>new Jr(o,t))):0===r.length&&0===s.length?Object(vt.a)(new Jr(o,{})):this.expandSegment(n,i,r,s,Nr,!0).pipe(Object(Et.a)(t=>new Jr(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(vt.a)(new Ki(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(vt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(ur.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Et.a)(t=>(e._loadedConfig=t,t))):function(t){return new gt.a(e=>e.error(Mr(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(vt.a)(new Ki([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(vt.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&$i(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!$i(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return zr(o)});return Object(vt.a)(i).pipe(Yi(),Object(hr.a)(t=>{if(!Wi(t))return;const e=Mr(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Et.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(vt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return ao(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Wr(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Hr(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Hr(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Jr(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function co(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Vr)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function lo(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Jr(t.segments.concat(e.segments),e.children)}return t}function ho(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}class fo{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class po{constructor(t,e){this.component=t,this.route=e}}function go(t,e,n){const r=t._root;return yo(r,e?e._root:null,n,[r.value])}function vo(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function yo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=bi(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Qr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Qr(t.url,e.url)||!Lr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ji(t,e)||!Lr(t.queryParams,e.queryParams);case"paramsChange":default:return!ji(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new fo(r)):(o.data=s.data,o._resolvedData=s._resolvedData),yo(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new po(a.outlet.component,s))}else s&&mo(e,a,i),i.canActivateChecks.push(new fo(r)),yo(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Hr(o,(t,e)=>mo(t,n.getContext(e),i)),i}function mo(t,e,n){const r=bi(t),i=t.value;Hr(r,(t,r)=>{mo(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new po(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function bo(t,e){return null!==t&&e&&e(new Ar(t)),Object(vt.a)(!0)}function _o(t,e){return null!==t&&e&&e(new Tr(t)),Object(vt.a)(!0)}function wo(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(vt.a)(!0);const i=r.map(r=>Nn(()=>{const i=vo(r,e,n);let o;if(function(t){return t&&$i(t.canActivate)}(i))o=zr(i.canActivate(e,t));else{if(!$i(i))throw new Error("Invalid CanActivate guard");o=zr(i(e,t))}return o.pipe(lr())}));return Object(vt.a)(i).pipe(Yi())}function Oo(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Nn(()=>{const i=e.guards.map(i=>{const o=vo(i,e.node,n);let s;if(function(t){return t&&$i(t.canActivateChild)}(o))s=zr(o.canActivateChild(r,t));else{if(!$i(o))throw new Error("Invalid CanActivateChild guard");s=zr(o(r,t))}return s.pipe(lr())});return Object(vt.a)(i).pipe(Yi())}));return Object(vt.a)(i).pipe(Yi())}class Eo{}class Co{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Io(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Nr),n=new Ci([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Nr,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new mi(n,e),i=new Si(this.url,r);return this.inheritParamsAndData(i._root),Object(vt.a)(i)}catch(j_){return new gt.a(e=>e.error(j_))}}inheritParamsAndData(t){const e=t.value,n=Ei(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Zr(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===Nr?-1:e.value.outlet===Nr?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(j_){if(!(j_ instanceof Eo))throw j_}if(this.noLeftoversInUrl(e,n,r))return[];throw new Eo}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Eo;if((t.outlet||Nr)!==r)throw new Eo;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?qr(n).parameters:{};i=new Ci(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jo(t),r,t.component,t,So(e),xo(e)+n.length,Ao(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Eo;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Vr)(n,t,e);if(!r)throw new Eo;const i={};Hr(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new Ci(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jo(t),r,t.component,t,So(e),xo(e)+o.length,Ao(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Io(e,o,s,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new mi(i,t)]}if(0===a.length&&0===c.length)return[new mi(i,[])];const l=this.processSegment(a,u,c,Nr);return[new mi(i,l)]}}function So(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function xo(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Io(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>To(t,e,n)&&no(n)!==Nr)}(t,n,r)){const i=new Jr(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&no(o)!==Nr){const n=new Jr([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[no(o)]=n}return i}(t,e,r,new Jr(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>To(t,e,n))}(t,n,r)){const o=new Jr(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(To(t,n,a)&&!i[no(a)]){const n=new Jr([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[no(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Jr(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function To(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function jo(t){return t.data||{}}function Ao(t){return t.resolve||{}}function ko(t){return function(e){return e.pipe(xt(e=>{const n=t(e);return n?Object(yt.a)(n).pipe(Object(Et.a)(()=>e)):Object(yt.a)([e])}))}}class Po extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const No=new r.q("ROUTES");class Ro{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Et.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Ki(Fr(r.injector.get(No)).map(eo),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(yt.a)(this.loader.load(t)):zr(t()).pipe(Object(ur.a)(t=>t instanceof r.v?Object(vt.a)(t):Object(yt.a)(this.compiler.compileModuleAsync(t))))}}class Do{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Mo,this.attachRef=null}}class Mo{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Do,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Vo{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Lo(t){throw t}function Uo(t,e,n){return e.parse("/")}function Fo(t,e){return Object(vt.a)(null)}let qo=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new mn.a,this.errorHandler=Lo,this.malformedUriErrorHandler=Uo,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Fo,afterPreactivation:Fo},this.urlHandlingStrategy=new Vo,this.routeReuseStrategy=new Po,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.x),this.console=o.get(r.X);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new Wr(new Jr([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ro(s,a,t=>this.triggerEvent(new xr(t)),t=>this.triggerEvent(new Ir(t))),this.routerState=wi(this.currentUrlTree,this.rootComponentType),this.transitions=new _n({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Mn(t=>0!==t.id),Object(Et.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),xt(t=>{let n=!1,r=!1;return Object(vt.a)(t).pipe(Object(hr.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),xt(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(vt.a)(t).pipe(xt(t=>{const n=this.transitions.getValue();return e.next(new yr(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Pn.a:[t]}),xt(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(xt(t=>function(t,e,n,r,i){return new uo(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Et.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(hr.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(ur.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new Co(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Et.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(hr.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(hr.a)(t=>{const n=new wr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new yr(n,this.serializeUrl(r),i,o);e.next(a);const u=wi(r,this.rootComponentType).snapshot;return Object(vt.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Pn.a}),ko(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(hr.a)(t=>{const e=new Or(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Et.a)(t=>Object.assign(Object.assign({},t),{guards:go(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(ur.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(vt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(yt.a)(t).pipe(Object(ur.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(vt.a)(!0);const s=o.map(o=>{const s=vo(o,e,i);let a;if(function(t){return t&&$i(t.canDeactivate)}(s))a=zr(s.canDeactivate(t,e,n,r));else{if(!$i(s))throw new Error("Invalid CanDeactivate guard");a=zr(s(t,e,n,r))}return a.pipe(lr())});return Object(vt.a)(s).pipe(Yi())}(t.component,t.route,n,e,r)),lr(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(ur.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(yt.a)(e).pipe(cr(e=>Object(yt.a)([_o(e.route.parent,r),bo(e.route,r),Oo(t,e.path,n),wo(t,e.route,n)]).pipe(Dn(),lr(t=>!0!==t,!0))),lr(t=>!0!==t,!0))}(r,o,t,e):Object(vt.a)(n)),Object(Et.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(hr.a)(t=>{if(Wi(t.guardsResult)){const e=Mr(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(hr.a)(t=>{const e=new Er(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Mn(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new br(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),ko(t=>{if(t.guards.canActivateChecks.length)return Object(vt.a)(t).pipe(Object(hr.a)(t=>{const e=new Cr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),xt(t=>{let n=!1;return Object(vt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(ur.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(vt.a)(t);let o=0;return Object(yt.a)(n).pipe(cr(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(vt.a)({});const o={};return Object(yt.a)(i).pipe(Object(ur.a)(i=>function(t,e,n,r){const i=vo(t,e,r);return zr(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(hr.a)(t=>{o[i]=t}))),Fn(1),Object(ur.a)(()=>Object.keys(o).length===i.length?Object(vt.a)(o):Pn.a))}(t._resolve,t,e,r).pipe(Object(Et.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Ei(t,n).resolve),null)))}(t.route,e,r,i)),Object(hr.a)(()=>o++),Fn(1),Object(ur.a)(e=>o===n.length?Object(vt.a)(t):Pn.a))}))}),Object(hr.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new br(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(hr.a)(t=>{const e=new Sr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),ko(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Et.a)(t=>{const e=function(t,e,n){const r=Ai(t,e._root,n?n._root:void 0);return new _i(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(hr.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,o=this.routeReuseStrategy,s=t=>this.triggerEvent(t),Object(Et.a)(t=>(new Bi(o,t.targetRouterState,t.currentRouterState,s).activate(i),t))),Object(hr.a)({next(){n=!0},complete(){n=!0}}),dr(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new br(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),or(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Wi(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new br(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new _r(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Yh){t.reject(Yh)}}var i;return Pn.a}));var i,o,s}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Zi(t),this.config=t.map(eo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Ri(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Mi(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Hr(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Mi(n,e,r)}(n);if(o.toRoot())return Ri(e.root,new Jr([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Vi(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Vi(t,t===e.root,0)}const r=Pi(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Vi(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Ui(s.segmentGroup,s.index,o.commands):Li(s.segmentGroup,s.index,o.commands);return Ri(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Wi(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(j_){e=this.malformedUriErrorHandler(j_,this.urlSerializer,t)}return e}isActive(t,e){if(Wi(t))return Br(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Br(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new mr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.M),r.Pb(Xr),r.Pb(Mo),r.Pb(O),r.Pb(r.r),r.Pb(r.w),r.Pb(r.i),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Ho=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Nr,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new zo(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Mo),r.Ib(r.P),r.Ib(r.j),r.Qb("name"),r.Ib(r.h))},t.\u0275dir=r.Db({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class zo{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Oi?this.route:t===Mo?this.childContexts:this.parent.get(t,e)}}class Bo{}class Go{preload(t,e){return Object(vt.a)(null)}}let Ko=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Ro(e,n,e=>t.triggerEvent(new xr(e)),e=>t.triggerEvent(new Ir(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Mn(t=>t instanceof mr),cr(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(yt.a)(n).pipe(Object(Rn.a)(),Object(Et.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(ur.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(qo),r.Pb(r.w),r.Pb(r.i),r.Pb(r.r),r.Pb(Bo))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),$o=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof yr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof mr&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Pr&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Pr(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(qo),r.Pb(V),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const Wo=new r.q("ROUTER_CONFIGURATION"),Jo=new r.q("ROUTER_FORROOT_GUARD"),Yo=[O,{provide:Xr,useClass:ti},{provide:qo,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new qo(null,t,e,n,r,i,o,Fr(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[Xr,Mo,O,r.r,r.w,r.i,No,Wo,[class{},new r.A],[class{},new r.A]]},Mo,{provide:Oi,useFactory:function(t){return t.routerState.root},deps:[qo]},{provide:r.w,useClass:r.J},Ko,Go,class{preload(t,e){return e().pipe(or(()=>Object(vt.a)(null)))}},{provide:Wo,useValue:{enableTracing:!1}}];function Qo(){return new r.y("Router",qo)}let Zo=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Yo,ns(e),{provide:Jo,useFactory:es,deps:[[qo,new r.A,new r.I]]},{provide:Wo,useValue:n||{}},{provide:y,useFactory:ts,deps:[u,[new r.p(b),new r.A],Wo]},{provide:$o,useFactory:Xo,deps:[qo,V,Wo]},{provide:Bo,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Go},{provide:r.y,multi:!0,useFactory:Qo},[rs,{provide:r.d,multi:!0,useFactory:is,deps:[rs]},{provide:ss,useFactory:os,deps:[rs]},{provide:r.b,multi:!0,useExisting:ss}]]}}static forChild(e){return{ngModule:t,providers:[ns(e)]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(Jo,8),r.Pb(qo,8))}}),t})();function Xo(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new $o(t,e,n)}function ts(t,e,n={}){return n.useHash?new w(t,e):new _(t,e)}function es(t){return"guarded"}function ns(t){return[{provide:r.a,multi:!0,useValue:t},{provide:No,multi:!0,useValue:t}]}let rs=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new mn.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(qo),r=this.injector.get(Wo);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(vt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Wo),n=this.injector.get(Ko),i=this.injector.get($o),o=this.injector.get(qo),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.r))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();function is(t){return t.appInitializer.bind(t)}function os(t){return t.bootstrapListener.bind(t)}const ss=new r.q("Router Initializer");let as=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&r.Jb(0,"router-outlet")},directives:[Ho],styles:[""]}),t})();function us(){return t=>t.lift(new cs)}class cs{call(t,e){return e.subscribe(new ls(t))}}class ls extends mt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class hs{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new fs(t,this.compare,this.keySelector))}}class fs extends mt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var ds=n("Jgta"),ps=n("q/0M"),gs=function(t,e){return(gs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function vs(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var ys,ms="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},bs=bs||{},_s=ms||self;function ws(){}function Os(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Es(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Cs="closure_uid_"+(1e9*Math.random()>>>0),Ss=0;function xs(t,e,n){return t.call.apply(t.bind,arguments)}function Is(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ts(t,e,n){return(Ts=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xs:Is).apply(null,arguments)}function js(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function As(){return Date.now()}function ks(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Ps(){this.j=this.j,this.i=this.i}Ps.prototype.j=!1,Ps.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Cs)&&t[Cs]||(t[Cs]=++Ss)}(this)},Ps.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Ns=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Rs=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Ds(t){return Array.prototype.concat.apply([],arguments)}function Ms(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Vs(t){return/^[\s\xa0]*$/.test(t)}var Ls,Us=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Fs(t,e){return-1!=t.indexOf(e)}function qs(t,e){return t<e?-1:t>e?1:0}t:{var Hs=_s.navigator;if(Hs){var zs=Hs.userAgent;if(zs){Ls=zs;break t}}Ls=""}function Bs(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Gs(t){var e={};for(var n in t)e[n]=t[n];return e}var Ks="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $s(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Ks.length;o++)n=Ks[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ws(t){return Ws[" "](t),t}Ws[" "]=ws;var Js,Ys,Qs=Fs(Ls,"Opera"),Zs=Fs(Ls,"Trident")||Fs(Ls,"MSIE"),Xs=Fs(Ls,"Edge"),ta=Xs||Zs,ea=Fs(Ls,"Gecko")&&!(Fs(Ls.toLowerCase(),"webkit")&&!Fs(Ls,"Edge"))&&!(Fs(Ls,"Trident")||Fs(Ls,"MSIE"))&&!Fs(Ls,"Edge"),na=Fs(Ls.toLowerCase(),"webkit")&&!Fs(Ls,"Edge");function ra(){var t=_s.document;return t?t.documentMode:void 0}t:{var ia="",oa=(Ys=Ls,ea?/rv:([^\);]+)(\)|;)/.exec(Ys):Xs?/Edge\/([\d\.]+)/.exec(Ys):Zs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ys):na?/WebKit\/(\S+)/.exec(Ys):Qs?/(?:Version)[ \/]?(\S+)/.exec(Ys):void 0);if(oa&&(ia=oa?oa[1]:""),Zs){var sa=ra();if(null!=sa&&sa>parseFloat(ia)){Js=String(sa);break t}}Js=ia}var aa={};function ua(t){return function(t,e){var n=aa;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Us(String(Js)).split("."),r=Us(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=qs(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||qs(0==s[2].length,0==a[2].length)||qs(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var ca=_s.document&&Zs&&(ra()||parseInt(Js,10))||void 0,la=!Zs||9<=Number(ca),ha=Zs&&!ua("9"),fa=function(){if(!_s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{_s.addEventListener("test",ws,e),_s.removeEventListener("test",ws,e)}catch(n){}return t}();function da(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function pa(t,e){if(da.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ea){t:{try{Ws(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ga[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}da.prototype.b=function(){this.defaultPrevented=!0},ks(pa,da);var ga={2:"touch",3:"pen",4:"mouse"};pa.prototype.b=function(){pa.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ha)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var va="closure_listenable_"+(1e6*Math.random()|0),ya=0;function ma(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++ya,this.Y=this.Z=!1}function ba(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function _a(t){this.src=t,this.a={},this.b=0}function wa(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Ns(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ba(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Oa(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}_a.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Oa(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new ma(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Ea="closure_lm_"+(1e6*Math.random()|0),Ca={};function Sa(t,e,n,r,i){if(r&&r.once)return Ia(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Sa(t,e[o],n,r,i);return null}return n=Da(n),t&&t[va]?t.va(e,n,Es(r)?!!r.capture:!!r,i):xa(t,e,n,!1,r,i)}function xa(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Es(i)?!!i.capture:!!i;if(s&&!la)return null;var a=Na(t);if(a||(t[Ea]=a=new _a(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Pa,e=la?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)fa||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Aa(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ia(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ia(t,e[o],n,r,i);return null}return n=Da(n),t&&t[va]?t.wa(e,n,Es(r)?!!r.capture:!!r,i):xa(t,e,n,!0,r,i)}function Ta(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Ta(t,e[o],n,r,i);else r=Es(r)?!!r.capture:!!r,n=Da(n),t&&t[va]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Oa(o=t.a[e],n,r,i))&&(ba(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Na(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Oa(e,n,r,i)),(n=-1<t?e[t]:null)&&ja(n))}function ja(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[va])wa(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Aa(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Na(e))?(wa(n,t),0==n.b&&(n.src=null,e[Ea]=null)):ba(t)}}}function Aa(t){return t in Ca?Ca[t]:Ca[t]="on"+t}function ka(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&ja(t),n.call(r,e)}function Pa(t,e){if(t.Y)return!0;if(!la){if(!e)t:{e=["window","event"];for(var n=_s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return ka(t,e=new pa(e,this))}return ka(t,new pa(e,this))}function Na(t){return(t=t[Ea])instanceof _a?t:null}var Ra="__closure_events_fn_"+(1e9*Math.random()>>>0);function Da(t){return"function"==typeof t?t:(t[Ra]||(t[Ra]=function(e){return t.handleEvent(e)}),t[Ra])}function Ma(){Ps.call(this),this.c=new _a(this),this.J=this,this.C=null}function Va(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new da(e,t);else if(e instanceof da)e.target=e.target||t;else{var i=e;$s(e=new da(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=La(s,r,!0,e)&&i}if(i=La(s=e.a=t,r,!0,e)&&i,i=La(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=La(s=e.a=n[o],r,!1,e)&&i}function La(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&wa(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}ks(Ma,Ps),Ma.prototype[va]=!0,(ys=Ma.prototype).addEventListener=function(t,e,n,r){Sa(this,t,e,n,r)},ys.removeEventListener=function(t,e,n,r){Ta(this,t,e,n,r)},ys.G=function(){if(Ma.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ba(n[r]);delete e.a[t],e.b--}}this.C=null},ys.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},ys.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ua=_s.JSON.stringify;function Fa(){this.b=this.a=null}var qa,Ha=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Ba},function(t){t.reset()});function za(){var t=Wa,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ba(){this.next=this.b=this.a=null}function Ga(t){_s.setTimeout(function(){throw t},0)}function Ka(t,e){qa||function(){var t=_s.Promise.resolve(void 0);qa=function(){t.then(Ja)}}(),$a||(qa(),$a=!0),Wa.add(t,e)}Fa.prototype.add=function(t,e){var n=Ha.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ba.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ba.prototype.reset=function(){this.next=this.b=this.a=null};var $a=!1,Wa=new Fa;function Ja(){for(var t;t=za();){try{t.a.call(t.b)}catch(n){Ga(n)}var e=Ha;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}$a=!1}function Ya(t,e){Ma.call(this),this.b=t||1,this.a=e||_s,this.f=Ts(this.Za,this),this.g=As()}function Qa(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Za(t,e,n){if("function"==typeof t)n&&(t=Ts(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ts(t.handleEvent,t)}return 2147483647<Number(e)?-1:_s.setTimeout(t,e||0)}function Xa(t){t.a=Za(function(){t.a=null,t.c&&(t.c=!1,Xa(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}ks(Ya,Ma),(ys=Ya.prototype).aa=!1,ys.M=null,ys.Za=function(){if(this.aa){var t=As()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Va(this,"tick"),this.aa&&(Qa(this),this.start()))}},ys.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=As())},ys.G=function(){Ya.X.G.call(this),Qa(this),delete this.a};var tu=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}gs(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Xa(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(_s.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Ps);function eu(t){Ps.call(this),this.b=t,this.a={}}ks(eu,Ps);var nu=[];function ru(t,e,n,r){Array.isArray(n)||(n&&(nu[0]=n.toString()),n=nu);for(var i=0;i<n.length;i++){var o=Sa(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function iu(t){Bs(t.a,function(t,e){this.a.hasOwnProperty(e)&&ja(t)},t),t.a={}}function ou(){this.a=!0}function su(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ua(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}eu.prototype.G=function(){eu.X.G.call(this),iu(this)},eu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ou.prototype.info=function(){};var au={},uu=null;function cu(){return uu=uu||new Ma}function lu(t){da.call(this,au.Fa,t)}function hu(t){var e=cu();Va(e,new lu(e,t))}function fu(t,e){da.call(this,au.STAT_EVENT,t),this.stat=e}function du(t){var e=cu();Va(e,new fu(e,t))}function pu(t){da.call(this,au.Ga,t)}function gu(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return _s.setTimeout(function(){t()},e)}au.Fa="serverreachability",ks(lu,da),au.STAT_EVENT="statevent",ks(fu,da),au.Ga="timingevent",ks(pu,da);var vu={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},yu={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function mu(){}function bu(){}mu.prototype.a=null;var _u,wu={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Ou(){da.call(this,"d")}function Eu(){da.call(this,"c")}function Cu(){}function Su(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new eu(this),this.P=xu,this.R=new Ya(t=ta?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}ks(Ou,da),ks(Eu,da),ks(Cu,mu),_u=new Cu;var xu=45e3,Iu={},Tu={};function ju(t,e,n){t.H=1,t.i=Qu(Gu(e)),t.j=n,t.I=!0,Au(t,null)}function Au(t,e){t.u=As(),Nu(t),t.l=Gu(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),lc(n.b,"t",r),t.D=0,t.a=il(t.g,t.g.C?e:null),0<t.O&&(t.F=new tu(Ts(t.Ca,t,t.a),t.O)),ru(t.J,t.a,"readystatechange",t.Xa),e=t.B?Gs(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),hu(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function ku(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Pu(t,n);if(i==Tu){4==e&&(t.h=4,du(14),r=!1),su(t.c,t.f,null,"[Incomplete Response]");break}if(i==Iu){t.h=4,du(15),su(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}su(t.c,t.f,i,null),Lu(t,i)}4==e&&0==n.length&&(t.h=1,du(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yc(e),e.F=!0,du(11))):(su(t.c,t.f,n,"[Invalid Chunked Response]"),Vu(t),Mu(t))}function Pu(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Tu:(n=Number(e.substring(n,r)),isNaN(n)?Iu:(r+=1)+n>e.length?Tu:(e=e.substr(r,n),t.D=r+n,e))}function Nu(t){t.T=As()+t.P,Ru(t,t.P)}function Ru(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=gu(Ts(t.Va,t),e)}function Du(t){t.o&&(_s.clearTimeout(t.o),t.o=null)}function Mu(t){0==t.g.v||t.A||Xc(t.g,t)}function Vu(t){Du(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Qa(t.R),iu(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Lu(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||yc(n.b,t)))if(n.I=t.N,!t.C&&yc(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Hb){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Zc(n),qc(n)}Jc(n),du(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=gu(Ts(n.Sa,n),6e3));if(1>=vc(n.b)&&n.ea){try{n.ea()}catch(Hb){}n.ea=void 0}}else el(n,11)}else if((t.C||n.a==t)&&Zc(n),!Vs(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Fs(l,"spdy")||Fs(l,"quic")||Fs(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(mc(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Yu(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=As()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=rl(u,u.C?u.ga:null,u.fa),d.C){bc(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(Du(p),Nu(p)),u.a=d}else Wc(u);0<n.g.length&&Bc(n)}else"stop"!=i[0]&&"close"!=i[0]||el(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?el(n,7):Fc(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);hu(4)}catch(Hb){}}function Uu(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Os(t)||"string"==typeof t)Rs(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Os(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Os(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Fu(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Fu)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function qu(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Hu(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Hu(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Hu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(ys=Su.prototype).setTimeout=function(t){this.P=t},ys.Xa=function(t){t=t.target;var e=this.F;e&&3==Mc(t)?e.f():this.Ca(t)},ys.Ca=function(t){try{if(t==this.a)t:{var e=Mc(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!ta&&!this.a.$())){this.A||4!=e||7==n||hu(8==n||0>=r?3:2),Du(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vs(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,du(12),Vu(this),Mu(this);break t}su(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Lu(this,u)}this.I?(ku(this,e,o),ta&&this.b&&3==e&&(ru(this.J,this.R,"tick",this.Wa),this.R.start())):(su(this.c,this.f,o,null),Lu(this,o)),4==e&&Vu(this),this.b&&!this.A&&(4==e?Xc(this.g,this):(this.b=!1,Nu(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,du(12)):(this.h=0,du(13)),Vu(this),Mu(this)}}}catch(c){}},ys.Wa=function(){if(this.a){var t=Mc(this.a),e=this.a.$();this.D<e.length&&(Du(this),ku(this,t,e),this.b&&4!=t&&Nu(this))}},ys.cancel=function(){this.A=!0,Vu(this)},ys.Va=function(){this.o=null;var t=As();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(hu(3),du(17)),Vu(this),this.h=2,Mu(this)):Ru(this,this.T-t)},(ys=Fu.prototype).K=function(){qu(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},ys.L=function(){return qu(this),this.a.concat()},ys.get=function(t,e){return Hu(this.b,t)?this.b[t]:e},ys.set=function(t,e){Hu(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},ys.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var zu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Bu(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Bu){this.a=void 0!==e?e:t.a,Ku(this,t.f),this.j=t.j,$u(this,t.c),Wu(this,t.h),this.g=t.g,e=t.b;var n=new sc;n.c=e.c,e.a&&(n.a=new Fu(e.a),n.b=e.b),Ju(this,n),this.i=t.i}else t&&(n=String(t).match(zu))?(this.a=!!e,Ku(this,n[1]||"",!0),this.j=Zu(n[2]||""),$u(this,n[3]||"",!0),Wu(this,n[4]),this.g=Zu(n[5]||"",!0),Ju(this,n[6]||"",!0),this.i=Zu(n[7]||"")):(this.a=!!e,this.b=new sc(null,this.a))}function Gu(t){return new Bu(t)}function Ku(t,e,n){t.f=n?Zu(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function $u(t,e,n){t.c=n?Zu(e,!0):e}function Wu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ju(t,e,n){e instanceof sc?(t.b=e,function(t,e){e&&!t.f&&(ac(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(uc(this,e),lc(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Xu(e,ic)),t.b=new sc(e,t.a))}function Yu(t,e,n){t.b.set(e,n)}function Qu(t){return Yu(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^As()).toString(36)),t}function Zu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Xu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,tc),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function tc(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Bu.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Xu(e,ec,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Xu(e,ec,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Xu(n,"/"==n.charAt(0)?rc:nc,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Xu(n,oc)),t.join("")};var ec=/[#\/\?@]/g,nc=/[#\?:]/g,rc=/[#\?]/g,ic=/[#\?@]/g,oc=/#/g;function sc(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ac(t){t.a||(t.a=new Fu,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function uc(t,e){ac(t),e=hc(t,e),Hu(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Hu((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&qu(t)))}function cc(t,e){return ac(t),e=hc(t,e),Hu(t.a.b,e)}function lc(t,e,n){uc(t,e),0<n.length&&(t.c=null,t.a.set(hc(t,e),Ms(n)),t.b+=n.length)}function hc(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(ys=sc.prototype).add=function(t,e){ac(this),this.c=null,t=hc(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},ys.forEach=function(t,e){ac(this),this.a.forEach(function(n,r){Rs(n,function(n){t.call(e,n,r,this)},this)},this)},ys.L=function(){ac(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},ys.K=function(t){ac(this);var e=[];if("string"==typeof t)cc(this,t)&&(e=Ds(e,this.a.get(hc(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Ds(e,t[n])}return e},ys.set=function(t,e){return ac(this),this.c=null,cc(this,t=hc(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},ys.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},ys.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var fc=function(){return function(t,e){this.b=t,this.a=e}}();function dc(t){this.g=t||pc,t=_s.PerformanceNavigationTiming?0<(t=_s.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(_s.ia&&_s.ia.ya&&_s.ia.ya()&&_s.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var pc=10;function gc(t){return!!t.b||!!t.a&&t.a.size>=t.f}function vc(t){return t.b?1:t.a?t.a.size:0}function yc(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function mc(t,e){t.a?t.a.add(e):t.b=e}function bc(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function _c(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=vs(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Ms(t.c)}function wc(){}function Oc(){this.a=new wc}function Ec(t,e,n){var r=n||"";try{Uu(t,function(t,n){var i=t;Es(t)&&(i=Ua(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(j_){throw e.push(r+"type="+encodeURIComponent("_badmap")),j_}}function Cc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}dc.prototype.cancel=function(){var t,e;if(this.c=_c(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=vs(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},wc.prototype.stringify=function(t){return _s.JSON.stringify(t,void 0)},wc.prototype.parse=function(t){return _s.JSON.parse(t,void 0)};var Sc=_s.JSON.parse;function xc(t){Ma.call(this),this.headers=new Fu,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Ic,this.D=this.F=!1}ks(xc,Ma);var Ic="",Tc=/^https?$/i,jc=["POST","PUT"];function Ac(t){return"content-type"==t.toLowerCase()}function kc(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Pc(t),Rc(t)}function Pc(t){t.u||(t.u=!0,Va(t,"complete"),Va(t,"error"))}function Nc(t){if(t.b&&void 0!==bs&&(!t.s[1]||4!=Mc(t)||2!=t.W()))if(t.l&&4==Mc(t))Za(t.za,0,t);else if(Va(t,"readystatechange"),4==Mc(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(zu)[1]||null;if(!o&&_s.self&&_s.self.location){var s=_s.self.location.protocol;o=s.substr(0,s.length-1)}i=!Tc.test(o?o.toLowerCase():"")}e=i}if(e)Va(t,"complete"),Va(t,"success");else{t.h=6;try{var a=2<Mc(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Pc(t)}}finally{Rc(t)}}}function Rc(t,e){if(t.a){Dc(t);var n=t.a,r=t.s[0]?ws:null;t.a=null,t.s=null,e||Va(t,"ready");try{n.onreadystatechange=r}catch(j_){}}}function Dc(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(_s.clearTimeout(t.m),t.m=null)}function Mc(t){return t.a?t.a.readyState:0}function Vc(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Bs(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Yu(t,e,n))}function Lc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Uc(t){this.pa=0,this.g=[],this.c=new ou,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Lc("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Lc("baseRetryDelayMs",5e3,t),this.Ra=Lc("retryDelaySeedMs",1e4,t),this.Ma=Lc("forwardChannelMaxRetries",2,t),this.ma=Lc("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new dc(t&&t.concurrentRequestLimit),this.ka=new Oc,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Fc(t){if(Hc(t),3==t.v){var e=t.R++,n=Gu(t.B);Yu(n,"SID",t.J),Yu(n,"RID",e),Yu(n,"TYPE","terminate"),Kc(t,n),(e=new Su(t,t.c,e,void 0)).H=2,e.i=Qu(Gu(n)),n=!1,_s.navigator&&_s.navigator.sendBeacon&&(n=_s.navigator.sendBeacon(e.i.toString(),"")),!n&&_s.Image&&((new Image).src=e.i,n=!0),n||(e.a=il(e.g,null),e.a.ba(e.i)),e.u=As(),Nu(e)}nl(t)}function qc(t){t.a&&(Yc(t),t.a.cancel(),t.a=null)}function Hc(t){qc(t),t.j&&(_s.clearTimeout(t.j),t.j=null),Zc(t),t.b.cancel(),t.h&&("number"==typeof t.h&&_s.clearTimeout(t.h),t.h=null)}function zc(t,e){t.g.push(new fc(t.Oa++,e)),3==t.v&&Bc(t)}function Bc(t){gc(t.b)||t.h||(t.h=!0,Ka(t.Ba,t),t.u=0)}function Gc(t,e){var n;n=e?e.f:t.R++;var r=Gu(t.B);Yu(r,"SID",t.J),Yu(r,"RID",n),Yu(r,"AID",t.P),Kc(t,r),t.i&&t.l&&Vc(r,t.i,t.l),n=new Su(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=$c(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),mc(t.b,n),ju(n,r,e)}function Kc(t,e){t.f&&Uu({},function(t,n){Yu(e,n,t)})}function $c(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Ts(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Ec(l,s,"req"+c+"_")}catch(Ul){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Wc(t){t.a||t.j||(t.T=1,Ka(t.Aa,t),t.o=0)}function Jc(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=gu(Ts(t.Aa,t),tl(t,t.o)),t.o++,0))}function Yc(t){null!=t.s&&(_s.clearTimeout(t.s),t.s=null)}function Qc(t){t.a=new Su(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Gu(t.la);Yu(e,"RID","rpc"),Yu(e,"SID",t.J),Yu(e,"CI",t.H?"0":"1"),Yu(e,"AID",t.P),Kc(t,e),Yu(e,"TYPE","xmlhttp"),t.i&&t.l&&Vc(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Qu(Gu(e)),n.j=null,n.I=!0,Au(n,t)}function Zc(t){null!=t.m&&(_s.clearTimeout(t.m),t.m=null)}function Xc(t,e){var n=null;if(t.a==e){Zc(t),Yc(t),t.a=null;var r=2}else{if(!yc(t.b,e))return;n=e.s,bc(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=As()-e.u;var i=t.u;Va(r=cu(),new pu(r,n,e,i)),Bc(t)}else Wc(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(vc(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=gu(Ts(t.Ba,t,e),tl(t,t.u)),t.u++,0)))}(t,e)||2==r&&Jc(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:el(t,5);break;case 4:el(t,10);break;case 3:el(t,6);break;default:el(t,2)}}function tl(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function el(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Ts(t.Ya,t);n||(n=new Bu("//www.google.com/images/cleardot.gif"),_s.location&&"http"==_s.location.protocol||Ku(n,"https"),Qu(n)),function(t,e){var n=new ou;if(_s.Image){var r=new Image;r.onload=js(Cc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=js(Cc,n,r,"TestLoadImage: error",!1,e),r.onabort=js(Cc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=js(Cc,n,r,"TestLoadImage: timeout",!1,e),_s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else du(2);t.v=0,t.f&&t.f.ra(e),nl(t),Hc(t)}function nl(t){t.v=0,t.I=-1,t.f&&(0==_c(t.b).length&&0==t.g.length||(t.b.c.length=0,Ms(t.g),t.g.length=0),t.f.qa())}function rl(t,e,n){var r=function(t){return t instanceof Bu?Gu(t):new Bu(t,void 0)}(n);if(""!=r.c)e&&$u(r,e+"."+r.c),Wu(r,r.h);else{var i=_s.location;r=function(t,e,n,r){var i=new Bu(null,void 0);return t&&Ku(i,t),e&&$u(i,e),n&&Wu(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Bs(t.V,function(t,e){Yu(r,e,t)}),n=t.na,(e=t.A)&&n&&Yu(r,e,n),Yu(r,"VER",t.ha),Kc(t,r),r}function il(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new xc(t.Na)).F=t.C,e}function ol(){}function sl(){if(Zs&&!(10<=Number(ca)))throw Error("Environmental error: no available transport.")}function al(t,e){Ma.call(this),this.a=new Uc(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Vs(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Vs(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new ll(this)}function ul(t){Ou.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function cl(){Eu.call(this),this.status=1}function ll(t){this.a=t}(ys=xc.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:_u),this.a.onreadystatechange=Ts(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void kc(this,o)}t=n||"";var i=new Fu(this.headers);r&&Uu(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Ac,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=_s.FormData&&t instanceof _s.FormData,!(0<=Ns(jc,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Dc(this),0<this.o&&((this.D=function(t){return Zs&&ua(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Ts(this.xa,this)):this.m=Za(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){kc(this,o)}},ys.xa=function(){void 0!==bs&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Va(this,"timeout"),this.abort(8))},ys.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Va(this,"complete"),Va(this,"abort"),Rc(this))},ys.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Rc(this,!0)),xc.X.G.call(this)},ys.za=function(){this.j||(this.A||this.l||this.g?Nc(this):this.Ua())},ys.Ua=function(){Nc(this)},ys.W=function(){try{return 2<Mc(this)?this.a.status:-1}catch(Ys){return-1}},ys.$=function(){try{return this.a?this.a.responseText:""}catch(Ys){return""}},ys.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Sc(e)}},ys.ua=function(){return this.h},ys.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(ys=Uc.prototype).ha=8,ys.v=1,ys.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Su(this,this.c,t,void 0),r=this.l;if(this.O&&(r?$s(r=Gs(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=$c(this,n,e),Yu(i=Gu(this.B),"RID",t),Yu(i,"CVER",22),this.A&&Yu(i,"X-HTTP-Session-Id",this.A),Kc(this,i),this.i&&r&&Vc(i,this.i,r),mc(this.b,n),this.Ia&&Yu(i,"TYPE","init"),this.da?(Yu(i,"$req",e),Yu(i,"SID","null"),n.U=!0,ju(n,i,null)):ju(n,i,e),this.v=2}}else 3==this.v&&(t?Gc(this,t):0==this.g.length||gc(this.b)||Gc(this))},ys.Aa=function(){if(this.j=null,Qc(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=gu(Ts(this.Ta,this),t)}},ys.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,du(10),qc(this),Qc(this))},ys.Sa=function(){null!=this.m&&(this.m=null,qc(this),Jc(this),du(19))},ys.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),du(2)):(this.c.info("Failed to ping google.com"),du(1))},(ys=ol.prototype).ta=function(){},ys.sa=function(){},ys.ra=function(){},ys.qa=function(){},ys.Ja=function(){},sl.prototype.a=function(t,e){return new al(t,e)},ks(al,Ma),al.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;du(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=rl(t,null,t.fa),Bc(t)},al.prototype.close=function(){Fc(this.a)},al.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,zc(this.a,e)}else this.l?((e={}).__data__=Ua(t),zc(this.a,e)):zc(this.a,t)},al.prototype.G=function(){this.a.f=null,delete this.f,Fc(this.a),delete this.a,al.X.G.call(this)},ks(ul,Ou),ks(cl,Eu),ks(ll,ol),ll.prototype.ta=function(){Va(this.a,"a")},ll.prototype.sa=function(t){Va(this.a,new ul(t))},ll.prototype.ra=function(t){Va(this.a,new cl(t))},ll.prototype.qa=function(){Va(this.a,"b")},sl.prototype.createWebChannel=sl.prototype.a,al.prototype.send=al.prototype.h,al.prototype.open=al.prototype.g,al.prototype.close=al.prototype.close,vu.NO_ERROR=0,vu.TIMEOUT=8,vu.HTTP_ERROR=6,yu.COMPLETE="complete",bu.EventType=wu,wu.OPEN="a",wu.CLOSE="b",wu.ERROR="c",wu.MESSAGE="d",Ma.prototype.listen=Ma.prototype.va,xc.prototype.listenOnce=xc.prototype.wa,xc.prototype.getLastError=xc.prototype.Qa,xc.prototype.getLastErrorCode=xc.prototype.ua,xc.prototype.getStatus=xc.prototype.W,xc.prototype.getResponseJson=xc.prototype.Pa,xc.prototype.getResponseText=xc.prototype.$,xc.prototype.send=xc.prototype.ba;var hl=vu,fl=yu,dl=au,pl=bu,gl=xc,vl=new ps.b("@firebase/firestore");function yl(){return vl.logLevel}function ml(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(vl.logLevel<=ps.a.DEBUG){var r=e.map(wl);vl.debug.apply(vl,Object(kt.g)(["Firestore (8.2.1): "+t],r))}}function bl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(vl.logLevel<=ps.a.ERROR){var r=e.map(wl);vl.error.apply(vl,Object(kt.g)(["Firestore (8.2.1): "+t],r))}}function _l(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(vl.logLevel<=ps.a.WARN){var r=e.map(wl);vl.warn.apply(vl,Object(kt.g)(["Firestore (8.2.1): "+t],r))}}function wl(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(j_){return t}}function Ol(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.1) INTERNAL ASSERTION FAILED: "+t;throw bl(e),new Error(e)}function El(t,e){t||Ol()}function Cl(t,e){return t}function Sl(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var xl=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Sl(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Il(t,e){return t<e?-1:t>e?1:0}function Tl(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function jl(t){return t+"\0"}var Al=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return Il(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();Al.h=new Al("");var kl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Pl=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(kt.c)(e,t),e}(Error),Nl=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(Al.fromBase64String(e))}catch(e){throw new Pl(kl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Al.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),Rl=function(t){this._=t};function Dl(){if("undefined"==typeof Uint8Array)throw new Pl(kl.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ml(){if("undefined"==typeof atob)throw new Pl(kl.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Vl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(kt.c)(e,t),e.fromBase64String=function(t){return Ml(),new e(Nl.fromBase64String(t))},e.fromUint8Array=function(t){return Dl(),new e(Nl.fromUint8Array(t))},e.prototype.toBase64=function(){return Ml(),this._.toBase64()},e.prototype.toUint8Array=function(){return Dl(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Rl),Ll=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},Ul=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Fl=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Fl.UNAUTHENTICATED=new Fl(null),Fl.P=new Fl("google-credentials-uid"),Fl.g=new Fl("first-party-uid");var ql=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},Hl=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(Fl.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),zl=function(){function t(t){var e=this;this.C=null,this.currentUser=Fl.UNAUTHENTICATED,this.N=!1,this.F=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.F++,e.currentUser=e.O(),e.N=!0,e.p&&e.p(e.currentUser)},this.F=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then(function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.F,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.F!==e?(ml("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(El("string"==typeof n.accessToken),new ql(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.O=function(){var t=this.auth&&this.auth.getUid();return El(null===t||"string"==typeof t),new Fl(t)},t}(),Bl=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=Fl.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Gl=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new Bl(this.k,this.M))},t.prototype.S=function(t){t(Fl.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),Kl=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();Kl.U=-1;var $l=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Pl(kl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Pl(kl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Pl(kl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Pl(kl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?Il(this.nanoseconds,t.nanoseconds):Il(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Wl=function(){function t(t){this.timestamp=t}return t.W=function(e){return new t(e)},t.min=function(){return new t(new $l(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.j=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),Jl=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ol(),void 0===n?n=t.length-e:n>t.length-e&&Ol(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Yl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(kt.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Pl(kl.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.at=function(){return new e([])},e}(Jl),Ql=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Zl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(kt.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return Ql.test(t)},e.prototype.ot=function(){return this.rt().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Pl(kl.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Pl(kl.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Pl(kl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Pl(kl.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(Jl),Xl=function(){function t(t){this.path=t}return t.ft=function(e){return new t(Yl.ct(e))},t.dt=function(e){return new t(Yl.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Yl.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return Yl.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new Yl(e.slice()))},t}();function th(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function eh(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nh(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var rh=function(){function t(t){this.fields=t,t.sort(Zl.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return Tl(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),ih=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oh(t){if(El(!!t),"string"==typeof t){var e=0,n=ih.exec(t);if(El(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:sh(t.seconds),nanos:sh(t.nanos)}}function sh(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ah(t){return"string"==typeof t?Al.fromBase64String(t):Al.fromUint8Array(t)}function uh(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ch(t){var e=t.mapValue.fields.__previous_value__;return uh(e)?ch(e):e}function lh(t){var e=oh(t.mapValue.fields.__local_write_time__.timestampValue);return new $l(e.seconds,e.nanos)}function hh(t){return null==t}function fh(t){return 0===t&&1/t==-1/0}function dh(t){return"number"==typeof t&&Number.isInteger(t)&&!fh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function ph(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?uh(t)?4:10:Ol()}function gh(t,e){var n=ph(t);if(n!==ph(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return lh(t).isEqual(lh(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=oh(t.timestampValue),r=oh(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ah(t.bytesValue).isEqual(ah(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return sh(t.geoPointValue.latitude)===sh(e.geoPointValue.latitude)&&sh(t.geoPointValue.longitude)===sh(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return sh(t.integerValue)===sh(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=sh(t.doubleValue),r=sh(e.doubleValue);return n===r?fh(n)===fh(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Tl(t.arrayValue.values||[],e.arrayValue.values||[],gh);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(th(n)!==th(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!gh(n[i],r[i])))return!1;return!0}(t,e);default:return Ol()}}function vh(t,e){return void 0!==(t.values||[]).find(function(t){return gh(t,e)})}function yh(t,e){var n=ph(t),r=ph(e);if(n!==r)return Il(n,r);switch(n){case 0:return 0;case 1:return Il(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=sh(t.integerValue||t.doubleValue),r=sh(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return mh(t.timestampValue,e.timestampValue);case 4:return mh(lh(t),lh(e));case 5:return Il(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ah(t),r=ah(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Il(n[i],r[i]);if(0!==o)return o}return Il(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Il(sh(t.latitude),sh(e.latitude));return 0!==n?n:Il(sh(t.longitude),sh(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=yh(n[i],r[i]);if(o)return o}return Il(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Il(r[s],o[s]);if(0!==a)return a;var u=yh(n[r[s]],i[o[s]]);if(0!==u)return u}return Il(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Ol()}}function mh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Il(t,e);var n=oh(t),r=oh(e),i=Il(n.seconds,r.seconds);return 0!==i?i:Il(n.nanos,r.nanos)}function bh(t){return _h(t)}function _h(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=oh(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ah(t.bytesValue).toBase64():"referenceValue"in t?Xl.dt(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=_h(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+_h(t.fields[o])}return e+"}"}(t.mapValue):Ol();var e}function wh(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function Oh(t){return!!t&&"integerValue"in t}function Eh(t){return!!t&&"arrayValue"in t}function Ch(t){return!!t&&"nullValue"in t}function Sh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xh(t){return!!t&&"mapValue"in t}var Ih=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!xh(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return gh(this.proto,t.proto)},t}(),Th=function(){function t(t){void 0===t&&(t=Ih.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===ph(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(Zl.at(),this.Rt);return null!=t?new Ih(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=xh(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.gt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function jh(t){var e=[];return eh(t.fields||{},function(t,n){var r=new Zl([t]);if(xh(n)){var i=jh(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new rh(e)}var Ah=function(t,e){this.key=t,this.version=e},kh=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Vt=r,o.bt=!!i.bt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(kt.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Ah),Ph=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(kt.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ah),Nh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(kt.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ah),Rh=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.St=null};function Dh(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Rh(t,e,n,r,i,o,s)}function Mh(t){var e=Cl(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.ot()+t.op.toString()+bh(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.ot()+t.dir}(t)}).join(","),hh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Jh(e.startAt)),e.endAt&&(n+="|ub:",n+=Jh(e.endAt)),e.St=n}return e.St}function Vh(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Qh(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!gh(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Xh(t.startAt,e.startAt)&&Xh(t.endAt,e.endAt)}function Lh(t){return Xl.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Uh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(kt.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new Fh(t,n,r):"array-contains"===n?new Bh(t,r):"in"===n?new Gh(t,r):"not-in"===n?new Kh(t,r):"array-contains-any"===n?new $h(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new qh(t,n):new Hh(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(yh(e,this.value)):null!==e&&ph(this.value)===ph(e)&&this.Ct(yh(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ol()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Fh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Xl.dt(r.referenceValue),i}return Object(kt.c)(e,t),e.prototype.matches=function(t){var e=Xl.J(t.key,this.key);return this.Ct(e)},e}(Uh),qh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=zh(0,n),r}return Object(kt.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Uh),Hh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=zh(0,n),r}return Object(kt.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Uh);function zh(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Xl.dt(t.referenceValue)})}var Bh=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(kt.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Eh(e)&&vh(e.arrayValue,this.value)},e}(Uh),Gh=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(kt.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&vh(this.value.arrayValue,e)},e}(Uh),Kh=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(kt.c)(e,t),e.prototype.matches=function(t){if(vh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!vh(this.value.arrayValue,e)},e}(Uh),$h=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(kt.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Eh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return vh(e.value.arrayValue,t)})},e}(Uh),Wh=function(t,e){this.position=t,this.before=e};function Jh(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return bh(t)}).join(",")}var Yh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Qh(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Zh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ht()?Xl.J(Xl.dt(s.referenceValue),n.key):yh(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Xh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!gh(t.position[n],e.position[n]))return!1;return!0}var tf=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Ft=null,this.Ot=null};function ef(t,e,n,r,i,o,s,a){return new tf(t,e,n,r,i,o,s,a)}function nf(t){return new tf(t)}function rf(t){return!hh(t.limit)&&"F"===t.limitType}function of(t){return!hh(t.limit)&&"L"===t.limitType}function sf(t){return t.Nt.length>0?t.Nt[0].field:null}function af(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function uf(t){return null!==t.collectionGroup}function cf(t){var e=Cl(t);if(null===e.Ft){e.Ft=[];var n=af(e),r=sf(e);if(null!==n&&null===r)n.ht()||e.Ft.push(new Yh(n)),e.Ft.push(new Yh(Zl.lt(),"asc"));else{for(var i=!1,o=0,s=e.Nt;o<s.length;o++){var a=s[o];e.Ft.push(a),a.field.ht()&&(i=!0)}if(!i){var u=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ft.push(new Yh(Zl.lt(),u))}}}return e.Ft}function lf(t){var e=Cl(t);if(!e.Ot)if("F"===e.limitType)e.Ot=Dh(e.path,e.collectionGroup,cf(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=cf(e);r<i.length;r++){var o=i[r];n.push(new Yh(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Wh(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Wh(e.startAt.position,!e.startAt.before):null;e.Ot=Dh(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.Ot}function hf(t,e,n){return new tf(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ff(t,e){return Vh(lf(t),lf(e))&&t.limitType===e.limitType}function df(t){return Mh(lf(t))+"|lt:"+t.limitType}function pf(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.ot()+" "+e.op+" "+bh(e.value);var e}).join(", ")+"]"),hh(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Jh(t.startAt)),t.endAt&&(e+=", endAt: "+Jh(t.endAt)),"Target("+e+")"}(lf(t))+"; limitType="+t.limitType+")"}function gf(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):Xl.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Zh(t.startAt,cf(t),e)||t.endAt&&Zh(t.endAt,cf(t),e))}(t,e)}function vf(t){return function(e,n){for(var r=!1,i=0,o=cf(t);i<o.length;i++){var s=o[i],a=yf(s,e,n);if(0!==a)return a;r=r||s.field.ht()}return 0}}function yf(t,e,n){var r=t.field.ht()?Xl.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?yh(r,i):Ol()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ol()}}var mf=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Wl.min()),void 0===o&&(o=Wl.min()),void 0===s&&(s=Al.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function bf(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function _f(t){return{integerValue:""+t}}function wf(t,e){return dh(e)?_f(e):bf(t,e)}var Of=function(){this.Ut=void 0};function Ef(t,e,n){return t instanceof xf?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof If?Tf(t,e):t instanceof jf?Af(t,e):function(t,e){var n=Sf(t,e),r=Pf(n)+Pf(t.Qt);return Oh(n)&&Oh(t.Qt)?_f(r):bf(t.Kt,r)}(t,e)}function Cf(t,e,n){return t instanceof If?Tf(t,e):t instanceof jf?Af(t,e):n}function Sf(t,e){return t instanceof kf?Oh(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var xf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(kt.c)(e,t),e}(Of),If=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(kt.c)(e,t),e}(Of);function Tf(t,e){for(var n=Nf(e),r=function(t){n.some(function(e){return gh(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var jf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(kt.c)(e,t),e}(Of);function Af(t,e){for(var n=Nf(e),r=function(t){n=n.filter(function(e){return!gh(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var kf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(kt.c)(e,t),e}(Of);function Pf(t){return sh(t.integerValue||t.doubleValue)}function Nf(t){return Eh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Rf=function(t,e){this.field=t,this.transform=e},Df=function(t,e){this.version=t,this.transformResults=e},Mf=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Wt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"jt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Vf(t,e){return void 0!==t.updateTime?e instanceof kh&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof kh}var Lf=function(){};function Uf(t,e,n){return t instanceof Bf?function(t,e,n){var r=t.value;if(n.transformResults){var i=$f(t.fieldTransforms,e,n.transformResults);r=Jf(t.fieldTransforms,r,i)}return new kh(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Gf?function(t,e,n){if(!Vf(t.Gt,e))return new Nh(t.key,n.version);var r=Kf(t,e,n.transformResults?$f(t.fieldTransforms,e,n.transformResults):[]);return new kh(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Ph(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Ff(t,e,n,r){return t instanceof Bf?function(t,e,n,r){if(!Vf(t.Gt,e))return e;var i=t.value;if(t.fieldTransforms){var o=Wf(t.fieldTransforms,n,e,r);i=Jf(t.fieldTransforms,i,o)}var s=zf(e);return new kh(t.key,s,i,{bt:!0})}(t,e,r,n):t instanceof Gf?function(t,e,n,r){if(!Vf(t.Gt,e))return e;var i=zf(e),o=Kf(t,e,Wf(t.fieldTransforms,n,e,r));return new kh(t.key,i,o,{bt:!0})}(t,e,r,n):function(t,e){return Vf(t.Gt,e)?new Ph(t.key,Wl.min()):e}(t,e)}function qf(t,e){return void 0!==t.fieldTransforms?function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof kh?e.field(o.field):void 0,a=Sf(o.transform,s||null);null!=a&&(n=null==n?(new Th).set(o.field,a):n.set(o.field,a))}return n?n.yt():null}(t.fieldTransforms,e):null}function Hf(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Tl(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof If&&e instanceof If||t instanceof jf&&e instanceof jf?Tl(t.elements,e.elements,gh):t instanceof kf&&e instanceof kf?gh(t.Qt,e.Qt):t instanceof xf&&e instanceof xf}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function zf(t){return t instanceof kh?t.version:Wl.min()}var Bf=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Gt=r,o.fieldTransforms=i,o.type=0,o}return Object(kt.c)(e,t),e}(Lf),Gf=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.zt=r,s.Gt=i,s.fieldTransforms=o,s.type=1,s}return Object(kt.c)(e,t),e}(Lf);function Kf(t,e,n){var r;return r=function(t,e){var n=new Th(e);return t.zt.fields.forEach(function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.yt()}(t,r=e instanceof kh?e.data():Ih.empty()),Jf(t.fieldTransforms,r,n)}function $f(t,e,n){var r=[];El(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof kh&&(a=e.field(o.field)),r.push(Cf(s,a,n[i]))}return r}function Wf(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof kh&&(c=n.field(a.field)),null===c&&r instanceof kh&&(c=r.field(a.field)),i.push(Ef(u,c,e))}return i}function Jf(t,e,n){for(var r=new Th(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var Yf,Qf,Zf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(kt.c)(e,t),e}(Lf),Xf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(kt.c)(e,t),e}(Lf),td=function(t){this.count=t};function ed(t){switch(t){case kl.OK:return Ol();case kl.CANCELLED:case kl.UNKNOWN:case kl.DEADLINE_EXCEEDED:case kl.RESOURCE_EXHAUSTED:case kl.INTERNAL:case kl.UNAVAILABLE:case kl.UNAUTHENTICATED:return!1;case kl.INVALID_ARGUMENT:case kl.NOT_FOUND:case kl.ALREADY_EXISTS:case kl.PERMISSION_DENIED:case kl.FAILED_PRECONDITION:case kl.ABORTED:case kl.OUT_OF_RANGE:case kl.UNIMPLEMENTED:case kl.DATA_LOSS:return!0;default:return Ol()}}function nd(t){if(void 0===t)return bl("GRPC error has no .code"),kl.UNKNOWN;switch(t){case Yf.OK:return kl.OK;case Yf.CANCELLED:return kl.CANCELLED;case Yf.UNKNOWN:return kl.UNKNOWN;case Yf.DEADLINE_EXCEEDED:return kl.DEADLINE_EXCEEDED;case Yf.RESOURCE_EXHAUSTED:return kl.RESOURCE_EXHAUSTED;case Yf.INTERNAL:return kl.INTERNAL;case Yf.UNAVAILABLE:return kl.UNAVAILABLE;case Yf.UNAUTHENTICATED:return kl.UNAUTHENTICATED;case Yf.INVALID_ARGUMENT:return kl.INVALID_ARGUMENT;case Yf.NOT_FOUND:return kl.NOT_FOUND;case Yf.ALREADY_EXISTS:return kl.ALREADY_EXISTS;case Yf.PERMISSION_DENIED:return kl.PERMISSION_DENIED;case Yf.FAILED_PRECONDITION:return kl.FAILED_PRECONDITION;case Yf.ABORTED:return kl.ABORTED;case Yf.OUT_OF_RANGE:return kl.OUT_OF_RANGE;case Yf.UNIMPLEMENTED:return kl.UNIMPLEMENTED;case Yf.DATA_LOSS:return kl.DATA_LOSS;default:return Ol()}}(Qf=Yf||(Yf={}))[Qf.OK=0]="OK",Qf[Qf.CANCELLED=1]="CANCELLED",Qf[Qf.UNKNOWN=2]="UNKNOWN",Qf[Qf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qf[Qf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qf[Qf.NOT_FOUND=5]="NOT_FOUND",Qf[Qf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qf[Qf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qf[Qf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qf[Qf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qf[Qf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qf[Qf.ABORTED=10]="ABORTED",Qf[Qf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qf[Qf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qf[Qf.INTERNAL=13]="INTERNAL",Qf[Qf.UNAVAILABLE=14]="UNAVAILABLE",Qf[Qf.DATA_LOSS=15]="DATA_LOSS";var rd=function(){function t(t,e){this.J=t,this.root=e||od.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,od.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,od.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Zt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new id(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new id(this.root,t,this.J,!1)},t.prototype.se=function(){return new id(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new id(this.root,t,this.J,!0)},t}(),id=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),od=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw Ol();if(this.right._e())throw Ol();var t=this.left.me();if(t!==this.right.me())throw Ol();return t+(this._e()?0:1)},t}();od.EMPTY=null,od.RED=!0,od.Jt=!1,od.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ol()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ol()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ol()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ol()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ol()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new od(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var sd=function(){function t(t){this.J=t,this.data=new rd(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt(function(e,n){return t(e),!1})},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new ad(this.data.ee())},t.prototype.ne=function(t){return new ad(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(0!==this.J(i,o))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),ad=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),ud=new rd(Xl.J);function cd(){return ud}function ld(){return cd()}var hd=new rd(Xl.J);function fd(){return hd}var dd=new rd(Xl.J);function pd(){return dd}var gd=new sd(Xl.J);function vd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=gd,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var yd=new sd(Il);function md(){return yd}var bd=function(){function t(t){this.J=t?function(e,n){return t(e,n)||Xl.J(e.key,n.key)}:function(t,e){return Xl.J(t.key,e.key)},this.Ve=fd(),this.pe=new rd(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),_d=function(){function t(){this.ve=new rd(Xl.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):Ol():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt(function(e,n){t.push(n)}),t},t}(),wd=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=s,this.Ne=a}return t.Fe=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,bd.be(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&ff(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Od=function(){function t(t,e,n,r,i){this.Mt=t,this.Oe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,Ed.Be(e,n)),new t(Wl.min(),r,md(),cd(),vd())},t}(),Ed=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(Al.h,n,vd(),vd(),vd())},t}(),Cd=function(t,e,n,r){this.We=t,this.removedTargetIds=e,this.key=n,this.je=r},Sd=function(t,e){this.targetId=t,this.Ge=e},xd=function(t,e,n,r){void 0===n&&(n=Al.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Id=function(){function t(){this.ze=0,this.He=Ad(),this.Je=Al.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=vd(),e=vd(),n=vd();return this.He.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ol()}}),new Ed(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=Ad()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),Td=function(){function t(t){this.hn=t,this.ln=new Map,this._n=cd(),this.fn=jd(),this.dn=new sd(Il)}return t.prototype.wn=function(t){for(var e=0,n=t.We;e<n.length;e++){var r=n[e];t.je instanceof kh?this.En(r,t.je):t.je instanceof Ph&&this.Tn(r,t.key,t.je)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Tn(r=o[i],t.key,t.je)},t.prototype.In=function(t){var e=this;this.mn(t,function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:Ol()}})},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach(function(t,r){n.Rn(r)&&e(r)})},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(Lh(i))if(0===n){var o=new Xl(i.path);this.Tn(e,o,new Ph(o,Wl.min()))}else El(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach(function(r,i){var o=e.gn(i);if(o){if(r.qe&&Lh(o.target)){var s=new Xl(o.target.path);null!==e._n.get(s)||e.bn(i,s)||e.Tn(i,s,new Ph(s,t))}r.tn&&(n.set(i,r.nn()),r.sn())}});var r=vd();this.fn.forEach(function(t,n){var i=!0;n.Re(function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Od(t,n,this.dn,this._n,r);return this._n=cd(),this.fn=jd(),this.dn=new sd(Il),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new Id,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new sd(Il),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||ml("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new Id),this.hn.Sn(t).forEach(function(n){e.Tn(t,n,null)})},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function jd(){return new rd(Xl.J)}function Ad(){return new rd(Xl.J)}var kd={asc:"ASCENDING",desc:"DESCENDING"},Pd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nd=function(t,e){this.T=t,this.qt=e};function Rd(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dd(t,e){return t.qt?e.toBase64():e.toUint8Array()}function Md(t,e){return Rd(t,e.G())}function Vd(t){return El(!!t),Wl.W(function(t){var e=oh(t);return new $l(e.seconds,e.nanos)}(t))}function Ld(t,e){return function(t){return new Yl(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function Ud(t){var e=Yl.ct(t);return El(cp(e)),e}function Fd(t,e){return Ld(t.T,e.path)}function qd(t,e){var n=Ud(e);if(n.get(1)!==t.T.projectId)throw new Pl(kl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new Pl(kl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new Xl(Gd(n))}function Hd(t,e){return Ld(t.T,e)}function zd(t){var e=Ud(t);return 4===e.length?Yl.at():Gd(e)}function Bd(t){return new Yl(["projects",t.T.projectId,"databases",t.T.database]).ot()}function Gd(t){return El(t.length>4&&"documents"===t.get(4)),t.X(5)}function Kd(t,e,n){return{name:Fd(t,e),fields:n.proto.mapValue.fields}}function $d(t,e,n){var r=qd(t,e.name),i=Vd(e.updateTime),o=new Ih({mapValue:{fields:e.fields}});return new kh(r,i,o,{hasCommittedMutations:!!n})}function Wd(t,e){var n;if(e instanceof Bf)n={update:Kd(t,e.key,e.value)};else if(e instanceof Zf)n={delete:Fd(t,e.key)};else if(e instanceof Gf)n={update:Kd(t,e.key,e.data),updateMask:up(e.zt)};else{if(!(e instanceof Xf))return Ol();n={verify:Fd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof xf)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof If)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof jf)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof kf)return{fieldPath:e.field.ot(),increment:n.Qt};throw Ol()}(0,t)})),e.Gt.jt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Md(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ol()}(t,e.Gt)),n}function Jd(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Mf.updateTime(Vd(t.updateTime)):void 0!==t.exists?Mf.exists(t.exists):Mf.Wt()}(e.currentDocument):Mf.Wt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(El("REQUEST_TIME"===e.setToServerValue),n=new xf):"appendMissingElements"in e?n=new If(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new jf(e.removeAllFromArray.values||[]):"increment"in e?n=new kf(t,e.increment):Ol();var r=Zl._t(e.fieldPath);return new Rf(r,n)}(t,e)}):[];if(e.update){var i=qd(t,e.update.name),o=new Ih({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new rh((t.fieldPaths||[]).map(function(t){return Zl._t(t)}))}(e.updateMask);return new Gf(i,o,s,n,r)}return new Bf(i,o,n,r)}if(e.delete){var a=qd(t,e.delete);return new Zf(a,n)}if(e.verify){var u=qd(t,e.verify);return new Xf(u,n)}return Ol()}function Yd(t,e){return{documents:[Hd(t,e.path)]}}function Qd(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Hd(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Hd(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Sh(t.value))return{unaryFilter:{field:ip(t.field),op:"IS_NAN"}};if(Ch(t.value))return{unaryFilter:{field:ip(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Sh(t.value))return{unaryFilter:{field:ip(t.field),op:"IS_NOT_NAN"}};if(Ch(t.value))return{unaryFilter:{field:ip(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ip(t.field),op:rp(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:ip(t.field),direction:np(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.qt||hh(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=tp(e.startAt)),e.endAt&&(n.structuredQuery.endAt=tp(e.endAt)),n}function Zd(t){var e=zd(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){El(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Xd(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Yh(op(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return hh(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=ep(n.startAt));var l=null;return n.endAt&&(l=ep(n.endAt)),ef(e,i,a,s,u,"F",c,l)}function Xd(t){return t?void 0!==t.unaryFilter?[ap(t)]:void 0!==t.fieldFilter?[sp(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Xd(t)}).reduce(function(t,e){return t.concat(e)}):Ol():[]}function tp(t){return{before:t.before,values:t.position}}function ep(t){return new Wh(t.values||[],!!t.before)}function np(t){return kd[t]}function rp(t){return Pd[t]}function ip(t){return{fieldPath:t.ot()}}function op(t){return Zl._t(t.fieldPath)}function sp(t){return Uh.create(op(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ol()}}(t.fieldFilter.op),t.fieldFilter.value)}function ap(t){switch(t.unaryFilter.op){case"IS_NAN":var e=op(t.unaryFilter.field);return Uh.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=op(t.unaryFilter.field);return Uh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=op(t.unaryFilter.field);return Uh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=op(t.unaryFilter.field);return Uh.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ol()}}function up(t){var e=[];return t.fields.forEach(function(t){return e.push(t.ot())}),{fieldPaths:e}}function cp(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var lp=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},hp=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.Fn=!1,t(function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)},function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Fn&&Ol(),this.Fn=!0,this.Nn?this.error?this.On(n,this.error):this.kn(e,this.result):new t(function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.On(n,e).next(t,i)}})},t.prototype.Mn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln(function(){return e(n)}):t.resolve(n)},t.prototype.On=function(e,n){return e?this.Ln(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.$n=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.$n(r)},t}(),fp=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new lp,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new gp(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=_p(e.target.error);n.qn.reject(new gp(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new gp(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(ml("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new yp(e)},t}(),dp=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(Pt.h)())&&bl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return ml("SimpleDb","Removing database:",t),mp(window.indexedDB.deleteDatabase(t)).Mn()},t.Wn=function(){if("undefined"==typeof indexedDB)return!1;if(t.jn())return!0;var e=Object(Pt.h)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.jn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(kt.b)(this,void 0,void 0,function(){var e,n=this;return Object(kt.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(ml("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new gp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Pl(kl.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new gp(t,n))},i.onupgradeneeded=function(t){ml("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){ml("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}})})},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(kt.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(kt.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(kt.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Jn(t)];case 2:return a.db=h.sent(),e=fp.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),hp.reject(t)}).Mn(),u={},s.catch(function(){}),[4,e.Un];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return ml("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),pp=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return mp(this.ts.delete())},t}(),gp=function(t){function e(e,n){var r=this;return(r=t.call(this,kl.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(kt.c)(e,t),e}(Pl);function vp(t){return"IndexedDbTransactionError"===t.name}var yp=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(ml("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(ml("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),mp(n)},t.prototype.add=function(t){return ml("SimpleDb","ADD",this.store.name,t,t),mp(this.store.add(t))},t.prototype.get=function(t){var e=this;return mp(this.store.get(t)).next(function(n){return void 0===n&&(n=null),ml("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return ml("SimpleDb","DELETE",this.store.name,t),mp(this.store.delete(t))},t.prototype.count=function(){return ml("SimpleDb","COUNT",this.store.name),mp(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.us=function(t,e){ml("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,function(t,e,n){return n.delete()})},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new hp(function(n,r){e.onerror=function(t){var e=_p(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.cs=function(t,e){var n=[];return new hp(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new pp(i),s=e(i.primaryKey,i.value,o);if(s instanceof hp){var a=s.catch(function(t){return o.done(),hp.reject(t)});n.push(a)}o.Nn?r():null===o.ss?i.continue():i.continue(o.ss)}else r()}}).next(function(){return hp.$n(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function mp(t){return new hp(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=_p(t.target.error);n(e)}})}var bp=!1;function _p(t){var e=dp.Kn(Object(Pt.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Pl("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return bp||(bp=!0,setTimeout(function(){throw r},0)),r}}return t}var wp=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new lp,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch(function(t){})}return t.Is=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.As=setTimeout(function(){return e.Rs()},t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new Pl(kl.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys(function(){return null!==t.As?(t.clearTimeout(),t.op().then(function(e){return t.Ts.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function Op(t,e){if(bl("AsyncQueue",e+": "+t),vp(t))return new Pl(kl.UNAVAILABLE,e+": "+t);throw t}var Ep=function(t,e){this.progress=t,this.gs=e},Cp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Sp=function(){function t(){this.Vs=[]}return t.prototype.ps=function(t){this.Vs.push(t)},t.prototype.bs=function(){this.Vs.forEach(function(t){return t()})},t}();function xp(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Tp(e)),e=Ip(t.get(n),e);return Tp(e)}function Ip(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Tp(t){return t+"\x01\x01"}function jp(t){var e=t.length;if(El(e>=2),2===e)return El("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Yl.at();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Ol(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Ol()}o=s+2}return new Yl(r)}var Ap=function(t,e){this.seconds=t,this.nanoseconds=e},kp=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};kp.store="owner",kp.key="owner";var Pp=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Pp.store="mutationQueues",Pp.keyPath="userId";var Np=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Np.store="mutations",Np.keyPath="batchId",Np.userMutationsIndex="userMutationsIndex",Np.userMutationsKeyPath=["userId","batchId"];var Rp=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,xp(e)]},t.key=function(t,e,n){return[t,xp(e),n]},t}();Rp.store="documentMutations",Rp.PLACEHOLDER=new Rp;var Dp=function(t,e){this.path=t,this.readTime=e},Mp=function(t,e){this.path=t,this.version=e},Vp=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Vp.store="remoteDocuments",Vp.readTimeIndex="readTimeIndex",Vp.readTimeIndexPath="readTime",Vp.collectionReadTimeIndex="collectionReadTimeIndex",Vp.collectionReadTimeIndexPath=["parentPath","readTime"];var Lp=function(t){this.byteSize=t};Lp.store="remoteDocumentGlobal",Lp.key="remoteDocumentGlobalKey";var Up=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Up.store="targets",Up.keyPath="targetId",Up.queryTargetsIndexName="queryTargetsIndex",Up.queryTargetsKeyPath=["canonicalId","targetId"];var Fp=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Fp.store="targetDocuments",Fp.keyPath=["targetId","path"],Fp.documentTargetsIndex="documentTargetsIndex",Fp.documentTargetsKeyPath=["path","targetId"];var qp=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};qp.key="targetGlobalKey",qp.store="targetGlobal";var Hp=function(t,e){this.collectionId=t,this.parent=e};Hp.store="collectionParents",Hp.keyPath=["collectionId","parent"];var zp=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};zp.store="clientMetadata",zp.keyPath="clientId";var Bp=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Bp.store="bundles",Bp.keyPath="bundleId";var Gp=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Gp.store="namedQueries",Gp.keyPath="name";var Kp=Object(kt.g)(Object(kt.g)(Object(kt.g)(Object(kt.g)([Pp.store,Np.store,Rp.store,Vp.store,Up.store,kp.store,qp.store,Fp.store],[zp.store]),[Lp.store]),[Hp.store]),[Bp.store,Gp.store]),$p=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).vs=e,r.Ss=n,r}return Object(kt.c)(e,t),e}(Sp);function Wp(t,e){var n=Cl(t);return dp.Hn(n.vs,e)}var Jp=function(){function t(t,e,n,r){this.batchId=t,this.Ds=e,this.baseMutations=n,this.mutations=r}return t.prototype.Cs=function(t,e,n){for(var r=n.xs,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Uf(o,e,r[i]))}return e},t.prototype.Ns=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Ff(i,e,e,this.Ds))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=Ff(u,e,o,this.Ds))}return e},t.prototype.Fs=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.Ns(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},vd())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Tl(this.mutations,t.mutations,function(t,e){return Hf(t,e)})&&Tl(this.baseMutations,t.baseMutations,function(t,e){return Hf(t,e)})},t}(),Yp=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.xs=n,this.ks=r}return t.from=function(e,n,r){El(e.mutations.length===r.length);for(var i=pd(),o=e.mutations,s=0;s<o.length;s++)i=i.Ht(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Qp=function(t){this.Ms=t};function Zp(t,e){if(e.document)return $d(t.Ms,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Xl.Tt(e.noDocument.path),r=rg(e.noDocument.readTime);return new Ph(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Xl.Tt(e.unknownDocument.path);return r=rg(e.unknownDocument.version),new Nh(i,r)}return Ol()}function Xp(t,e,n){var r=tg(n),i=e.key.path.Z().rt();if(e instanceof kh){var o=function(t,e){return{name:Fd(t,e.key),fields:e.vt().mapValue.fields,updateTime:Rd(t,e.version.G())}}(t.Ms,e),s=e.hasCommittedMutations;return new Vp(null,null,o,s,r,i)}if(e instanceof Ph){var a=e.key.path.rt(),u=ng(e.version);return s=e.hasCommittedMutations,new Vp(null,new Dp(a,u),null,s,r,i)}if(e instanceof Nh){var c=e.key.path.rt(),l=ng(e.version);return new Vp(new Mp(c,l),null,null,!0,r,i)}return Ol()}function tg(t){var e=t.G();return[e.seconds,e.nanoseconds]}function eg(t){var e=new $l(t[0],t[1]);return Wl.W(e)}function ng(t){var e=t.G();return new Ap(e.seconds,e.nanoseconds)}function rg(t){var e=new $l(t.seconds,t.nanoseconds);return Wl.W(e)}function ig(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Jd(t.Ms,e)}),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map(function(e){return Jd(t.Ms,e)}),s=$l.fromMillis(e.localWriteTimeMs);return new Jp(e.batchId,s,n,o)}function og(t){var e,n,r=rg(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?rg(t.lastLimboFreeSnapshotVersion):Wl.min();return void 0!==t.query.documents?(El(1===(n=t.query).documents.length),e=lf(nf(zd(n.documents[0])))):e=function(t){return lf(Zd(t))}(t.query),new mf(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Al.fromBase64String(t.resumeToken))}function sg(t,e){var n,r=ng(e.Mt),i=ng(e.lastLimboFreeSnapshotVersion);n=Lh(e.target)?Yd(t.Ms,e.target):Qd(t.Ms,e.target);var o=e.resumeToken.toBase64();return new Up(e.targetId,Mh(e.target),r,o,e.sequenceNumber,i,n)}function ag(t){var e=Zd({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?hf(e,e.limit,"L"):e}var ug=function(){function t(){}return t.prototype.Ls=function(t,e){return cg(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:rg(e.createTime),version:e.version};var e})},t.prototype.$s=function(t,e){return cg(t).put({bundleId:(n=e).id,createTime:ng(Vd(n.createTime)),version:n.version});var n},t.prototype.Bs=function(t,e){return lg(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:ag(e.bundledQuery),readTime:rg(e.readTime)};var e})},t.prototype.qs=function(t,e){return lg(t).put(function(t){return{name:t.name,readTime:ng(Vd(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function cg(t){return Wp(t,Bp.store)}function lg(t){return Wp(t,Gp.store)}var hg=function(){function t(){this.Us=new fg}return t.prototype.Qs=function(t,e){return this.Us.add(e),hp.resolve()},t.prototype.Ks=function(t,e){return hp.resolve(this.Us.getEntries(e))},t}(),fg=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new sd(Yl.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new sd(Yl.J)).rt()},t}(),dg=function(){function t(){this.Ws=new fg}return t.prototype.Qs=function(t,e){var n=this;if(!this.Ws.has(e)){var r=e.et(),i=e.Z();t.ps(function(){n.Ws.add(e)});var o={collectionId:r,parent:xp(i)};return pg(t).put(o)}return hp.resolve()},t.prototype.Ks=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[jl(e),""],!1,!0);return pg(t).os(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(jp(o.parent))}return n})},t}();function pg(t){return Wp(t,Hp.store)}var gg={js:!1,Gs:0,zs:0,Hs:0},vg=function(){function t(t,e,n){this.Js=t,this.Ys=e,this.Xs=n}return t.Zs=function(e){return new t(e,t.ti,t.ei)},t}();function yg(t){return Object(kt.b)(this,void 0,void 0,function(){return Object(kt.d)(this,function(e){if(t.code!==kl.FAILED_PRECONDITION||t.message!==Cp)throw t;return ml("LocalStore","Unexpectedly lost primary lease"),[2]})})}vg.ti=10,vg.ei=1e3,vg.ni=new vg(41943040,vg.ti,vg.ei),vg.si=new vg(-1,0,0);var mg=function(){function t(t,e){this.ii=t,this.ri=e,this.oi={}}return t.prototype.get=function(t){var e=this.ii(t),n=this.oi[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.ri(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ii(t),r=this.oi[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ri(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.oi[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ii(t),n=this.oi[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ri(n[r][0],t))return 1===n.length?delete this.oi[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){eh(this.oi,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.nt=function(){return nh(this.oi)},t}(),bg=function(){function t(){this.ci=new mg(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.ai=!1}return t.prototype.ui=function(t){var e=this.ci.get(t);return e?e.readTime:Wl.min()},t.prototype.hi=function(t,e){this.li(),this.ci.set(t.key,{_i:t,readTime:e})},t.prototype.fi=function(t,e){void 0===e&&(e=null),this.li(),this.ci.set(t,{_i:null,readTime:e})},t.prototype.di=function(t,e){this.li();var n=this.ci.get(e);return void 0!==n?hp.resolve(n._i):this.wi(t,e)},t.prototype.getEntries=function(t,e){return this.Ei(t,e)},t.prototype.apply=function(t){return this.li(),this.ai=!0,this.Ti(t)},t.prototype.li=function(){},t}();function _g(t,e,n){var r=t.store(Np.store),i=t.store(Rp.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.ls({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){El(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Rp.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return hp.$n(o).next(function(){return c})}function wg(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ol();e=t.noDocument}return JSON.stringify(e).length}var Og=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ii=n,this.mi=r,this.Ai={}}return t.Ri=function(e,n,r,i){return El(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Pi=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cg(t).ls({index:Np.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.yi=function(t,e,n,r){var i=this,o=Sg(t),s=Cg(t);return s.add({}).next(function(a){El("number"==typeof a);for(var u=new Jp(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Wd(t.Ms,e)}),i=n.mutations.map(function(e){return Wd(t.Ms,e)});return new Np(e,n.batchId,n.Ds.toMillis(),r,i)}(i.Kt,i.userId,u),l=[],h=new sd(function(t,e){return Il(t.ot(),e.ot())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Rp.key(i.userId,p.key.path,a);h=h.add(p.key.path.Z()),l.push(s.put(c)),l.push(o.put(g,Rp.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ii.Qs(t,e))}),t.ps(function(){i.Ai[a]=u.keys()}),hp.$n(l).next(function(){return u})})},t.prototype.gi=function(t,e){var n=this;return Cg(t).get(e).next(function(t){return t?(El(t.userId===n.userId),ig(n.Kt,t)):null})},t.prototype.Vi=function(t,e){var n=this;return this.Ai[e]?hp.resolve(this.Ai[e]):this.gi(t,e).next(function(t){if(t){var r=t.keys();return n.Ai[e]=r,r}return null})},t.prototype.pi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Cg(t).ls({index:Np.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(El(e.batchId>=r),o=ig(n.Kt,e)),i.done()}).next(function(){return o})},t.prototype.bi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Cg(t).ls({index:Np.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.vi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cg(t).os(Np.userMutationsIndex,n).next(function(t){return t.map(function(t){return ig(e.Kt,t)})})},t.prototype.Si=function(t,e){var n=this,r=Rp.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Sg(t).ls({range:i},function(r,i,s){var a=r[0],u=r[2],c=jp(r[1]);if(a===n.userId&&e.path.isEqual(c))return Cg(t).get(u).next(function(t){if(!t)throw Ol();El(t.userId===n.userId),o.push(ig(n.Kt,t))});s.done()}).next(function(){return o})},t.prototype.Di=function(t,e){var n=this,r=new sd(Il),i=[];return e.forEach(function(e){var o=Rp.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Sg(t).ls({range:s},function(t,i,o){var s=t[0],a=t[2],u=jp(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),hp.$n(i).next(function(){return n.Ci(t,r)})},t.prototype.xi=function(t,e){var n=this,r=e.path,i=r.length+1,o=Rp.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new sd(Il);return Sg(t).ls({range:s},function(t,e,o){var s=t[0],u=t[2],c=jp(t[1]);s===n.userId&&r.st(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Ci(t,a)})},t.prototype.Ci=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Cg(t).get(e).next(function(t){if(null===t)throw Ol();El(t.userId===n.userId),r.push(ig(n.Kt,t))}))}),hp.$n(i).next(function(){return r})},t.prototype.Ni=function(t,e){var n=this;return _g(t.vs,this.userId,e).next(function(r){return t.ps(function(){n.Fi(e.batchId)}),hp.forEach(r,function(e){return n.mi.Oi(t,e)})})},t.prototype.Fi=function(t){delete this.Ai[t]},t.prototype.ki=function(t){var e=this;return this.Pi(t).next(function(n){if(!n)return hp.resolve();var r=IDBKeyRange.lowerBound(Rp.prefixForUser(e.userId)),i=[];return Sg(t).ls({range:r},function(t,n,r){if(t[0]===e.userId){var o=jp(t[1]);i.push(o)}else r.done()}).next(function(){El(0===i.length)})})},t.prototype.Mi=function(t,e){return Eg(t,this.userId,e)},t.prototype.Li=function(t){var e=this;return xg(t).get(this.userId).next(function(t){return t||new Pp(e.userId,-1,"")})},t}();function Eg(t,e,n){var r=Rp.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Sg(t).ls({range:o,hs:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Cg(t){return Wp(t,Np.store)}function Sg(t){return Wp(t,Rp.store)}function xg(t){return Wp(t,Pp.store)}var Ig=function(){function t(t){this.$i=t}return t.prototype.next=function(){return this.$i+=2,this.$i},t.Bi=function(){return new t(0)},t.qi=function(){return new t(-1)},t}(),Tg=function(){function t(t,e){this.mi=t,this.Kt=e}return t.prototype.Ui=function(t){var e=this;return this.Qi(t).next(function(n){var r=new Ig(n.highestTargetId);return n.highestTargetId=r.next(),e.Ki(t,n).next(function(){return n.highestTargetId})})},t.prototype.Wi=function(t){return this.Qi(t).next(function(t){return Wl.W(new $l(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.ji=function(t){return this.Qi(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Gi=function(t,e,n){var r=this;return this.Qi(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ki(t,i)})},t.prototype.zi=function(t,e){var n=this;return this.Hi(t,e).next(function(){return n.Qi(t).next(function(r){return r.targetCount+=1,n.Ji(e,r),n.Ki(t,r)})})},t.prototype.Yi=function(t,e){return this.Hi(t,e)},t.prototype.Xi=function(t,e){var n=this;return this.Zi(t,e.targetId).next(function(){return jg(t).delete(e.targetId)}).next(function(){return n.Qi(t)}).next(function(e){return El(e.targetCount>0),e.targetCount-=1,n.Ki(t,e)})},t.prototype.tr=function(t,e,n){var r=this,i=0,o=[];return jg(t).ls(function(s,a){var u=og(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Xi(t,u)))}).next(function(){return hp.$n(o)}).next(function(){return i})},t.prototype.mn=function(t,e){return jg(t).ls(function(t,n){var r=og(n);e(r)})},t.prototype.Qi=function(t){return Ag(t).get(qp.key).next(function(t){return El(null!==t),t})},t.prototype.Ki=function(t,e){return Ag(t).put(qp.key,e)},t.prototype.Hi=function(t,e){return jg(t).put(sg(this.Kt,e))},t.prototype.Ji=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.er=function(t){return this.Qi(t).next(function(t){return t.targetCount})},t.prototype.nr=function(t,e){var n=Mh(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return jg(t).ls({range:r,index:Up.queryTargetsIndexName},function(t,n,r){var o=og(n);Vh(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.sr=function(t,e,n){var r=this,i=[],o=kg(t);return e.forEach(function(e){var s=xp(e.path);i.push(o.put(new Fp(n,s))),i.push(r.mi.ir(t,n,e))}),hp.$n(i)},t.prototype.rr=function(t,e,n){var r=this,i=kg(t);return hp.forEach(e,function(e){var o=xp(e.path);return hp.$n([i.delete([n,o]),r.mi.cr(t,n,e)])})},t.prototype.Zi=function(t,e){var n=kg(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.ar=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=kg(t),i=vd();return r.ls({range:n,hs:!0},function(t,e,n){var r=jp(t[1]),o=new Xl(r);i=i.add(o)}).next(function(){return i})},t.prototype.Mi=function(t,e){var n=xp(e.path),r=IDBKeyRange.bound([n],[jl(n)],!1,!0),i=0;return kg(t).ls({index:Fp.documentTargetsIndex,hs:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Dn=function(t,e){return jg(t).get(e).next(function(t){return t?og(t):null})},t}();function jg(t){return Wp(t,Up.store)}function Ag(t){return Wp(t,qp.store)}function kg(t){return Wp(t,Fp.store)}function Pg(t,e){var n=t[1],r=e[1],i=Il(t[0],e[0]);return 0===i?Il(n,r):i}var Ng=function(){function t(t){this.ur=t,this.buffer=new sd(Pg),this.hr=0}return t.prototype.lr=function(){return++this.hr},t.prototype._r=function(t){var e=[t,this.lr()];if(this.buffer.size<this.ur)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Pg(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Rg=function(){function t(t,e){this.dr=t,this.fs=e,this.wr=!1,this.Er=null}return t.prototype.start=function(t){-1!==this.dr.params.Js&&this.Tr(t)},t.prototype.stop=function(){this.Er&&(this.Er.cancel(),this.Er=null)},Object.defineProperty(t.prototype,"Ir",{get:function(){return null!==this.Er},enumerable:!1,configurable:!0}),t.prototype.Tr=function(t){var e=this,n=this.wr?3e5:6e4;ml("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Er=this.fs.mr("lru_garbage_collection",n,function(){return Object(kt.b)(e,void 0,void 0,function(){var e;return Object(kt.d)(this,function(n){switch(n.label){case 0:this.Er=null,this.wr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ar(this.dr)];case 2:return n.sent(),[3,7];case 3:return vp(e=n.sent())?(ml("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,yg(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Tr(t)];case 8:return n.sent(),[2]}})})})},t}(),Dg=function(){function t(t,e){this.Rr=t,this.params=e}return t.prototype.Pr=function(t,e){return this.Rr.yr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.gr=function(t,e){var n=this;if(0===e)return hp.resolve(Kl.U);var r=new Ng(e);return this.Rr.mn(t,function(t){return r._r(t.sequenceNumber)}).next(function(){return n.Rr.Vr(t,function(t){return r._r(t)})}).next(function(){return r.maxValue})},t.prototype.tr=function(t,e,n){return this.Rr.tr(t,e,n)},t.prototype.pr=function(t,e){return this.Rr.pr(t,e)},t.prototype.br=function(t,e){var n=this;return-1===this.params.Js?(ml("LruGarbageCollector","Garbage collection skipped; disabled"),hp.resolve(gg)):this.vr(t).next(function(r){return r<n.params.Js?(ml("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Js),gg):n.Sr(t,e)})},t.prototype.vr=function(t){return this.Rr.vr(t)},t.prototype.Sr=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.Pr(t,this.params.Ys).next(function(e){return e>c.params.Xs?(ml("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Xs+" from "+e),r=c.params.Xs):r=e,o=Date.now(),c.gr(t,r)}).next(function(r){return n=r,s=Date.now(),c.tr(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.pr(t,n)}).next(function(t){return u=Date.now(),yl()<=ps.a.DEBUG&&ml("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),hp.resolve({js:!0,Gs:r,zs:i,Hs:t})})},t}(),Mg=function(){function t(t,e){this.db=t,this.dr=function(t,e){return new Dg(t,e)}(this,e)}return t.prototype.yr=function(t){var e=this.Dr(t);return this.db.Cr().er(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Dr=function(t){var e=0;return this.Vr(t,function(t){e++}).next(function(){return e})},t.prototype.mn=function(t,e){return this.db.Cr().mn(t,e)},t.prototype.Vr=function(t,e){return this.Nr(t,function(t,n){return e(n)})},t.prototype.ir=function(t,e,n){return Vg(t,n)},t.prototype.cr=function(t,e,n){return Vg(t,n)},t.prototype.tr=function(t,e,n){return this.db.Cr().tr(t,e,n)},t.prototype.Oi=function(t,e){return Vg(t,e)},t.prototype.Fr=function(t,e){return function(t,e){var n=!1;return xg(t)._s(function(r){return Eg(t,r,e).next(function(t){return t&&(n=!0),hp.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.pr=function(t,e){var n=this,r=this.db.kr().Or(),i=[],o=0;return this.Nr(t,function(s,a){if(a<=e){var u=n.Fr(t,s).next(function(e){if(!e)return o++,r.di(t,s).next(function(){return r.fi(s),kg(t).delete([0,xp(s.path)])})});i.push(u)}}).next(function(){return hp.$n(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.Ss);return this.db.Cr().Yi(t,n)},t.prototype.Mr=function(t,e){return Vg(t,e)},t.prototype.Nr=function(t,e){var n,r=kg(t),i=Kl.U;return r.ls({index:Fp.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Kl.U&&e(new Xl(jp(n)),i),i=s,n=o):i=Kl.U}).next(function(){i!==Kl.U&&e(new Xl(jp(n)),i)})},t.prototype.vr=function(t){return this.db.kr().Lr(t)},t}();function Vg(t,e){return kg(t).put(function(t,e){return new Fp(0,xp(t.path),e)}(e,t.Ss))}var Lg=function(){function t(t,e){this.Kt=t,this.Ii=e}return t.prototype.hi=function(t,e,n){return qg(t).put(Hg(e),n)},t.prototype.fi=function(t,e){var n=qg(t),r=Hg(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.$r(t,r)})},t.prototype.di=function(t,e){var n=this;return qg(t).get(Hg(e)).next(function(t){return n.Br(t)})},t.prototype.qr=function(t,e){var n=this;return qg(t).get(Hg(e)).next(function(t){var e=n.Br(t);return e?{_i:e,size:wg(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=ld();return this.Ur(t,e,function(t,e){var i=n.Br(e);r=r.Ht(t,i)}).next(function(){return r})},t.prototype.Qr=function(t,e){var n=this,r=ld(),i=new rd(Xl.J);return this.Ur(t,e,function(t,e){var o=n.Br(e);o?(r=r.Ht(t,o),i=i.Ht(t,wg(e))):(r=r.Ht(t,null),i=i.Ht(t,0))}).next(function(){return{Kr:r,Wr:i}})},t.prototype.Ur=function(t,e,n){if(e.nt())return hp.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return qg(t).ls({range:r},function(t,e,r){for(var s=Xl.Tt(t);o&&Xl.J(o,s)<0;)n(o,null),o=i.ce();o&&o.isEqual(s)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()}).next(function(){for(;o;)n(o,null),o=i.ae()?i.ce():null})},t.prototype.jr=function(t,e,n){var r=this,i=fd(),o=e.path.length+1,s={};if(n.isEqual(Wl.min())){var a=e.path.rt();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.rt(),c=tg(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Vp.collectionReadTimeIndex}return qg(t).ls(s,function(t,n,s){if(t.length===o){var a=Zp(r.Kt,n);e.path.st(a.key.path)?a instanceof kh&&gf(e,a)&&(i=i.Ht(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.Or=function(t){return new Ug(this,!!t&&t.Gr)},t.prototype.Lr=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Fg(t).get(Lp.key).next(function(t){return El(!!t),t})},t.prototype.$r=function(t,e){return Fg(t).put(Lp.key,e)},t.prototype.Br=function(t){if(t){var e=Zp(this.Kt,t);return e instanceof Ph&&e.version.isEqual(Wl.min())?null:e}return null},t}(),Ug=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zr=e,r.Gr=n,r.Hr=new mg(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(kt.c)(e,t),e.prototype.Ti=function(t){var e=this,n=[],r=0,i=new sd(function(t,e){return Il(t.ot(),e.ot())});return this.ci.forEach(function(o,s){var a=e.Hr.get(o);if(s._i){var u=Xp(e.zr.Kt,s._i,e.ui(o));i=i.add(o.path.Z());var c=wg(u);r+=c-a,n.push(e.zr.hi(t,o,u))}else if(r-=a,e.Gr){var l=Xp(e.zr.Kt,new Ph(o,Wl.min()),e.ui(o));n.push(e.zr.hi(t,o,l))}else n.push(e.zr.fi(t,o))}),i.forEach(function(r){n.push(e.zr.Ii.Qs(t,r))}),n.push(this.zr.updateMetadata(t,r)),hp.$n(n)},e.prototype.wi=function(t,e){var n=this;return this.zr.qr(t,e).next(function(t){return null===t?(n.Hr.set(e,0),null):(n.Hr.set(e,t.size),t._i)})},e.prototype.Ei=function(t,e){var n=this;return this.zr.Qr(t,e).next(function(t){var e=t.Kr;return t.Wr.forEach(function(t,e){n.Hr.set(t,e)}),e})},e}(bg);function Fg(t){return Wp(t,Lp.store)}function qg(t){return Wp(t,Vp.store)}function Hg(t){return t.path.rt()}var zg=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;El(n<r&&n>=0&&r<=11);var o=new fp("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(kp.store)}(t),function(t){t.createObjectStore(Pp.store,{keyPath:Pp.keyPath}),t.createObjectStore(Np.store,{keyPath:Np.keyPath,autoIncrement:!0}).createIndex(Np.userMutationsIndex,Np.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Rp.store)}(t),Bg(t),function(t){t.createObjectStore(Vp.store)}(t));var s=hp.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Fp.store),t.deleteObjectStore(Up.store),t.deleteObjectStore(qp.store)}(t),Bg(t)),s=s.next(function(){return function(t){var e=t.store(qp.store),n=new qp(0,0,Wl.min().G(),0);return e.put(qp.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Np.store).os().next(function(n){t.deleteObjectStore(Np.store),t.createObjectStore(Np.store,{keyPath:Np.keyPath,autoIncrement:!0}).createIndex(Np.userMutationsIndex,Np.userMutationsKeyPath,{unique:!0});var r=e.store(Np.store),i=n.map(function(t){return r.put(t)});return hp.$n(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(zp.store,{keyPath:zp.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Jr(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Lp.store)}(t),i.Yr(o)})),n<7&&r>=7&&(s=s.next(function(){return i.Xr(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Zr(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Vp.store);e.createIndex(Vp.readTimeIndex,Vp.readTimeIndexPath,{unique:!1}),e.createIndex(Vp.collectionReadTimeIndex,Vp.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.eo(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Bp.store,{keyPath:Bp.keyPath})}(t),function(t){t.createObjectStore(Gp.store,{keyPath:Gp.keyPath})}(t)})),s},t.prototype.Yr=function(t){var e=0;return t.store(Vp.store).ls(function(t,n){e+=wg(n)}).next(function(){var n=new Lp(e);return t.store(Lp.store).put(Lp.key,n)})},t.prototype.Jr=function(t){var e=this,n=t.store(Pp.store),r=t.store(Np.store);return n.os().next(function(n){return hp.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(Np.userMutationsIndex,i).next(function(r){return hp.forEach(r,function(r){El(r.userId===n.userId);var i=ig(e.Kt,r);return _g(t,n.userId,i).next(function(){})})})})})},t.prototype.Xr=function(t){var e=t.store(Fp.store),n=t.store(Vp.store);return t.store(qp.store).get(qp.key).next(function(t){var r=[];return n.ls(function(n,i){var o=new Yl(n),s=function(t){return[0,xp(t)]}(o);r.push(e.get(s).next(function(n){return n?hp.resolve():function(n){return e.put(new Fp(0,xp(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return hp.$n(r)})})},t.prototype.Zr=function(t,e){t.createObjectStore(Hp.store,{keyPath:Hp.keyPath});var n=e.store(Hp.store),r=new fg,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:xp(i)})}};return e.store(Vp.store).ls({hs:!0},function(t,e){var n=new Yl(t);return i(n.Z())}).next(function(){return e.store(Rp.store).ls({hs:!0},function(t,e){var n=jp(t[1]);return i(n.Z())})})},t.prototype.eo=function(t){var e=this,n=t.store(Up.store);return n.ls(function(t,r){var i=og(r),o=sg(e.Kt,i);return n.put(o)})},t}();function Bg(t){t.createObjectStore(Fp.store,{keyPath:Fp.keyPath}).createIndex(Fp.documentTargetsIndex,Fp.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Up.store,{keyPath:Up.keyPath}).createIndex(Up.queryTargetsIndexName,Up.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(qp.store)}var Gg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Kg=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.no=o,this.window=s,this.document=a,this.so=c,this.io=l,this.ro=null,this.oo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.co=null,this.inForeground=!1,this.ao=null,this.uo=null,this.ho=Number.NEGATIVE_INFINITY,this.lo=function(t){return Promise.resolve()},!t.Wn())throw new Pl(kl.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.mi=new Mg(this,i),this._o=n+"main",this.Kt=new Qp(u),this.fo=new dp(this._o,11,new zg(this.Kt)),this.wo=new Tg(this.mi,this.Kt),this.Ii=new dg,this.Eo=function(t,e){return new Lg(t,e)}(this.Kt,this.Ii),this.To=new ug,this.window&&this.window.localStorage?this.Io=this.window.localStorage:(this.Io=null,!1===l&&bl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.mo().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Pl(kl.FAILED_PRECONDITION,Gg);return t.Ao(),t.Ro(),t.Po(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.wo.ji(e)})}).then(function(e){t.ro=new Kl(e,t.so)}).then(function(){t.oo=!0}).catch(function(e){return t.fo&&t.fo.close(),Promise.reject(e)})},t.prototype.yo=function(t){var e=this;return this.lo=function(n){return Object(kt.b)(e,void 0,void 0,function(){return Object(kt.d)(this,function(e){return this.Ir?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Vo=function(t){var e=this;this.fo.Zn(function(n){return Object(kt.b)(e,void 0,void 0,function(){return Object(kt.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.po=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.no.ys(function(){return Object(kt.b)(e,void 0,void 0,function(){return Object(kt.d)(this,function(t){switch(t.label){case 0:return this.Ir?[4,this.mo()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.mo=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Wg(e).put(new zp(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.bo(e).next(function(e){e||(t.isPrimary=!1,t.no.vo(function(){return t.lo(!1)}))})}).next(function(){return t.So(e)}).next(function(n){return t.isPrimary&&!n?t.Do(e).next(function(){return!1}):!!n&&t.Co(e).next(function(){return!0})})}).catch(function(e){if(vp(e))return ml("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return ml("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.no.vo(function(){return t.lo(e)}),t.isPrimary=e})},t.prototype.bo=function(t){var e=this;return $g(t).get(kp.key).next(function(t){return hp.resolve(e.xo(t))})},t.prototype.No=function(t){return Wg(t).delete(this.clientId)},t.prototype.Fo=function(){return Object(kt.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(kt.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.Oo(this.ho,18e5)?[3,2]:(this.ho=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Wp(t,zp.store);return e.os().next(function(t){var n=r.ko(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return hp.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Io)for(e=0,n=t;e<n.length;e++)this.Io.removeItem(this.Mo(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Po=function(){var t=this;this.uo=this.no.mr("client_metadata_refresh",4e3,function(){return t.mo().then(function(){return t.Fo()}).then(function(){return t.Po()})})},t.prototype.xo=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.So=function(t){var e=this;return this.io?hp.resolve(!0):$g(t).get(kp.key).next(function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Lo(n.ownerId)){if(e.xo(n)&&e.networkEnabled)return!0;if(!e.xo(n)){if(!n.allowTabSynchronization)throw new Pl(kl.FAILED_PRECONDITION,Gg);return!1}}return!(!e.networkEnabled||!e.inForeground)||Wg(t).os().next(function(t){return void 0===e.ko(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&ml("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.$o=function(){return Object(kt.b)(this,void 0,void 0,function(){var t=this;return Object(kt.d)(this,function(e){switch(e.label){case 0:return this.oo=!1,this.Bo(),this.uo&&(this.uo.cancel(),this.uo=null),this.qo(),this.Uo(),[4,this.fo.runTransaction("shutdown","readwrite",[kp.store,zp.store],function(e){var n=new $p(e,Kl.U);return t.Do(n).next(function(){return t.No(n)})})];case 1:return e.sent(),this.fo.close(),this.Qo(),[2]}})})},t.prototype.ko=function(t,e){var n=this;return t.filter(function(t){return n.Oo(t.updateTimeMs,e)&&!n.Lo(t.clientId)})},t.prototype.Ko=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Wg(e).os().next(function(e){return t.ko(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Wo=function(t){return Og.Ri(t,this.Kt,this.Ii,this.mi)},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.jo=function(){return this.Ii},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r,i=this;return ml("IndexedDbPersistence","Starting transaction:",t),this.fo.runTransaction(t,"readonly"===e?"readonly":"readwrite",Kp,function(o){return r=new $p(o,i.ro?i.ro.next():Kl.U),"readwrite-primary"===e?i.bo(r).next(function(t){return!!t||i.So(r)}).next(function(e){if(!e)throw bl("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.no.vo(function(){return i.lo(!1)}),new Pl(kl.FAILED_PRECONDITION,Cp);return n(r)}).next(function(t){return i.Co(r).next(function(){return t})}):i.zo(r).next(function(){return n(r)})}).then(function(t){return r.bs(),t})},t.prototype.zo=function(t){var e=this;return $g(t).get(kp.key).next(function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Lo(t.ownerId)&&!e.xo(t)&&!(e.io||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Pl(kl.FAILED_PRECONDITION,Gg)})},t.prototype.Co=function(t){var e=new kp(this.clientId,this.allowTabSynchronization,Date.now());return $g(t).put(kp.key,e)},t.Wn=function(){return dp.Wn()},t.prototype.Do=function(t){var e=this,n=$g(t);return n.get(kp.key).next(function(t){return e.xo(t)?(ml("IndexedDbPersistence","Releasing primary lease."),n.delete(kp.key)):hp.resolve()})},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(bl("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ao=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ao=function(){t.no.ys(function(){return t.inForeground="visible"===t.document.visibilityState,t.mo()})},this.document.addEventListener("visibilitychange",this.ao),this.inForeground="visible"===this.document.visibilityState)},t.prototype.qo=function(){this.ao&&(this.document.removeEventListener("visibilitychange",this.ao),this.ao=null)},t.prototype.Ro=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.co=function(){e.Bo(),e.no.ys(function(){return e.$o()})},this.window.addEventListener("unload",this.co))},t.prototype.Uo=function(){this.co&&(this.window.removeEventListener("unload",this.co),this.co=null)},t.prototype.Lo=function(t){var e;try{var n=null!==(null===(e=this.Io)||void 0===e?void 0:e.getItem(this.Mo(t)));return ml("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return bl("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Bo=function(){if(this.Io)try{this.Io.setItem(this.Mo(this.clientId),String(Date.now()))}catch(t){bl("Failed to set zombie client id.",t)}},t.prototype.Qo=function(){if(this.Io)try{this.Io.removeItem(this.Mo(this.clientId))}catch(t){}},t.prototype.Mo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function $g(t){return Wp(t,kp.store)}function Wg(t){return Wp(t,zp.store)}function Jg(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Yg=function(){function t(t,e,n){this.Eo=t,this.Ho=e,this.Ii=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.Si(t,e).next(function(r){return n.Yo(t,e,r)})},t.prototype.Yo=function(t,e,n){return this.Eo.di(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Ns(e,t);return t})},t.prototype.Xo=function(t,e,n){var r=ld();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Ns(t,e);r=r.Ht(t,e)}),r},t.prototype.Zo=function(t,e){var n=this;return this.Eo.getEntries(t,e).next(function(e){return n.tc(t,e)})},t.prototype.tc=function(t,e){var n=this;return this.Ho.Di(t,e).next(function(r){var i=n.Xo(t,e,r),o=cd();return i.forEach(function(t,e){e||(e=new Ph(t,Wl.min())),o=o.Ht(t,e)}),o})},t.prototype.jr=function(t,e,n){return function(t){return Xl.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):uf(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new Xl(e)).next(function(t){var e=fd();return t instanceof kh&&(e=e.Ht(t.key,t)),e})},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=fd();return this.Ii.Ks(t,i).next(function(s){return hp.forEach(s,function(s){var a=function(t,e){return new tf(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.sc(t,a,n).next(function(t){t.forEach(function(t,e){o=o.Ht(t,e)})})}).next(function(){return o})})},t.prototype.sc=function(t,e,n){var r,i,o=this;return this.Eo.jr(t,e,n).next(function(n){return r=n,o.Ho.xi(t,e)}).next(function(e){return o.ic(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c),h=Ff(u,l,l,o.Ds);r=h instanceof kh?r.Ht(c,h):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){gf(e,n)||(r=r.remove(t))}),r})},t.prototype.ic=function(t,e,n){for(var r=vd(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Gf&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Eo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof kh&&(c=c.Ht(t,e))}),c})},t}(),Qg=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=vd(),i=vd(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Zg=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(Wl.min())?this.hc(t,e):this.uc.Zo(t,r).next(function(o){var s=i.lc(e,o);return(rf(e)||of(e))&&i._c(e.limitType,s,r,n)?i.hc(t,e):(yl()<=ps.a.DEBUG&&ml("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),pf(e)),i.uc.jr(t,e,n).next(function(t){return s.forEach(function(e){t=t.Ht(e.key,e)}),t}))})},t.prototype.lc=function(t,e){var n=new sd(vf(t));return e.forEach(function(e,r){r instanceof kh&&gf(t,r)&&(n=n.add(r))}),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return yl()<=ps.a.DEBUG&&ml("QueryEngine","Using full collection scan to execute query:",pf(e)),this.uc.jr(t,e,Wl.min())},t}(),Xg=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new rd(Il),this.wc=new mg(function(t){return Mh(t)},Vh),this.Ec=Wl.min(),this.Ho=t.Wo(n),this.Tc=t.kr(),this.wo=t.Cr(),this.Ic=new Yg(this.Tc,this.Ho,this.persistence.jo()),this.To=t.Go(),this.fc.ac(this.Ic)}return t.prototype.Ar=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.br(n,e.dc)})},t}();function tv(t,e,n,r){return new Xg(t,e,n,r)}function ev(t,e){return Object(kt.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(kt.d)(this,function(s){switch(s.label){case 0:return n=Cl(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.Ho.vi(t).next(function(s){return o=s,r=n.persistence.Wo(e),i=new Yg(n.Tc,r,n.persistence.jo()),r.vi(t)}).next(function(e){for(var n=[],r=[],s=vd(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,v=p.mutations;g<v.length;g++)s=s.add(v[g].key)}return i.Zo(t,s).next(function(t){return{mc:t,Ac:n,Rc:r}})})})];case 1:return o=s.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}})})}function nv(t,e){var n=Cl(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Tc.Or({Gr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=hp.resolve();return o.forEach(function(t){s=s.next(function(){return r.di(e,t)}).next(function(e){var o=e,s=n.ks.get(t);El(null!==s),(!o||o.version.u(s)<0)&&(o=i.Cs(t,o,n))&&r.hi(o,n.Os)})}),s.next(function(){return t.Ho.Ni(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Ho.ki(t)}).next(function(){return n.Ic.Zo(t,r)})})}function rv(t){var e=Cl(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.wo.Wi(t)})}function iv(t,e){var n=Cl(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Tc.Or({Gr:!0});i=n.dc;var s=[];e.Oe.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.wo.rr(t,e.Ke,o).next(function(){return n.wo.sr(t,e.Ue,o)}));var u=e.resumeToken;if(u.o()>0){var c=a.$t(u,r).Lt(t.Ss);i=i.Ht(o,c),function(t,e,n){return El(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.j()-t.Mt.j()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(a,c,e)&&s.push(n.wo.Yi(t,c))}}});var a=cd();if(e.Me.forEach(function(r,i){e.Le.has(r)&&s.push(n.persistence.mi.Mr(t,r))}),s.push(ov(t,o,e.Me,r,void 0).next(function(t){a=t})),!r.isEqual(Wl.min())){var u=n.wo.Wi(t).next(function(e){return n.wo.Gi(t,t.Ss,r)});s.push(u)}return hp.$n(s).next(function(){return o.apply(t)}).next(function(){return n.Ic.tc(t,a)})}).then(function(t){return n.dc=i,t})}function ov(t,e,n,r,i){var o=vd();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=cd();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof Ph&&s.version.isEqual(Wl.min())?(e.fi(n,u),o=o.Ht(n,s)):null==a||s.version.u(a.version)>0||0===s.version.u(a.version)&&a.hasPendingWrites?(e.hi(s,u),o=o.Ht(n,s)):ml("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function sv(t,e){var n=Cl(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Ho.pi(t,e)})}function av(t,e){var n=Cl(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.wo.nr(t,e).next(function(i){return i?hp.resolve(r=i):n.wo.Ui(t).next(function(i){return r=new mf(e,i,0,t.Ss),n.wo.zi(t,r).next(function(){return r})})})}).then(function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t})}function uv(t,e,n){return Object(kt.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(kt.d)(this,function(a){switch(a.label){case 0:r=Cl(t),i=r.dc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.mi.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!vp(s=a.sent()))throw s;return ml("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}})})}function cv(t,e,n){var r=Cl(t),i=Wl.min(),o=vd();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Cl(t),i=r.wc.get(n);return void 0!==i?hp.resolve(r.dc.get(i)):r.wo.nr(e,n)}(r,t,lf(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.wo.ar(t,e.targetId).next(function(t){o=t})}).next(function(){return r.fc.jr(t,e,n?i:Wl.min(),n?o:vd())}).next(function(t){return{documents:t,Pc:o}})})}function lv(t,e){var n=Cl(t),r=Cl(n.wo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Dn(t,e).next(function(t){return t?t.target:null})})}function hv(t){var e=Cl(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Cl(t),i=cd(),o=tg(n),s=qg(e),a=IDBKeyRange.lowerBound(o,!0);return s.ls({index:Vp.readTimeIndex,range:a},function(t,e){var n=Zp(r.Kt,e);i=i.Ht(n.key,n),o=e.readTime}).next(function(){return{gs:i,readTime:eg(o)}})}(e.Tc,t,e.Ec)}).then(function(t){var n=t.gs;return e.Ec=t.readTime,n})}function fv(t){return Object(kt.b)(this,void 0,void 0,function(){var e;return Object(kt.d)(this,function(n){return[2,(e=Cl(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=qg(t),n=Wl.min();return e.ls({index:Vp.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=eg(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Ec=t})]})})}function dv(t,e,n,r){return Object(kt.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return Object(kt.d)(this,function(p){switch(p.label){case 0:for(i=Cl(t),o=vd(),s=cd(),a=pd(),u=0,c=n;u<c.length;u++)h=e.yc((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.Ht(h,e.gc(l)),a=a.Ht(h,e.Vc(l.metadata.readTime));return f=i.Tc.Or({Gr:!0}),[4,av(i,function(t){return lf(nf(Yl.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return ov(t,f,s,Wl.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.wo.Zi(t,d.targetId).next(function(){return i.wo.sr(t,o,d.targetId)}).next(function(){return i.Ic.tc(t,e)})})})]}})})}function pv(t,e,n){return void 0===n&&(n=vd()),Object(kt.b)(this,void 0,void 0,function(){var r,i;return Object(kt.d)(this,function(o){switch(o.label){case 0:return[4,av(t,lf(ag(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Cl(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Vd(e.readTime);if(r.Mt.u(o)>=0)return i.To.qs(t,e);var s=r.$t(Al.h,o);return i.dc=i.dc.Ht(s.targetId,s),i.wo.Yi(t,s).next(function(){return i.wo.Zi(t,r.targetId)}).next(function(){return i.wo.sr(t,n,r.targetId)}).next(function(){return i.To.qs(t,e)})})]}})})}var gv=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ls=function(t,e){return hp.resolve(this.bc.get(e))},t.prototype.$s=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:Vd(n.createTime)}),hp.resolve()},t.prototype.Bs=function(t,e){return hp.resolve(this.vc.get(e))},t.prototype.qs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:ag(t.bundledQuery),readTime:Vd(t.readTime)}}(e)),hp.resolve()},t}(),vv=function(){function t(){this.Sc=new sd(yv.Dc),this.Cc=new sd(yv.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.ir=function(t,e){var n=new yv(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach(function(t){return n.ir(t,e)})},t.prototype.cr=function(t,e){this.Fc(new yv(t,e))},t.prototype.Oc=function(t,e){var n=this;t.forEach(function(t){return n.cr(t,e)})},t.prototype.kc=function(t){var e=this,n=new Xl(new Yl([])),r=new yv(n,t),i=new yv(n,t+1),o=[];return this.Cc.Ae([r,i],function(t){e.Fc(t),o.push(t.key)}),o},t.prototype.Mc=function(){var t=this;this.Sc.forEach(function(e){return t.Fc(e)})},t.prototype.Fc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new Xl(new Yl([])),n=new yv(e,t),r=new yv(e,t+1),i=vd();return this.Cc.Ae([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Mi=function(t){var e=new yv(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),yv=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return Xl.J(t.key,e.key)||Il(t.$c,e.$c)},t.xc=function(t,e){return Il(t.$c,e.$c)||Xl.J(t.key,e.key)},t}(),mv=function(){function t(t,e){this.Ii=t,this.mi=e,this.Ho=[],this.Bc=1,this.qc=new sd(yv.Dc)}return t.prototype.Pi=function(t){return hp.resolve(0===this.Ho.length)},t.prototype.yi=function(t,e,n,r){var i=this.Bc;this.Bc++;var o=new Jp(i,e,n,r);this.Ho.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.qc=this.qc.add(new yv(u.key,i)),this.Ii.Qs(t,u.key.path.Z())}return hp.resolve(o)},t.prototype.gi=function(t,e){return hp.resolve(this.Uc(e))},t.prototype.pi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return hp.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.bi=function(){return hp.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.vi=function(t){return hp.resolve(this.Ho.slice())},t.prototype.Si=function(t,e){var n=this,r=new yv(e,0),i=new yv(e,Number.POSITIVE_INFINITY),o=[];return this.qc.Ae([r,i],function(t){var e=n.Uc(t.$c);o.push(e)}),hp.resolve(o)},t.prototype.Di=function(t,e){var n=this,r=new sd(Il);return e.forEach(function(t){var e=new yv(t,0),i=new yv(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],function(t){r=r.add(t.$c)})}),hp.resolve(this.Kc(r))},t.prototype.xi=function(t,e){var n=e.path,r=n.length+1,i=n;Xl.Et(i)||(i=i.child(""));var o=new yv(new Xl(i),0),s=new sd(Il);return this.qc.Re(function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(s=s.add(t.$c)),!0)},o),hp.resolve(this.Kc(s))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.Uc(t);null!==r&&n.push(r)}),n},t.prototype.Ni=function(t,e){var n=this;El(0===this.Wc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return hp.forEach(e.mutations,function(i){var o=new yv(i.key,e.batchId);return r=r.delete(o),n.mi.Oi(t,i.key)}).next(function(){n.qc=r})},t.prototype.Fi=function(t){},t.prototype.Mi=function(t,e){var n=new yv(e,0),r=this.qc.Pe(n);return hp.resolve(e.isEqual(r&&r.key))},t.prototype.ki=function(t){return hp.resolve()},t.prototype.Wc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),bv=function(){function t(t,e){this.Ii=t,this.jc=e,this.docs=new rd(Xl.J),this.size=0}return t.prototype.hi=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.jc(e);return this.docs=this.docs.Ht(r,{_i:e,size:s,readTime:n}),this.size+=s-o,this.Ii.Qs(t,r.path.Z())},t.prototype.fi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.di=function(t,e){var n=this.docs.get(e);return hp.resolve(n?n._i:null)},t.prototype.getEntries=function(t,e){var n=this,r=ld();return e.forEach(function(t){var e=n.docs.get(t);r=r.Ht(t,e?e._i:null)}),hp.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=fd(),i=new Xl(e.path.child("")),o=this.docs.ne(i);o.ae();){var s=o.ce(),a=s.value,u=a._i,c=a.readTime;if(!e.path.st(s.key.path))break;c.u(n)<=0||u instanceof kh&&gf(e,u)&&(r=r.Ht(u.key,u))}return hp.resolve(r)},t.prototype.Gc=function(t,e){return hp.forEach(this.docs,function(t){return e(t)})},t.prototype.Or=function(t){return new _v(this)},t.prototype.Lr=function(t){return hp.resolve(this.size)},t}(),_v=function(t){function e(e){var n=this;return(n=t.call(this)||this).zr=e,n}return Object(kt.c)(e,t),e.prototype.Ti=function(t){var e=this,n=[];return this.ci.forEach(function(r,i){i&&i._i?n.push(e.zr.hi(t,i._i,e.ui(r))):e.zr.fi(r)}),hp.$n(n)},e.prototype.wi=function(t,e){return this.zr.di(t,e)},e.prototype.Ei=function(t,e){return this.zr.getEntries(t,e)},e}(bg),wv=function(){function t(t){this.persistence=t,this.zc=new mg(function(t){return Mh(t)},Vh),this.lastRemoteSnapshotVersion=Wl.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new vv,this.targetCount=0,this.Yc=Ig.Bi()}return t.prototype.mn=function(t,e){return this.zc.forEach(function(t,n){return e(n)}),hp.resolve()},t.prototype.Wi=function(t){return hp.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return hp.resolve(this.Hc)},t.prototype.Ui=function(t){return this.highestTargetId=this.Yc.next(),hp.resolve(this.highestTargetId)},t.prototype.Gi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),hp.resolve()},t.prototype.Hi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new Ig(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.zi=function(t,e){return this.Hi(e),this.targetCount+=1,hp.resolve()},t.prototype.Yi=function(t,e){return this.Hi(e),hp.resolve()},t.prototype.Xi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,hp.resolve()},t.prototype.tr=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.zc.delete(s),o.push(r.Zi(t,a.targetId)),i++)}),hp.$n(o).next(function(){return i})},t.prototype.er=function(t){return hp.resolve(this.targetCount)},t.prototype.nr=function(t,e){var n=this.zc.get(e)||null;return hp.resolve(n)},t.prototype.sr=function(t,e,n){return this.Jc.Nc(e,n),hp.resolve()},t.prototype.rr=function(t,e,n){this.Jc.Oc(e,n);var r=this.persistence.mi,i=[];return r&&e.forEach(function(e){i.push(r.Oi(t,e))}),hp.$n(i)},t.prototype.Zi=function(t,e){return this.Jc.kc(e),hp.resolve()},t.prototype.ar=function(t,e){var n=this.Jc.Lc(e);return hp.resolve(n)},t.prototype.Mi=function(t,e){return hp.resolve(this.Jc.Mi(e))},t}(),Ov=function(){function t(t,e){var n=this;this.Xc={},this.ro=new Kl(0),this.oo=!1,this.oo=!0,this.mi=t(this),this.wo=new wv(this),this.Ii=new hg,this.Eo=function(t,e){return new bv(t,function(t){return n.mi.Zc(t)})}(this.Ii),this.Kt=new Qp(e),this.To=new gv(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.$o=function(){return this.oo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Vo=function(){},t.prototype.po=function(){},t.prototype.jo=function(){return this.Ii},t.prototype.Wo=function(t){var e=this.Xc[t.R()];return e||(e=new mv(this.Ii,this.mi),this.Xc[t.R()]=e),e},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r=this;ml("MemoryPersistence","Starting transaction:",t);var i=new Ev(this.ro.next());return this.mi.ta(),n(i).next(function(t){return r.mi.ea(i).next(function(){return t})}).Mn().then(function(t){return i.bs(),t})},t.prototype.na=function(t,e){return hp.Bn(Object.values(this.Xc).map(function(n){return function(){return n.Mi(t,e)}}))},t}(),Ev=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ss=e,n}return Object(kt.c)(e,t),e}(Sp),Cv=function(){function t(t){this.persistence=t,this.sa=new vv,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw Ol()},enumerable:!1,configurable:!0}),t.prototype.ir=function(t,e,n){return this.sa.ir(n,e),this.oa.delete(n.toString()),hp.resolve()},t.prototype.cr=function(t,e,n){return this.sa.cr(n,e),this.oa.add(n.toString()),hp.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),hp.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach(function(t){return n.oa.add(t.toString())});var r=this.persistence.Cr();return r.ar(t,e.targetId).next(function(t){t.forEach(function(t){return n.oa.add(t.toString())})}).next(function(){return r.Xi(t,e)})},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.kr().Or();return hp.forEach(this.oa,function(r){var i=Xl.ft(r);return e.ca(t,i).next(function(t){t||n.fi(i)})}).next(function(){return e.ia=null,n.apply(t)})},t.prototype.Mr=function(t,e){var n=this;return this.ca(t,e).next(function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())})},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return hp.Bn([function(){return hp.resolve(n.sa.Mi(e))},function(){return n.persistence.Cr().Mi(t,e)},function(){return n.persistence.na(t,e)}])},t}();function Sv(t,e){return"firestore_clients_"+t+"_"+e}function xv(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function Iv(t,e){return"firestore_targets_"+t+"_"+e}var Tv=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new Pl(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(bl("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),jv=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Pl(r.error.code,r.error.message)),i?new t(e,r.state,o):(bl("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Av=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=md(),s=0;i&&s<r.activeTargetIds.length;++s)i=dh(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(bl("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),kv=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(bl("SharedClientState","Failed to parse online state: "+e),null)},t}(),Pv=function(){function t(){this.activeTargetIds=md()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Nv=function(){function t(t,e,n,r,i){this.window=t,this.no=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new rd(Il),this.Ir=!1,this.Ia=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=Sv(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new Pv),this.Ra=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.Wn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(kt.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(kt.d)(this,function(h){switch(h.label){case 0:return[4,this.fa.Ko()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(Sv(this.persistenceKey,r)))&&(o=Av.aa(r,i))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(s=this.storage.getItem(this.ga))&&(a=this.ba(s))&&this.va(a),u=0,c=this.Ia;u<c.length;u++)this.Ea(c[u]);return this.Ia=[],this.window.addEventListener("unload",function(){return l.$o()}),this.Ir=!0,[2]}})})},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Fa=function(t,e,n){this.Na(t,e,n),this.Oa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(Iv(this.persistenceKey,t));if(n){var r=jv.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(Iv(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach(function(t){r.Oa(t)}),this.currentUser=t,n.forEach(function(t){r.xa(t)})},t.prototype.Ka=function(t){this.Wa(t)},t.prototype.ja=function(){this.Ga()},t.prototype.$o=function(){this.Ir&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Ir=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return ml("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){ml("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){ml("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(ml("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void bl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.no.vo(function(){return Object(kt.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(kt.d)(this,function(a){if(this.Ir){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(o=this.ba(n.newValue)))return[2,this.va(o)]}else if(n.key===this.Aa)(s=function(t){var e=Kl.U;if(null!=t)try{var n=JSON.parse(t);El("number"==typeof n),e=n}catch(t){bl("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Kl.U&&this.L(s);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new Tv(this.currentUser,t,e,n),i=xv(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Oa=function(t){var e=xv(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Wa=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=Iv(this.persistenceKey,t),i=new jv(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return Av.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Tv.aa(new Fl(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return jv.aa(r,e)},t.prototype.ba=function(t){return kv.aa(t)},t.prototype.Xa=function(t){return Object(kt.b)(this,void 0,void 0,function(){return Object(kt.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(ml("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.fa.iu(s,a).then(function(){n.Ta=r})},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=md();return t.forEach(function(t,n){e=e.ye(n.activeTargetIds)}),e},t}(),Rv=function(){function t(){this.ru=new Pv,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Fa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new Pv,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.$o=function(){},t.prototype.q=function(t){},t.prototype.ja=function(){},t}(),Dv=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.$o=function(){},t}(),Mv=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.$o=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){ml("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){ml("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.Wn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Vv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Lv=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),Uv=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(kt.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise(function(i,o){var s=new gl;s.listenOnce(fl.COMPLETE,function(){try{switch(s.getLastErrorCode()){case hl.NO_ERROR:var e=s.getResponseJson();ml("Connection","XHR received:",JSON.stringify(e)),i(e);break;case hl.TIMEOUT:ml("Connection",'RPC "'+t+'" timed out'),o(new Pl(kl.DEADLINE_EXCEEDED,"Request time out"));break;case hl.HTTP_ERROR:var n=s.getStatus();if(ml("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(kl).indexOf(e)>=0?e:kl.UNKNOWN}(r.status);o(new Pl(a,r.message))}else o(new Pl(kl.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Pl(kl.UNAVAILABLE,"Connection failed."));break;default:Ol()}}finally{ml("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new sl,i=cu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(o.initMessageHeaders,e),Object(Pt.m)()||Object(Pt.o)()||Object(Pt.k)()||Object(Pt.l)()||Object(Pt.p)()||Object(Pt.j)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");ml("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Lv({du:function(t){c?ml("Connection","Not sending because WebChannel is closed:",t):(u||(ml("Connection","Opening WebChannel transport."),a.open(),u=!0),ml("Connection","WebChannel sending:",t),a.send(t))},wu:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,pl.EventType.OPEN,function(){c||ml("Connection","WebChannel transport opened.")}),h(a,pl.EventType.CLOSE,function(){c||(c=!0,ml("Connection","WebChannel transport closed"),l.Pu())}),h(a,pl.EventType.ERROR,function(t){c||(c=!0,_l("Connection","WebChannel transport errored:",t),l.Pu(new Pl(kl.UNAVAILABLE,"The operation could not be completed")))}),h(a,pl.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];El(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){ml("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Yf[t];if(void 0!==e)return nd(e)}(i),s=r.message;void 0===o&&(o=kl.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Pu(new Pl(o,s)),a.close()}else ml("Connection","WebChannel received:",n),l.yu(n)}}),h(i,dl.STAT_EVENT,function(t){10===t.stat?ml("Connection","Detected buffering proxy"):11===t.stat&&ml("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Ru()},0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);ml("RestConnection","Sending: ",i,n);var o={};return this.Su(o,r),this.Du(t,i,o,n).then(function(t){return ml("RestConnection","Received: ",t),t},function(e){throw _l("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.1",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+Vv[t]},t}());function Fv(){return"undefined"!=typeof window?window:null}function qv(){return"undefined"!=typeof document?document:null}function Hv(t){return new Nd(t,!0)}var zv=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.no=t,this.ds=e,this.Nu=n,this.Fu=r,this.Ou=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Ou},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&ml("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.no.mr(this.ds,i,function(){return e.Lu=Date.now(),t()}),this.ku*=this.Fu,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Ou&&(this.ku=this.Ou)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),Bv=function(){function t(t,e,n,r,i,o){this.no=t,this.Qu=n,this.Ku=r,this.Wu=i,this.listener=o,this.state=0,this.ju=0,this.Gu=null,this.stream=null,this.zu=new zv(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(kt.b)(this,void 0,void 0,function(){return Object(kt.d)(this,function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.no.mr(this.Qu,6e4,function(){return t.th()}))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(kt.b)(this,void 0,void 0,function(){return Object(kt.d)(this,function(t){return this.Ju()?[2,this.close(0)]:[2]})})},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(kt.b)(this,void 0,void 0,function(){return Object(kt.d)(this,function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.ju++,3!==t?this.zu.reset():e&&e.code===kl.RESOURCE_EXHAUSTED?(bl(e.toString()),bl("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===kl.UNAUTHENTICATED&&this.Wu.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}})})},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.ju),n=this.ju;this.Wu.getToken().then(function(e){t.ju===n&&t.rh(e)},function(n){e(function(){var e=new Pl(kl.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)})})},t.prototype.rh=function(t){var e=this,n=this.ih(this.ju);this.stream=this.ah(t),this.stream.Eu(function(){n(function(){return e.state=2,e.listener.Eu()})}),this.stream.Iu(function(t){n(function(){return e.oh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu(function(){return Object(kt.b)(t,void 0,void 0,function(){return Object(kt.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.oh=function(t){return ml("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.no.ys(function(){return e.ju===t?n():(ml("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Gv=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Kt=i,s}return Object(kt.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ol()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.qt?(El(void 0===e||"string"==typeof e),Al.fromBase64String(e||"")):(El(void 0===e||e instanceof Uint8Array),Al.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?kl.UNKNOWN:nd(t.code);return new Pl(e,t.message||"")}(a);n=new xd(r,i,o,s||null)}else if("documentChange"in e){i=qd(t,(r=e.documentChange).document.name),o=Vd(r.document.updateTime);var a=new Ih({mapValue:{fields:r.document.fields}}),u=(s=new kh(i,o,a,{}),r.targetIds||[]);n=new Cd(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=qd(t,(r=e.documentDelete).document),o=r.readTime?Vd(r.readTime):Wl.min(),a=new Ph(i,o),n=new Cd([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=qd(t,(r=e.documentRemove).document),n=new Cd([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Ol();var c=e.filter;i=new td(r=c.count||0),n=new Sd(o=c.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return Wl.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Wl.min():e.readTime?Vd(e.readTime):Wl.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=Bd(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=Lh(r)?{documents:Yd(t,r)}:{query:Qd(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=Dd(t,e.resumeToken):e.Mt.u(Wl.min())>0&&(n.readTime=Rd(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ol()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=Bd(this.Kt),e.removeTarget=t,this.eh(e)},e}(Bv),Kv=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Kt=i,s._h=!1,s}return Object(kt.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(El(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(El(void 0!==e),t.map(function(t){return function(t,e){var n=Vd(t.updateTime?t.updateTime:e);n.isEqual(Wl.min())&&(n=Vd(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Df(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=Vd(t.commitTime);return this.listener.wh(n,e)}return El(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=Bd(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Wd(e.Kt,t)})};this.eh(n)},e}(Bv),$v=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(kt.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new Pl(kl.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.bu(t,e,n,i)}).catch(function(t){throw t.code===kl.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.Cu(t,e,n,i)}).catch(function(t){throw t.code===kl.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.terminate=function(){this.Ih=!1},e}(function(){}),Wv=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.mr("online_state_timeout",1e4,function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()}))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(bl(e),this.Ph=!1):ml("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),Jv=function(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Fh=new Set,this.Oh=[],this.kh=i,this.kh.cu(function(t){n.ys(function(){return Object(kt.b)(o,void 0,void 0,function(){return Object(kt.d)(this,function(t){switch(t.label){case 0:return iy(this)?(ml("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(kt.b)(this,void 0,void 0,function(){var e;return Object(kt.d)(this,function(n){switch(n.label){case 0:return(e=Cl(t)).Fh.add(4),[4,Qv(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Fh.delete(4),[4,Yv(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Mh=new Wv(n,r)};function Yv(t){return Object(kt.b)(this,void 0,void 0,function(){var e,n;return Object(kt.d)(this,function(r){switch(r.label){case 0:if(!iy(t))return[3,4];e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Qv(t){return Object(kt.b)(this,void 0,void 0,function(){var e,n;return Object(kt.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Zv(t,e){var n=Cl(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),ry(n)?ny(n):by(n).Ju()&&ty(n,e))}function Xv(t,e){var n=Cl(t),r=by(n);n.Nh.delete(e),r.Ju()&&ey(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():iy(n)&&n.Mh.set("Unknown"))}function ty(t,e){t.Lh.cn(e.targetId),by(t).hh(e)}function ey(t,e){t.Lh.cn(e),by(t).lh(e)}function ny(t){t.Lh=new Td({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),by(t).start(),t.Mh.yh()}function ry(t){return iy(t)&&!by(t).Hu()&&t.Nh.size>0}function iy(t){return 0===Cl(t).Fh.size}function oy(t){t.Lh=void 0}function sy(t){return Object(kt.b)(this,void 0,void 0,function(){return Object(kt.d)(this,function(e){return t.Nh.forEach(function(e,n){ty(t,e)}),[2]})})}function ay(t,e){return Object(kt.b)(this,void 0,void 0,function(){return Object(kt.d)(this,function(n){return oy(t),ry(t)?(t.Mh.ph(e),ny(t)):t.Mh.set("Unknown"),[2]})})}function uy(t,e,n){return Object(kt.b)(this,void 0,void 0,function(){var r,i,o;return Object(kt.d)(this,function(s){switch(s.label){case 0:if(t.Mh.set("Online"),!(e instanceof xd&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(kt.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(kt.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Nh.has(o=i[r])?[4,t.Ch.$h(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),ml("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,cy(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Cd?t.Lh.wn(e):e instanceof Sd?t.Lh.yn(e):t.Lh.In(e),n.isEqual(Wl.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,rv(t.Sh)];case 8:return i=s.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Oe.forEach(function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}}),n.ke.forEach(function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(Al.h,n.Mt)),ey(t,e);var r=new mf(n.target,e,1,n.sequenceNumber);ty(t,r)}}),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return ml("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,cy(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function cy(t,e,n){return Object(kt.b)(this,void 0,void 0,function(){var r=this;return Object(kt.d)(this,function(i){switch(i.label){case 0:if(!vp(e))throw e;return t.Fh.add(1),[4,Qv(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return rv(t.Sh)}),t.fs.vo(function(){return Object(kt.b)(r,void 0,void 0,function(){return Object(kt.d)(this,function(e){switch(e.label){case 0:return ml("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Fh.delete(1),[4,Yv(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function ly(t,e){return e().catch(function(n){return cy(t,n,e)})}function hy(t){return Object(kt.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(kt.d)(this,function(s){switch(s.label){case 0:e=Cl(t),n=_y(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return iy(t)&&t.xh.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,sv(e.Sh,r)];case 3:return null===(i=s.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=_y(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,cy(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return fy(e)&&dy(e),[2]}})})}function fy(t){return iy(t)&&!_y(t).Hu()&&t.xh.length>0}function dy(t){_y(t).start()}function py(t){return Object(kt.b)(this,void 0,void 0,function(){return Object(kt.d)(this,function(e){return _y(t).Th(),[2]})})}function gy(t){return Object(kt.b)(this,void 0,void 0,function(){var e,n,r;return Object(kt.d)(this,function(i){for(e=_y(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]})})}function vy(t,e,n){return Object(kt.b)(this,void 0,void 0,function(){var r,i;return Object(kt.d)(this,function(o){switch(o.label){case 0:return r=t.xh.shift(),i=Yp.from(r,e,n),[4,ly(t,function(){return t.Ch.qh(i)})];case 1:return o.sent(),[4,hy(t)];case 2:return o.sent(),[2]}})})}function yy(t,e){return Object(kt.b)(this,void 0,void 0,function(){return Object(kt.d)(this,function(n){switch(n.label){case 0:return e&&_y(t).fh?[4,function(t,e){return Object(kt.b)(this,void 0,void 0,function(){var n,r;return Object(kt.d)(this,function(i){switch(i.label){case 0:return ed(r=e.code)&&r!==kl.ABORTED?(n=t.xh.shift(),_y(t).Xu(),[4,ly(t,function(){return t.Ch.Uh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,hy(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return fy(t)&&dy(t),[2]}})})}function my(t,e){return Object(kt.b)(this,void 0,void 0,function(){var n;return Object(kt.d)(this,function(r){switch(r.label){case 0:return n=Cl(t),e?(n.Fh.delete(2),[4,Yv(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Fh.add(2),[4,Qv(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function by(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=Cl(t);return r.mh(),new Gv(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:sy.bind(null,t),Iu:ay.bind(null,t),uh:uy.bind(null,t)}),t.Oh.push(function(n){return Object(kt.b)(e,void 0,void 0,function(){return Object(kt.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),ry(t)?ny(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),oy(t),e.label=3;case 3:return[2]}})})})),t.Qh}function _y(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=Cl(t);return r.mh(),new Kv(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:py.bind(null,t),Iu:yy.bind(null,t),Eh:gy.bind(null,t),wh:vy.bind(null,t)}),t.Oh.push(function(n){return Object(kt.b)(e,void 0,void 0,function(){return Object(kt.d)(this,function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,hy(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(ml("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}})})})),t.Kh}var wy=function(){this.Wh=void 0,this.listeners=[]},Oy=function(){this.queries=new mg(function(t){return df(t)},ff),this.onlineState="Unknown",this.jh=new Set};function Ey(t,e){return Object(kt.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(kt.d)(this,function(c){switch(c.label){case 0:if(n=Cl(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new wy),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.Gh(r)];case 2:return s.Wh=c.sent(),[3,4];case 3:return a=c.sent(),u=Op(a,"Initialization of query '"+pf(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.Wh&&e.Hh(o.Wh)&&Iy(n),[2]}})})}function Cy(t,e){return Object(kt.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(kt.d)(this,function(a){return n=Cl(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]})})}function Sy(t,e){for(var n=Cl(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hh(s)&&(r=!0);a.Wh=s}}r&&Iy(n)}function xy(t,e,n){var r=Cl(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Iy(t){t.jh.forEach(function(t){t.next()})}var Ty=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new wd(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=wd.Fe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),jy=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),Ay=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return qd(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?$d(this.Kt,t.document,!1):new Ph(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return Vd(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new Ay(this.Kt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.yc(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||vd()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(kt.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(kt.d)(this,function(o){switch(o.label){case 0:return[4,dv(this.Sh,new Ay(this.Kt),this.documents,this.rl.id)];case 1:t=o.sent(),e=this.cl(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,pv(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Ep(Object.assign({},this.progress),t))]}})})}}();var ky=function(t){this.key=t},Py=function(t){this.key=t},Ny=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=vd(),this.Ce=vd(),this.ll=vf(t),this._l=new bd(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new _d,i=e?e._l:this._l,o=e?e.Ce:this.Ce,s=i,a=!1,u=rf(this.query)&&i.size===this.query.limit?i.last():null,c=of(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt(function(t,e){var l=i.get(t),h=e instanceof kh?e:null;h&&(h=gf(n.query,h)?h:null);var f=!!l&&n.Ce.has(l.key),d=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.El(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.ll(h,u)>0||c&&n.ll(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),rf(this.query)||of(this.query))for(;s.size>this.query.limit;){var l=rf(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{_l:s,wl:r,_c:a,Ce:o}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ti=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ol()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)}),this.Tl(n);var s=e?this.Il():[],a=0===this.hl.size&&this.qe?1:0,u=a!==this.ul;return this.ul=a,0!==o.length||u?{snapshot:new wd(this.query,t._l,i,o,t.Ce,0===a,u,!1),ml:s}:{ml:s}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ti({_l:this._l,wl:new _d,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach(function(t){return e.al=e.al.add(t)}),t.Qe.forEach(function(t){}),t.Ke.forEach(function(t){return e.al=e.al.delete(t)}),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=vd(),this._l.forEach(function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))});var n=[];return e.forEach(function(e){t.hl.has(e)||n.push(new Py(e))}),this.hl.forEach(function(t){e.has(t)||n.push(new ky(t))}),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=vd();var e=this.dl(t.documents);return this.Ti(e,!0)},t.prototype.Pl=function(){return wd.Fe(this.query,this._l,this.Ce,0===this.ul)},t}(),Ry=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Dy=function(t){this.key=t,this.yl=!1},My=function(){function t(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new mg(function(t){return df(t)},ff),this.Dl=new Map,this.Cl=[],this.xl=new rd(Xl.J),this.Nl=new Map,this.Fl=new vv,this.Ol={},this.kl=new Map,this.Ml=Ig.qi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function Vy(t,e){return Object(kt.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(kt.d)(this,function(a){switch(a.label){case 0:return n=fm(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,av(n.Sh,lf(e))];case 2:return o=a.sent(),s=n.pl.ka(o.targetId),[4,Ly(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.$l&&Zv(n.gl,o),a.label=4;case 4:return[2,r]}})})}function Ly(t,e,n,r){return Object(kt.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(kt.d)(this,function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(kt.b)(this,void 0,void 0,function(){var i,o,s;return Object(kt.d)(this,function(a){switch(a.label){case 0:return(i=e.view.dl(n))._c?[4,cv(t.Sh,e.query,!1).then(function(t){return e.view.dl(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.Oe.get(e.targetId),s=e.view.Ti(i,t.$l,o),[2,(Qy(t,e.targetId,s.ml),s.snapshot)]}})})}(t,e,n,r)},[4,cv(t.Sh,e,!0)];case 1:return i=l.sent(),o=new Ny(e,i.Pc),s=o.dl(i.documents),a=Ed.Be(n,r&&"Offline"!==t.onlineState),u=o.Ti(s,t.$l,a),Qy(t,n,u.ml),c=new Ry(e,n,o),[2,(t.Sl.set(e,c),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),u.snapshot)]}})})}function Uy(t,e){return Object(kt.b)(this,void 0,void 0,function(){var n,r,i;return Object(kt.d)(this,function(o){switch(o.label){case 0:return n=Cl(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter(function(t){return!ff(t,e)})),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,uv(n.Sh,r.targetId,!1).then(function(){n.pl.Ba(r.targetId),Xv(n.gl,r.targetId),Jy(n,r.targetId)}).catch(yg)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Jy(n,r.targetId),[4,uv(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Fy(t,e,n){return Object(kt.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(kt.d)(this,function(a){switch(a.label){case 0:r=dm(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Cl(t),i=$l.now(),o=e.reduce(function(t,e){return t.add(e.key)},vd());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Ic.Zo(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=qf(c,n.get(c.key));null!=l&&s.push(new Gf(c.key,l,jh(l.proto.mapValue),Mf.exists(!0)))}return r.Ho.yi(t,i,s,e)})}).then(function(t){var e=t.Fs(n);return{batchId:t.batchId,ci:e}})}(r.Sh,e)];case 2:return i=a.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Ol[t.currentUser.R()];r||(r=new rd(Il)),r=r.Ht(e,n),t.Ol[t.currentUser.R()]=r}(r,i.batchId,n),[4,tm(r,i.ci)];case 3:return a.sent(),[4,hy(r.gl)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Op(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function qy(t,e){return Object(kt.b)(this,void 0,void 0,function(){var n,r;return Object(kt.d)(this,function(i){switch(i.label){case 0:n=Cl(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,iv(n.Sh,e)];case 2:return r=i.sent(),e.Oe.forEach(function(t,e){var r=n.Nl.get(e);r&&(El(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?El(r.yl):t.Ke.size>0&&(El(r.yl),r.yl=!1))}),[4,tm(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,yg(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Hy(t,e,n){var r=Cl(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach(function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Cl(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zh(e)&&(r=!0)}),r&&Iy(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function zy(t,e,n){return Object(kt.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(kt.d)(this,function(c){switch(c.label){case 0:return(r=Cl(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(o=i&&i.key)?(s=(s=new rd(Xl.J)).Ht(o,new Ph(o,Wl.min())),a=vd().add(o),u=new Od(Wl.min(),new Map,new sd(Il),s,a),[4,qy(r,u)]):[3,2];case 1:return c.sent(),r.xl=r.xl.remove(o),r.Nl.delete(e),Xy(r),[3,4];case 2:return[4,uv(r.Sh,e,!1).then(function(){return Jy(r,e,n)}).catch(yg)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function By(t,e){return Object(kt.b)(this,void 0,void 0,function(){var n,r,i;return Object(kt.d)(this,function(o){switch(o.label){case 0:n=Cl(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,nv(n.Sh,e)];case 2:return i=o.sent(),Wy(n,r,null),$y(n,r),n.pl.Fa(r,"acknowledged"),[4,tm(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,yg(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Gy(t,e,n){return Object(kt.b)(this,void 0,void 0,function(){var r,i;return Object(kt.d)(this,function(o){switch(o.label){case 0:r=Cl(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Cl(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Ho.gi(t,e).next(function(e){return El(null!==e),r=e.keys(),n.Ho.Ni(t,e)}).next(function(){return n.Ho.ki(t)}).next(function(){return n.Ic.Zo(t,r)})})}(r.Sh,e)];case 2:return i=o.sent(),Wy(r,e,n),$y(r,e),r.pl.Fa(e,"rejected",n),[4,tm(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,yg(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Ky(t,e){return Object(kt.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(kt.d)(this,function(a){switch(a.label){case 0:iy((n=Cl(t)).gl)||ml("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Cl(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Ho.bi(t)})}(n.Sh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return o=a.sent(),s=Op(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function $y(t,e){(t.kl.get(e)||[]).forEach(function(t){t.resolve()}),t.kl.delete(e)}function Wy(t,e,n){var r=Cl(t),i=r.Ol[r.currentUser.R()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ol[r.currentUser.R()]=i}}function Jy(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Fl.kc(e).forEach(function(e){t.Fl.Mi(e)||Yy(t,e)})}function Yy(t,e){var n=t.xl.get(e);null!==n&&(Xv(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),Xy(t))}function Qy(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof ky?(t.Fl.ir(o.key,e),Zy(t,o)):o instanceof Py?(ml("SyncEngine","Document no longer in limbo: "+o.key),t.Fl.cr(o.key,e),t.Fl.Mi(o.key)||Yy(t,o.key)):Ol()}}function Zy(t,e){var n=e.key;t.xl.get(n)||(ml("SyncEngine","New document in limbo: "+n),t.Cl.push(n),Xy(t))}function Xy(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new Dy(e)),t.xl=t.xl.Ht(e,n),Zv(t.gl,new mf(lf(nf(e.path)),n,2,Kl.U))}}function tm(t,e,n){return Object(kt.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(kt.d)(this,function(a){switch(a.label){case 0:return r=Cl(t),i=[],o=[],s=[],r.Sl.nt()?[3,3]:(r.Sl.forEach(function(t,a){s.push(r.Bl(a,e,n).then(function(t){if(t){r.$l&&r.pl.qa(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Qg.cc(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vl.uh(i),[4,function(t,e){return Object(kt.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(kt.d)(this,function(l){switch(l.label){case 0:n=Cl(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return hp.forEach(e,function(e){return hp.forEach(e.rc,function(r){return n.persistence.mi.ir(t,e.targetId,r)}).next(function(){return hp.forEach(e.oc,function(r){return n.persistence.mi.cr(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!vp(r=l.sent()))throw r;return ml("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.dc.get(a),c=u.Bt(u.Mt),n.dc=n.dc.Ht(a,c));return[2]}})})}(r.Sh,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function em(t,e){return Object(kt.b)(this,void 0,void 0,function(){var n,r;return Object(kt.d)(this,function(i){switch(i.label){case 0:return(n=Cl(t)).currentUser.isEqual(e)?[3,3]:(ml("SyncEngine","User change. New user:",e.R()),[4,ev(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach(function(t){t.forEach(function(t){t.reject(new Pl(kl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,tm(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function nm(t,e){var n=Cl(t),r=n.Nl.get(e);if(r&&r.yl)return vd().add(r.key);var i=vd(),o=n.Dl.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Sl.get(a[s]);i=i.ye(u.view.fl)}return i}function rm(t,e){return Object(kt.b)(this,void 0,void 0,function(){var n,r,i;return Object(kt.d)(this,function(o){switch(o.label){case 0:return[4,cv((n=Cl(t)).Sh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Rl(r),[2,(n.$l&&Qy(n,e.targetId,i.ml),i)]}})})}function im(t){return Object(kt.b)(this,void 0,void 0,function(){var e;return Object(kt.d)(this,function(n){return[2,hv((e=Cl(t)).Sh).then(function(t){return tm(e,t)})]})})}function om(t,e,n,r){return Object(kt.b)(this,void 0,void 0,function(){var i,o;return Object(kt.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Cl(t),r=Cl(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Vi(t,e).next(function(e){return e?n.Ic.Zo(t,e):hp.resolve(null)})})}((i=Cl(t)).Sh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,hy(i.gl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Wy(i,e,r||null),$y(i,e),function(t,e){Cl(Cl(t).Ho).Fi(e)}(i.Sh,e)):Ol(),s.label=4;case 4:return[4,tm(i,o)];case 5:return s.sent(),[3,7];case 6:ml("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function sm(t,e){return Object(kt.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(kt.d)(this,function(c){switch(c.label){case 0:return fm(n=Cl(t)),dm(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,am(n,r.rt())]);case 1:return i=c.sent(),n.Ll=!0,[4,my(n.gl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Zv(n.gl,s[o]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(a=[],u=Promise.resolve(),n.Dl.forEach(function(t,e){n.pl.$a(e)?a.push(e):u=u.then(function(){return Jy(n,e),uv(n.Sh,e,!0)}),Xv(n.gl,e)}),[4,u]);case 4:return c.sent(),[4,am(n,a)];case 5:return c.sent(),function(t){var e=Cl(t);e.Nl.forEach(function(t,n){Xv(e.gl,n)}),e.Fl.Mc(),e.Nl=new Map,e.xl=new rd(Xl.J)}(n),n.Ll=!1,[4,my(n.gl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function am(t,e,n){return Object(kt.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(kt.d)(this,function(g){switch(g.label){case 0:n=Cl(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Dl.get(a=s[o]))&&0!==c.length?[4,av(n.Sh,lf(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Sl.get(h[l]),[4,rm(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,lv(n.Sh,a)];case 8:return p=g.sent(),[4,av(n.Sh,p)];case 9:return u=g.sent(),[4,Ly(n,um(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}})})}function um(t){return ef(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function cm(t){var e=Cl(t);return Cl(Cl(e.Sh).persistence).Ko()}function lm(t,e,n,r){return Object(kt.b)(this,void 0,void 0,function(){var i,o,s;return Object(kt.d)(this,function(a){switch(a.label){case 0:return(i=Cl(t)).Ll?(ml("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,hv(i.Sh)];case 3:return o=a.sent(),s=Od.$e(e,"current"===n),[4,tm(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,uv(i.Sh,e,!0)];case 6:return a.sent(),Jy(i,e,r),[3,8];case 7:Ol(),a.label=8;case 8:return[2]}})})}function hm(t,e,n){return Object(kt.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(kt.d)(this,function(f){switch(f.label){case 0:if(!(r=fm(t)).Ll)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Dl.has(s=o[i])?(ml("SyncEngine","Adding an already active target "+s),[3,5]):[4,lv(r.Sh,s)]:[3,6];case 2:return a=f.sent(),[4,av(r.Sh,a)];case 3:return u=f.sent(),[4,Ly(r,um(a),u.targetId,!1)];case 4:f.sent(),Zv(r.gl,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(kt.d)(this,function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,uv(r.Sh,t,!1).then(function(){Xv(r.gl,t),Jy(r,t)}).catch(yg)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function fm(t){var e=Cl(t);return e.gl.Ch.Bh=qy.bind(null,e),e.gl.Ch.Sn=nm.bind(null,e),e.gl.Ch.$h=zy.bind(null,e),e.vl.uh=Sy.bind(null,e.Vl),e.vl.ql=xy.bind(null,e.Vl),e}function dm(t){var e=Cl(t);return e.gl.Ch.qh=By.bind(null,e),e.gl.Ch.Uh=Gy.bind(null,e),e}var pm=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(kt.b)(this,void 0,void 0,function(){return Object(kt.d)(this,function(e){switch(e.label){case 0:return this.Kt=Hv(t.gu.T),this.pl=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return tv(this.persistence,new Zg,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new Ov(Cv.ra,this.Kt)},t.prototype.jl=function(t){return new Rv},t.prototype.terminate=function(){return Object(kt.b)(this,void 0,void 0,function(){return Object(kt.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.$o()];case 1:return t.sent(),[4,this.persistence.$o()];case 2:return t.sent(),[2]}})})},t}(),gm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(kt.c)(e,t),e.prototype.initialize=function(e){return Object(kt.b)(this,void 0,void 0,function(){return Object(kt.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,fv(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,dm(this.Xl.fa)];case 4:return n.sent(),[4,hy(this.Xl.gl)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return tv(this.persistence,new Zg,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new Rg(this.persistence.mi.dr,t.fs)},e.prototype.Gl=function(t){var e=Jg(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?vg.Zs(this.cacheSizeBytes):vg.ni;return new Kg(this.synchronizeTabs,e,t.clientId,n,t.fs,Fv(),qv(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.jl=function(t){return new Rv},e}(pm),vm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(kt.c)(e,t),e.prototype.initialize=function(e){return Object(kt.b)(this,void 0,void 0,function(){var n,r=this;return Object(kt.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof Nv?(this.pl.fa={nu:om.bind(null,n),su:lm.bind(null,n),iu:hm.bind(null,n),Ko:cm.bind(null,n),eu:im.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.yo(function(t){return Object(kt.b)(r,void 0,void 0,function(){return Object(kt.d)(this,function(e){switch(e.label){case 0:return[4,sm(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Ir?this.zl.start(this.Sh):t||this.zl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jl=function(t){var e=Fv();if(!Nv.Wn(e))throw new Pl(kl.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Jg(t.gu.T,t.gu.persistenceKey);return new Nv(e,t.fs,n,t.clientId,t.Yl)},e}(gm),ym=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(kt.b)(this,void 0,void 0,function(){var n=this;return Object(kt.d)(this,function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return Hy(n.fa,t,1)},this.gl.Ch.s_=em.bind(null,this.fa),[4,my(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new Oy},t.prototype.Zl=function(t){var e=Hv(t.gu.T),n=new Uv(t.gu);return function(t,e,n){return new $v(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return Hy(s.fa,t,0)},o=Mv.Wn()?new Mv:new Dv,new Jv(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var a=new My(t,e,n,r,i,o);return s&&(a.Ll=!0),a}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(kt.b)(this,void 0,void 0,function(){var e;return Object(kt.d)(this,function(n){switch(n.label){case 0:return e=Cl(t),ml("RemoteStore","RemoteStore shutting down."),e.Fh.add(5),[4,Qv(e)];case 1:return n.sent(),e.kh.$o(),e.Mh.set("Unknown"),[2]}})})}(this.gl)},t}(),mm=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),bm=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new lp,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then(function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(kt.b)(this,void 0,void 0,function(){return Object(kt.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Kl=function(){return Object(kt.b)(this,void 0,void 0,function(){return Object(kt.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}})})},t.prototype.a_=function(){return Object(kt.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(kt.d)(this,function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new jy(JSON.parse(r),t.length+n)]}})})},t.prototype.__=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.u_=function(){return Object(kt.b)(this,void 0,void 0,function(){var t,e;return Object(kt.d)(this,function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.l_=function(t){return Object(kt.b)(this,void 0,void 0,function(){var e;return Object(kt.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(kt.b)(this,void 0,void 0,function(){var t,e;return Object(kt.d)(this,function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Pl(kl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new Zl(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),_m=function(t){this._methodName=t};function wm(t,e,n){if(!n)throw new Pl(kl.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Om(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Pl(kl.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Em(t,e,n,r){if(!0===e&&!0===r)throw new Pl(kl.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Cm(t){if(!Xl.Et(t))throw new Pl(kl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Sm(t){if(Xl.Et(t))throw new Pl(kl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function xm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ol()}function Im(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pl(kl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=xm(t);throw new Pl(kl.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Tm(t,e){if(e<=0)throw new Pl(kl.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var jm=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Pl(kl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Pl(kl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Em("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Am=new Map,km=function(){function t(t,e){this.w_="(lite)",this.E_=new jm({}),this.T_=!1,t instanceof Ul?(this.I_=t,this.m_=new Hl):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Pl(kl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(t.options.projectId)}(t),this.m_=new zl(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new Pl(kl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new Pl(kl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new jm(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Hl;switch(t.type){case"gapi":var e=t.client;return El(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Gl(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Pl(kl.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=Am.get(this))&&(ml("ComponentProvider","Removing Datastore"),Am.delete(this),t.terminate()),Promise.resolve();var t},t}(),Pm=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Rm(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Nm=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Rm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,nf(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(kt.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new Pm(this.firestore,null,new Xl(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Nm);function Dm(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Rl&&(t=t._),wm("collection","path",e),t instanceof km)return Sm(n=Yl.ct.apply(Yl,Object(kt.g)([e],r))),new Rm(t,null,n);if(!(t instanceof Pm||t instanceof Rm))throw new Pl(kl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Sm(n=Yl.ct.apply(Yl,Object(kt.g)([t.path],r)).child(Yl.ct(e))),new Rm(t.firestore,null,n)}function Mm(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Rl&&(t=t._),1===arguments.length&&(e=xl.t()),wm("doc","path",e),t instanceof km)return Cm(n=Yl.ct.apply(Yl,Object(kt.g)([e],r))),new Pm(t,null,new Xl(n));if(!(t instanceof Pm||t instanceof Rm))throw new Pl(kl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Cm(n=t.D_.child(Yl.ct.apply(Yl,Object(kt.g)([e],r)))),new Pm(t.firestore,t instanceof Rm?t.v_:null,new Xl(n))}function Vm(t,e){return t instanceof Rl&&(t=t._),e instanceof Rl&&(e=e._),(t instanceof Pm||t instanceof Rm)&&(e instanceof Pm||e instanceof Rm)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Lm(t,e){return t instanceof Rl&&(t=t._),e instanceof Rl&&(e=e._),t instanceof Nm&&e instanceof Nm&&t.firestore===e.firestore&&ff(t.C_,e.C_)&&t.v_===e.v_}var Um=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Pl(kl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Pl(kl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return Il(this.x_,t.x_)||Il(this.N_,t.N_)},t}(),Fm=/^__.*__$/,qm=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.zt?new Gf(t,this.data,this.zt,e,this.fieldTransforms):new Bf(t,this.data,e,this.fieldTransforms)},t}(),Hm=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new Gf(t,this.data,this.zt,e,this.fieldTransforms)},t}();function zm(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ol()}}var Bm=function(){function t(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.zt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return lb(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.zt.find(function(e){return t.st(e)})||void 0!==this.fieldTransforms.find(function(e){return t.st(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(zm(this.k_)&&Fm.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),Gm=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||Hv(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new Bm({k_:t,methodName:e,j_:n,path:Zl.at(),B_:!1,W_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function Km(t){var e=t.p_(),n=Hv(t.I_);return new Gm(t.I_,!!e.ignoreUndefinedProperties,n)}function $m(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);sb("Data must be an object, but it was:",s,r);var a,u,c=ib(r,s);if(o.merge)a=new rh(s.zt),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=ab(e,f[h],n);if(!s.contains(d))throw new Pl(kl.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");hb(l,d)||l.push(d)}a=new rh(l),u=s.fieldTransforms.filter(function(t){return a.It(t.field)})}else a=null,u=s.fieldTransforms;return new qm(new Ih(c),a,u)}var Wm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(kt.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(_m);function Jm(t,e,n){return new Bm({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var Ym=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(kt.c)(e,t),e.prototype.z_=function(t){return new Rf(t.path,new xf)},e.prototype.isEqual=function(t){return t instanceof e},e}(_m),Qm=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(kt.c)(e,t),e.prototype.z_=function(t){var e=Jm(this,t,!0),n=this.H_.map(function(t){return rb(t,e)}),r=new If(n);return new Rf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(_m),Zm=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(kt.c)(e,t),e.prototype.z_=function(t){var e=Jm(this,t,!0),n=this.H_.map(function(t){return rb(t,e)}),r=new jf(n);return new Rf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(_m),Xm=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(kt.c)(e,t),e.prototype.z_=function(t){var e=new kf(t.Kt,wf(t.Kt,this.J_));return new Rf(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(_m);function tb(t,e,n,r){var i=t.G_(1,e,n);sb("Data must be an object, but it was:",i,r);var o=[],s=new Th;eh(r,function(t,r){var a=cb(e,t,n);r instanceof Rl&&(r=r._);var u=i.U_(a);if(r instanceof Wm)o.push(a);else{var c=rb(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new rh(o);return new Hm(s.yt(),a,i.fieldTransforms)}function eb(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[ab(e,r,n)],u=[i];if(o.length%2!=0)throw new Pl(kl.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(ab(e,o[c])),u.push(o[c+1]);for(var l=[],h=new Th,f=a.length-1;f>=0;--f)if(!hb(l,a[f])){var d=a[f],p=u[f];p instanceof Rl&&(p=p._);var g=s.U_(d);if(p instanceof Wm)l.push(d);else{var v=rb(p,g);null!=v&&(l.push(d),h.set(d,v))}}var y=new rh(l);return new Hm(h.yt(),y,s.fieldTransforms)}function nb(t,e,n,r){return void 0===r&&(r=!1),rb(n,t.G_(r?4:3,e))}function rb(t,e){if(t instanceof Rl&&(t=t._),ob(t))return sb("Unsupported field value:",e,t),ib(t,e);if(t instanceof _m)return function(t,e){if(!zm(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=rb(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Rl&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return wf(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=$l.fromDate(t);return{timestampValue:Rd(e.Kt,n)}}if(t instanceof $l)return n=new $l(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Rd(e.Kt,n)};if(t instanceof Um)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Nl)return{bytesValue:Dd(e.Kt,t.l)};if(t instanceof Pm){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Ld(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+xm(t))}(t,e)}function ib(t,e){var n={};return nh(t)?e.path&&e.path.length>0&&e.zt.push(e.path):eh(t,function(t,r){var i=rb(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function ob(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof $l||t instanceof Um||t instanceof Nl||t instanceof Pm||t instanceof _m)}function sb(t,e,n){if(!ob(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=xm(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function ab(t,e,n){if(e instanceof Rl&&(e=e._),e instanceof bm)return e.d_;if("string"==typeof e)return cb(t,e);throw lb("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var ub=new RegExp("[~\\*/\\[\\]]");function cb(t,e,n){if(e.search(ub)>=0)throw lb("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(bm.bind.apply(bm,Object(kt.g)([void 0],e.split("."))))).d_}catch(r){throw lb("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function lb(t,e,n,r,i){var o=r&&!r.nt(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Pl(kl.INVALID_ARGUMENT,(a+=". ")+t+u)}function hb(t,e){return t.some(function(t){return t.isEqual(e)})}var fb=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(kt.b)(this,void 0,void 0,function(){var e,n=this;return Object(kt.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new Pl(kl.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(kt.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(kt.d)(this,function(u){switch(u.label){case 0:return n=Cl(t),r=Bd(n.Kt)+"/documents",i={documents:e.map(function(t){return Fd(n.Kt,t)})},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){El(!!e.found);var n=qd(t,e.found.name),r=Vd(e.found.updateTime),i=new Ih({mapValue:{fields:e.found.fields}});return new kh(n,r,i,{})}(t,e):"missing"in e?function(t,e){El(!!e.missing),El(!!e.readTime);var n=qd(t,e.missing),r=Vd(e.readTime);return new Ph(n,r)}(t,e):Ol()}(n.Kt,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());El(!!e),a.push(e)}),a)]}})})}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof Ph||t instanceof kh?n.sf(t):Ol()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Zf(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(kt.b)(this,void 0,void 0,function(){var t,e=this;return Object(kt.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Xl.ft(n);e.mutations.push(new Xf(r,e.Gt(r)))}),[4,function(t,e){return Object(kt.b)(this,void 0,void 0,function(){var n,r,i;return Object(kt.d)(this,function(o){switch(o.label){case 0:return n=Cl(t),r=Bd(n.Kt)+"/documents",i={writes:e.map(function(t){return Wd(n.Kt,t)})},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof kh)e=t.version;else{if(!(t instanceof Ph))throw Ol();e=Wl.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Pl(kl.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Mf.updateTime(e):Mf.Wt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(Wl.min()))throw new Pl(kl.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mf.updateTime(e)}return Mf.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),db=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new zv(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu(function(){return Object(kt.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(kt.d)(this,function(r){return t=new fb(this.Dh),(e=this.uf(t))&&e.then(function(e){n.fs.ys(function(){return t.commit().then(function(){n.Ts.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!hh(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys(function(){return e.af(),Promise.resolve()})):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!ed(e)}return!1},t}(),pb=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=Fl.UNAUTHENTICATED,this.clientId=xl.t(),this._f=function(){},this.N=new lp,this.credentials.S(function(t){ml("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()})}return t.prototype.getConfiguration=function(){return Object(kt.b)(this,void 0,void 0,function(){return Object(kt.d)(this,function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this.fs.wf)throw new Pl(kl.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new lp;return this.fs.Tf(function(){return Object(kt.b)(t,void 0,void 0,function(){var t,n;return Object(kt.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Op(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function gb(t,e){return Object(kt.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(kt.d)(this,function(o){switch(o.label){case 0:return t.fs.Af(),ml("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff(function(n){r.isEqual(n)||(r=n,t.fs.vo(function(){return Object(kt.b)(i,void 0,void 0,function(){return Object(kt.d)(this,function(t){switch(t.label){case 0:return[4,ev(e.Sh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.Vo(function(){return t.terminate()}),t.mf=e,[2]}})})}function vb(t,e){return Object(kt.b)(this,void 0,void 0,function(){var n,r;return Object(kt.d)(this,function(i){switch(i.label){case 0:return t.fs.Af(),[4,yb(t)];case 1:return n=i.sent(),ml("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t.fs.vo(function(){return function(t,e){return Object(kt.b)(this,void 0,void 0,function(){var n,r;return Object(kt.d)(this,function(i){switch(i.label){case 0:return(n=Cl(t)).fs.Af(),ml("RemoteStore","RemoteStore received new credentials"),r=iy(n),n.Fh.add(3),[4,Qv(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Fh.delete(3),[4,Yv(n)];case 3:return i.sent(),[2]}})})}(e.gl,n)})}),t.If=e,[2]}})})}function yb(t){return Object(kt.b)(this,void 0,void 0,function(){return Object(kt.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(ml("FirestoreClient","Using default OfflineComponentProvider"),[4,gb(t,new pm)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function mb(t){return Object(kt.b)(this,void 0,void 0,function(){return Object(kt.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(ml("FirestoreClient","Using default OnlineComponentProvider"),[4,vb(t,new ym)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function bb(t){return yb(t).then(function(t){return t.persistence})}function _b(t){return yb(t).then(function(t){return t.Sh})}function wb(t){return mb(t).then(function(t){return t.gl})}function Ob(t){return mb(t).then(function(t){return t.fa})}function Eb(t){return Object(kt.b)(this,void 0,void 0,function(){var e,n;return Object(kt.d)(this,function(r){switch(r.label){case 0:return[4,mb(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=Vy.bind(null,e.fa),n.Jh=Uy.bind(null,e.fa),n)]}})})}function Cb(t,e,n){var r=this;void 0===n&&(n={});var i=new lp;return t.fs.ys(function(){return Object(kt.b)(r,void 0,void 0,function(){var r;return Object(kt.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new mm({next:function(o){e.ys(function(){return Cy(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Pl(kl.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Pl(kl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Ty(nf(n.path),o,{includeMetadataChanges:!0,sl:!0});return Ey(t,s)},[4,Eb(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}})})}),i.promise}function Sb(t,e,n){var r=this;void 0===n&&(n={});var i=new lp;return t.fs.ys(function(){return Object(kt.b)(r,void 0,void 0,function(){var r;return Object(kt.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new mm({next:function(n){e.ys(function(){return Cy(t,s)}),n.fromCache&&"server"===r.source?i.reject(new Pl(kl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Ty(n,o,{includeMetadataChanges:!0,sl:!0});return Ey(t,s)},[4,Eb(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}})})}),i.promise}var xb=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new zv(this,"async_queue_retry"),this.vf=function(){var e=qv();e&&ml("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=qv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=qv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.vo=function(t){var e=this;this.ys(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(kt.b)(this,void 0,void 0,function(){var t,e=this;return Object(kt.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!vp(t=n.sent()))throw t;return ml("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,bl("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.mr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=wp.Is(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Ol()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(kt.b)(this,void 0,void 0,function(){var t;return Object(kt.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ws-e.ws});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()})},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),Ib=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new xb,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(kt.c)(e,t),e.prototype.b_=function(){return this.Lf||jb(this),this.Lf.terminate()},e}(km);function Tb(t){return t.Lf||jb(t),t.Lf.df(),t.Lf}function jb(t){var e=t.p_(),n=function(t,e,n){return new Ll(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new pb(t.m_,t.Mf,n)}function Ab(t,e,n){var r=this,i=new lp;return t.fs.enqueue(function(){return Object(kt.b)(r,void 0,void 0,function(){var r;return Object(kt.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,gb(t,n)];case 1:return o.sent(),[4,vb(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===kl.FAILED_PRECONDITION||t.code===kl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function kb(t){if(t.R_||t.P_)throw new Pl(kl.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Pb=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),ph(t)){case 0:return null;case 1:return t.booleanValue;case 2:return sh(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(ah(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw Ol()}},t.prototype.jf=function(t,e){var n=this,r={};return eh(t.fields||{},function(t,i){r[t]=n.$f(i,e)}),r},t.prototype.Kf=function(t){return new Um(sh(t.latitude),sh(t.longitude))},t.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.$f(t,e)})},t.prototype.qf=function(t,e){switch(e){case"previous":var n=ch(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(lh(t));default:return null}},t.prototype.Bf=function(t){var e=oh(t);return new $l(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=Yl.ct(t);El(cp(n));var r=new Ul(n.get(1),n.get(3)),i=new Xl(n.X(5));return r.isEqual(e)||bl("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Nb=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Pm(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new Rb(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(Db("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),Rb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(kt.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Nb);function Db(t,e){return"string"==typeof e?cb(t,e):e instanceof Rl?e._.d_:e.d_}function Mb(t){if(of(t)&&0===t.Nt.length)throw new Pl(kl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Vb=function(){};function Lb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var Ub=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(kt.c)(e,t),e.prototype.Yf=function(t){var e=Km(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.ht()){if("array-contains"===o||"array-contains-any"===o)throw new Pl(kl.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Kb(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(Gb(r,t,l[c]));a={arrayValue:{values:u}}}else a=Gb(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Kb(s,o),a=nb(n,"where",s,"in"===o||"not-in"===o);var h=Uh.create(i,o,a);return function(t,e){if(e.xt()){var n=af(t);if(null!==n&&!n.isEqual(e.field))throw new Pl(kl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=sf(t);null!==r&&$b(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Pl(kl.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new Nm(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new tf(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Vb),Fb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(kt.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Pl(kl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Pl(kl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Yh(e,n);return function(t,e){if(null===sf(t)){var n=af(t);null!==n&&$b(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new Nm(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new tf(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Vb),qb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(kt.c)(e,t),e.prototype.Yf=function(t){return new Nm(t.firestore,t.v_,hf(t.C_,this.nd,this.sd))},e}(Vb),Hb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(kt.c)(e,t),e.prototype.Yf=function(t){var e=Bb(t,this.type,this.rd,this.od);return new Nm(t.firestore,t.v_,function(t,e){return new tf(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Vb),zb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(kt.c)(e,t),e.prototype.Yf=function(t){var e=Bb(t,this.type,this.rd,this.od);return new Nm(t.firestore,t.v_,function(t,e){return new tf(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Vb);function Bb(t,e,n,r){if(n[0]instanceof Rl&&(n[0]=n[0]._),n[0]instanceof Nb)return function(t,e,n,r,i){if(!r)throw new Pl(kl.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=cf(t);s<a.length;s++){var u=a[s];if(u.field.ht())o.push(wh(e,r.key));else{var c=r.field(u.field);if(uh(c))throw new Pl(kl.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.ot();throw new Pl(kl.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Wh(o,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=Km(t.firestore);return function(t,e,n,r,i,o){var s=t.Nt;if(i.length>s.length)throw new Pl(kl.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.ht()){if("string"!=typeof c)throw new Pl(kl.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!uf(t)&&-1!==c.indexOf("/"))throw new Pl(kl.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Yl.ct(c));if(!Xl.Et(l))throw new Pl(kl.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Xl(l);a.push(wh(e,h))}else{var f=nb(n,r,c);a.push(f)}}return new Wh(a,o)}(t.C_,t.firestore.I_,i,e,n,r)}function Gb(t,e,n){if(n instanceof Rl&&(n=n._),"string"==typeof n){if(""===n)throw new Pl(kl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!uf(e)&&-1!==n.indexOf("/"))throw new Pl(kl.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Yl.ct(n));if(!Xl.Et(r))throw new Pl(kl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return wh(t,new Xl(r))}if(n instanceof Pm)return wh(t,n.S_);throw new Pl(kl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+xm(n)+".")}function Kb(t,e){if(!Array.isArray(t)||0===t.length)throw new Pl(kl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Pl(kl.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function $b(t,e,n){if(!n.isEqual(e))throw new Pl(kl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Wb(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function Jb(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Yb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(kt.c)(e,t),e.prototype.Uf=function(t){return new Nl(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Pm(this.firestore,null,e)},e}(Pb),Qb=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Zb=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).zf=e,a.ad=e,a.metadata=o,a}return Object(kt.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new Xb(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(Db("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(Nb),Xb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(kt.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Zb),t_=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new Qb(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach(function(r){t.call(e,new Xb(n.zf,n.Hf,r.key,r,new Qb(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new Pl(kl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map(function(e){return{type:"added",doc:new Xb(t.zf,t.Hf,e.doc.key,e.doc,new Qb(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t.ud.De;return t.ud.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Xb(t.zf,t.Hf,e.doc.key,e.doc,new Qb(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:e_(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.ld=e),this.hd},t}();function e_(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ol()}}function n_(t,e){return t instanceof Zb&&e instanceof Zb?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof t_&&e instanceof t_&&t.zf===e.zf&&Lm(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var r_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(kt.c)(e,t),e.prototype.Uf=function(t){return new Nl(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Pm(this.firestore,null,e)},e}(Pb);function i_(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Im(t,Pm);var o=Im(t.firestore,Ib),s=Km(o);return e instanceof Rl&&(e=e._),s_(o,[("string"==typeof e||e instanceof bm?eb(s,"updateDoc",t.S_,e,n,r):tb(s,"updateDoc",t.S_,e)).F_(t.S_,Mf.exists(!0))])}function o_(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Rl&&(t=t._);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Wb(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Wb(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Pm)c=Im(t.firestore,Ib),l=nf(t.S_.path),u={next:function(e){i[a]&&i[a](a_(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=Im(t,Nm);c=Im(d.firestore,Ib),l=d.C_;var p=new r_(c);u={next:function(t){i[a]&&i[a](new t_(c,p,d,t))},error:i[a+1],complete:i[a+2]},Mb(t.C_)}return function(t,e,n,r){var i=this,o=new mm(r),s=new Ty(e,o,n);return t.fs.ys(function(){return Object(kt.b)(i,void 0,void 0,function(){var e;return Object(kt.d)(this,function(n){switch(n.label){case 0:return e=Ey,[4,Eb(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.r_(),t.fs.ys(function(){return Object(kt.b)(i,void 0,void 0,function(){var e;return Object(kt.d)(this,function(n){switch(n.label){case 0:return e=Cy,[4,Eb(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(Tb(c),l,h,u)}function s_(t,e){return function(t,e){var n=this,r=new lp;return t.fs.ys(function(){return Object(kt.b)(n,void 0,void 0,function(){var n;return Object(kt.d)(this,function(i){switch(i.label){case 0:return n=Fy,[4,Ob(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Tb(t),e)}function a_(t,e,n){var r=n.docs.get(e.S_),i=new r_(t);return new Zb(t,i,e.S_,r,new Qb(n.hasPendingWrites,n.fromCache),e.v_)}var u_=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=Km(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=c_(t,this.zf),i=Jb(r.v_,e,n),o=$m(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.F_(r.S_,Mf.Wt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,s=c_(t,this.zf);return e instanceof Rl&&(e=e._),o="string"==typeof e||e instanceof bm?eb(this.wd,"WriteBatch.update",s.S_,e,n,r):tb(this.wd,"WriteBatch.update",s.S_,e),this.fd.push(o.F_(s.S_,Mf.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=c_(t,this.zf);return this.fd=this.fd.concat(new Zf(e.S_,Mf.Wt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new Pl(kl.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function c_(t,e){if(t instanceof Rl&&(t=t._),t.firestore!==e)throw new Pl(kl.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var l_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(kt.c)(e,t),e.prototype.get=function(e){var n=this,r=c_(e,this.zf),i=new r_(this.zf);return t.prototype.get.call(this,e).then(function(t){return new Zb(n.zf,i,r.S_,t.Jf,new Qb(!1,!1),r.v_)})},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=Km(t)}return t.prototype.get=function(t){var e=this,n=c_(t,this.zf),r=new Yb(this.zf);return this.Td.ef([n.S_]).then(function(t){if(!t||1!==t.length)return Ol();var i=t[0];if(i instanceof Ph)return new Nb(e.zf,r,n.S_,null,n.v_);if(i instanceof kh)return new Nb(e.zf,r,i.key,i,n.v_);throw Ol()})},t.prototype.set=function(t,e,n){var r=c_(t,this.zf),i=Jb(r.v_,e,n),o=$m(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=c_(t,this.zf);return e instanceof Rl&&(e=e._),o="string"==typeof e||e instanceof bm?eb(this.wd,"Transaction.update",s.S_,e,n,r):tb(this.wd,"Transaction.update",s.S_,e),this.Td.update(s.S_,o),this},t.prototype.delete=function(t){var e=c_(t,this.zf);return this.Td.delete(e.S_),this},t}()),h_=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){kb(t=Im(t,Ib));var n=Tb(t),r=t.p_(),i=new ym;return Ab(n,i,new gm(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){kb(t=Im(t,Ib));var e=Tb(t),n=t.p_(),r=new ym;return Ab(e,r,new vm(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new Pl(kl.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new lp;return t.Mf.Tf(function(){return Object(kt.b)(e,void 0,void 0,function(){var e;return Object(kt.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(kt.b)(this,void 0,void 0,function(){return Object(kt.d)(this,function(e){switch(e.label){case 0:return dp.Wn()?[4,dp.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Jg(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._)},t}(),f_=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Ul||(i.md=e),i}return Object(kt.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this._.V_().host&&_l("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(kt.b)(e,void 0,void 0,function(){var e,n;return Object(kt.d)(this,function(r){switch(r.label){case 0:return[4,bb(t)];case 1:return e=r.sent(),[4,wb(t)];case 2:return n=r.sent(),[2,(e.po(!0),function(t){var e=Cl(t);return e.Fh.delete(0),Yv(e)}(n))]}})})})}(Tb(Im(this._,Ib)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(kt.b)(e,void 0,void 0,function(){var e,n;return Object(kt.d)(this,function(r){switch(r.label){case 0:return[4,bb(t)];case 1:return e=r.sent(),[4,wb(t)];case 2:return n=r.sent(),[2,(e.po(!1),function(t){return Object(kt.b)(this,void 0,void 0,function(){var e;return Object(kt.d)(this,function(n){switch(n.label){case 0:return(e=Cl(t)).Fh.add(0),[4,Qv(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}})})}(n))]}})})})}(Tb(Im(this._,Ib)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Em("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new lp;return t.fs.ys(function(){return Object(kt.b)(e,void 0,void 0,function(){var e;return Object(kt.d)(this,function(r){switch(r.label){case 0:return e=Ky,[4,Ob(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Tb(Im(this._,Ib)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new mm(e);return t.fs.ys(function(){return Object(kt.b)(n,void 0,void 0,function(){var e;return Object(kt.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Cl(t).jh.add(e),e.next()},[4,Eb(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.r_(),t.fs.ys(function(){return Object(kt.b)(n,void 0,void 0,function(){var e;return Object(kt.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Cl(t).jh.delete(e)},[4,Eb(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Tb(t=Im(t,Ib)),Wb(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new Pl(kl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new S_(this,Dm(this._,t))}catch(t){throw y_(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new v_(this,Mm(this._,t))}catch(t){throw y_(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new O_(this,function(t,e){if(t=Im(t,km),wm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Pl(kl.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Nm(t,null,function(t){return new tf(Yl.at(),t)}(e))}(this._,t))}catch(t){throw y_(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new lp;return t.fs.ys(function(){return Object(kt.b)(n,void 0,void 0,function(){var n;return Object(kt.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return mb(t).then(function(t){return t.Dh})}(t)];case 1:return n=i.sent(),new db(t.fs,n,e,r).run(),[2]}})})}),r.promise}(Tb(t),function(n){return e(new l_(t,n))})}(this._,function(n){return t(new p_(e,n))})},e.prototype.batch=function(){var t=this;return Tb(this._),new g_(new u_(this._,function(e){return s_(t._,e)}))},e.prototype.loadBundle=function(t){throw new Pl(kl.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Pl(kl.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Rl),d_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(kt.c)(e,t),e.prototype.Uf=function(t){return new Vl(new Nl(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return v_.Ad(e,this.firestore,null)},e}(Pb),p_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(kt.c)(e,t),e.prototype.get=function(t){var e=this,n=x_(t);return this._.get(n).then(function(t){return new __(e.zf,t)})},e.prototype.set=function(t,e,n){var r=x_(t);return n?(Om("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=x_(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(kt.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=x_(t);return this._.delete(e),this},e}(Rl),g_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(kt.c)(e,t),e.prototype.set=function(t,e,n){var r=x_(t);return n?(Om("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=x_(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(kt.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=x_(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(Rl),v_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new d_(e),r}return Object(kt.c)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new Pl(kl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new Pm(n._,r,new Xl(t)))},e.Ad=function(t,n,r){return new e(n,new Pm(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new S_(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new S_(this.firestore,Dm(this._,t))}catch(t){throw y_(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Rl&&(t=t._),t instanceof Pm&&Vm(this._,t)},e.prototype.set=function(t,e){e=Om("DocumentReference.set",e);try{return function(t,e,n){t=Im(t,Pm);var r=Im(t.firestore,Ib),i=Jb(t.v_,e,n);return s_(r,[$m(Km(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Mf.Wt())])}(this._,t,e)}catch(t){throw y_(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?i_(this._,t):i_.apply(void 0,Object(kt.g)([this._,t,e],n))}catch(t){throw y_(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return s_(Im((t=this._).firestore,Ib),[new Zf(t.S_,Mf.Wt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=m_(e),i=b_(e,function(e){return new __(t.firestore,new Zb(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))});return o_(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Im(t,Pm);var e=Im(t.firestore,Ib),n=Tb(e),r=new r_(e);return function(t,e){var n=this,r=new lp;return t.fs.ys(function(){return Object(kt.b)(n,void 0,void 0,function(){var n;return Object(kt.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(kt.b)(this,void 0,void 0,function(){var r,i;return Object(kt.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Cl(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Ic.Jo(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof kh?n.resolve(i):i instanceof Ph?n.resolve(null):n.reject(new Pl(kl.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Op(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,_b(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new Zb(e,r,t.S_,n,new Qb(n instanceof kh&&n.bt,!0),t.v_)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Im(t,Pm);var e=Im(t.firestore,Ib);return Cb(Tb(e),t.S_,{source:"server"}).then(function(n){return a_(e,t,n)})}(this._):function(t){t=Im(t,Pm);var e=Im(t.firestore,Ib);return Cb(Tb(e),t.S_).then(function(n){return a_(e,t,n)})}(this._)).then(function(t){return new __(e.firestore,new Zb(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Rl);function y_(t,e,n){return t.message=t.message.replace(e,n),t}function m_(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Wb(r))return r}return{}}function b_(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Wb(t[0])?t[0]:Wb(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var __=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(kt.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new v_(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return n_(this._,t._)},e}(Rl),w_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(kt.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(__),O_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new d_(e),r}return Object(kt.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Lb(this._,function(t,e,n){var r=e,i=Db("where",t);return new Ub(i,r,n)}(t,n,r)))}catch(t){throw y_(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Lb(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=Db("orderBy",t);return new Fb(r,n)}(t,n)))}catch(t){throw y_(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Lb(this._,function(t){return Tm("limit",t),new qb("limit",t,"F")}(t)))}catch(t){throw y_(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Lb(this._,function(t){return Tm("limitToLast",t),new qb("limitToLast",t,"L")}(t)))}catch(t){throw y_(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lb(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hb("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw y_(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lb(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hb("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw y_(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lb(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zb("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw y_(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lb(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zb("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw y_(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Lm(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Im(t,Nm);var e=Im(t.firestore,Ib),n=Tb(e),r=new r_(e);return function(t,e){var n=this,r=new lp;return t.fs.ys(function(){return Object(kt.b)(n,void 0,void 0,function(){var n;return Object(kt.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(kt.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(kt.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,cv(t,e,!0)];case 1:return a=u.sent(),r=new Ny(e,a.Pc),i=r.dl(a.documents),o=r.Ti(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Op(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,_b(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new t_(e,r,t,n)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Im(t,Nm);var e=Im(t.firestore,Ib),n=Tb(e),r=new r_(e);return Sb(n,t.C_,{source:"server"}).then(function(n){return new t_(e,r,t,n)})}(this._):function(t){t=Im(t,Nm);var e=Im(t.firestore,Ib),n=Tb(e),r=new r_(e);return Mb(t.C_),Sb(n,t.C_).then(function(n){return new t_(e,r,t,n)})}(this._)).then(function(t){return new C_(e.firestore,new t_(e.firestore._,e.Hf,e._,t.ud))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=m_(e),i=b_(e,function(e){return new C_(t.firestore,new t_(t.firestore._,t.Hf,t._,e.ud))});return o_(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Rl),E_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(kt.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new w_(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(Rl),C_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(kt.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new O_(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map(function(e){return new w_(t.zf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map(function(t){return new E_(e.zf,t)})},e.prototype.forEach=function(t,e){var n=this;this._.forEach(function(r){t.call(e,new w_(n.zf,r))})},e.prototype.isEqual=function(t){return n_(this._,t._)},e}(Rl),S_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(kt.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new v_(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new v_(this.firestore,void 0===t?Mm(this._):Mm(this._,t))}catch(t){throw y_(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Im(t.firestore,Ib),r=Mm(t),i=Jb(t.v_,e);return s_(n,[$m(Km(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Mf.exists(!1))]).then(function(){return r})}(this._,t).then(function(t){return new v_(e.firestore,t)})},e.prototype.isEqual=function(t){return Vm(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(O_);function x_(t){return t instanceof Rl&&(t=t._),Im(t,Pm)}var I_=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(bm.bind.apply(bm,Object(kt.g)([void 0],e))))||this}return Object(kt.c)(e,t),e.documentId=function(){return new e(Zl.lt().ot())},e.prototype.isEqual=function(t){return t instanceof Rl&&(t=t._),t instanceof bm&&this._.d_.isEqual(t.d_)},e}(Rl),T_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(kt.c)(e,t),e.serverTimestamp=function(){var t=new Ym("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Wm("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Qm("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zm("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Xm("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(Rl);!function(){function t(){this.Pd={},this.yd=new lp,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.Wl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}();var j_,A_={Firestore:f_,GeoPoint:Um,Timestamp:$l,Blob:Vl,Transaction:p_,WriteBatch:g_,DocumentReference:v_,DocumentSnapshot:__,Query:O_,QueryDocumentSnapshot:w_,QuerySnapshot:C_,CollectionReference:S_,FieldPath:I_,FieldValue:T_,setLogLevel:function(t){vl.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Nt.a("firestore",function(t){return function(t,e){return new f_(t,new Ib(t,e),new h_)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},A_)))})(j_=At.a),j_.registerVersion("@firebase/firestore","2.1.1");var k_=n("VRyK"),P_=n("qgXg"),N_=n("Ylt2");class R_ extends mn.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new D_(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new bn.a;if(this.isStopped||this.hasError?o=fr.a.EMPTY:(this.observers.push(t),o=new N_.a(this,t)),r&&t.add(t=new Ct.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||P_.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class D_{constructor(t,e){this.time=t,this.value=e}}function M_(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new R_(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function V_(t,e){return e?xt(()=>t,e):xt(()=>t)}var L_=n("tf+s");const U_=new r.q("angularfire2.auth.use-emulator"),F_=new r.q("angularfire2.auth.settings"),q_=new r.q("angularfire2.auth.tenant-id"),H_=new r.q("angularfire2.auth.langugage-code"),z_=new r.q("angularfire2.auth.use-device-language"),B_=new r.q("angularfire.auth.persistence");let G_=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new jt.d(i),f=Object(jt.h)(h),d=new mn.a,p=Object(vt.a)(void 0).pipe(Object(Ct.b)(h.outsideAngular),xt(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Et.a)(()=>Object(jt.g)(t,i,e)),Object(Et.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(jt.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),M_({bufferSize:1,refCount:!1}));if(M(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(vt.a)(null);else{p.pipe(lr()).subscribe();const t=p.pipe(xt(t=>t.getRedirectResult().then(t=>t,()=>null)),f,M_({bufferSize:1,refCount:!1})),e=t=>new gt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(xt(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(xt(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(V_(n),Object(L_.a)(h.outsideAngular),Object(Ct.b)(h.insideAngular)),this.user=t.pipe(V_(r),Object(L_.a)(h.outsideAngular),Object(Ct.b)(h.insideAngular)),this.idToken=this.user.pipe(xt(t=>t?Object(yt.a)(t.getIdToken()):Object(vt.a)(null))),this.idTokenResult=this.user.pipe(xt(t=>t?Object(yt.a)(t.getIdTokenResult()):Object(vt.a)(null))),this.credential=Object(k_.a)(t,d,this.authState.pipe(Mn(t=>!t))).pipe(Object(Et.a)(t=>(null==t?void 0:t.user)?t:null),Object(L_.a)(h.outsideAngular),Object(Ct.b)(h.insideAngular))}return Object(jt.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(jt.c),r.Pb(jt.b,8),r.Pb(r.B),r.Pb(r.z),r.Pb(U_,8),r.Pb(F_,8),r.Pb(q_,8),r.Pb(H_,8),r.Pb(z_,8),r.Pb(B_,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(jt.c),Object(r.Pb)(jt.b,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(U_,8),Object(r.Pb)(F_,8),Object(r.Pb)(q_,8),Object(r.Pb)(H_,8),Object(r.Pb)(z_,8),Object(r.Pb)(B_,8))},token:t,providedIn:"any"}),t})();function K_(t,e){return function(t,e=bt.b){return new gt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function $_(t,e){return K_(t,e).pipe(Object(Et.a)(t=>({payload:t,type:"query"})))}function W_(t,e){return $_(t,e).pipe(er(void 0),us(),Object(Et.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function J_(t,e,n){return W_(t,n).pipe(nr((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Y_(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Y_(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Y_(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new hs(void 0,void 0)),Object(Et.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Y_(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Q_(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(jt.e)(G_,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class Z_{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=W_(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Et.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(er(void 0),us(),Mn(([t,e])=>e.length>0||!t),Object(Et.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(nr((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Q_(t);return J_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return $_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Et.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(yt.a)(this.query.get(t)).pipe(Object(Ct.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new X_(this.ref.doc(t),this.afs)}}class X_{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=ow(n,e);return new Z_(r,i,this.afs)}snapshotChanges(){return K_(this.ref,this.afs.schedulers.outsideAngular).pipe(er(void 0),us(),Object(Et.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Et.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(yt.a)(this.ref.get(t)).pipe(Object(Ct.b)(this.afs.schedulers.insideAngular))}}class tw{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?W_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Et.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Mn(t=>t.length>0),this.afs.keepUnstableUntilFirst):W_(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(nr((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Q_(t);return J_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return $_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Et.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(yt.a)(this.query.get(t)).pipe(Object(Ct.b)(this.afs.schedulers.insideAngular))}}const ew=new r.q("angularfire2.enableFirestorePersistence"),nw=new r.q("angularfire2.firestore.persistenceSettings"),rw=new r.q("angularfire2.firestore.settings"),iw=new r.q("angularfire2.firestore.use-emulator");function ow(t,e=(t=>t)){return{query:e(t),ref:t}}let sw=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new jt.d(o),this.keepUnstableUntilFirst=Object(jt.h)(this.schedulers);const c=Object(jt.g)(t,o,e);!ds.a.auth&&u&&Object(jt.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(jt.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!M(i)){const e=()=>{try{return Object(yt.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(j_){return"undefined"!=typeof console&&console.warn(j_),Object(vt.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(vt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=ow(n,e),o=this.schedulers.ngZone.run(()=>r);return new Z_(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new tw(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new X_(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(jt.c),r.Pb(jt.b,8),r.Pb(ew,8),r.Pb(rw,8),r.Pb(r.B),r.Pb(r.z),r.Pb(nw,8),r.Pb(iw,8),r.Pb(U_,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(jt.c),Object(r.Pb)(jt.b,8),Object(r.Pb)(ew,8),Object(r.Pb)(rw,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(nw,8),Object(r.Pb)(iw,8),Object(r.Pb)(U_,8))},token:t,providedIn:"any"}),t})(),aw=(()=>{class t{constructor(t,e,n){this.auth=t,this.route=e,this.firestore=n,this.auth.user.subscribe(t=>this.currentUser=t),this.auth.authState.subscribe(t=>{this.syncConfigs(),this.syncConfigs(),e.navigate(["gallery"]),console.log("to gallery"),this.syncConfigs()})}syncConfigs(){this.firestore.doc("configs/values").valueChanges().subscribe(t=>{t&&(this.config=t,console.log(this.config),this.syncUserVotes())})}syncUserVotes(){var t,e;this.firestore.doc((null===(t=this.config)||void 0===t?void 0:t.theme)+"_users/"+(null===(e=this.currentUser)||void 0===e?void 0:e.uid)).valueChanges().subscribe(t=>{var e,n,r;null==t&&(null===(e=this.config)||void 0===e?void 0:e.theme)?this.firestore.collection((null===(n=this.config)||void 0===n?void 0:n.theme)+"_users").doc(null===(r=this.currentUser)||void 0===r?void 0:r.uid).set({first:"",second:"",third:""}):this.userData=t})}updateUserVotes(t){var e,n,r;(null===(e=this.config)||void 0===e?void 0:e.theme)&&this.firestore.collection((null===(n=this.config)||void 0===n?void 0:n.theme)+"_users").doc(null===(r=this.currentUser)||void 0===r?void 0:r.uid).update(t)}loginWithGoogle(){this.auth.signInWithPopup(new ds.a.auth.GoogleAuthProvider)}loginWithEmail(t,e){this.auth.signInWithEmailAndPassword(t,e)}logout(){this.auth.signOut()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(G_),r.Pb(qo),r.Pb(sw))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var uw=n("XoHu");function cw(t,e){return new gt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(yt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const lw=new r.q("NgValueAccessor"),hw={provide:lw,useExisting:Object(r.T)(()=>fw),multi:!0};let fw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.xb([hw])]}),t})();const dw={provide:lw,useExisting:Object(r.T)(()=>gw),multi:!0},pw=new r.q("CompositionEventMode");let gw=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(pw,8))},t.\u0275dir=r.Db({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Sb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.xb([dw])]}),t})();function vw(t){return null==t||0===t.length}function yw(t){return null!=t&&"number"==typeof t.length}const mw=new r.q("NgValidators"),bw=new r.q("NgAsyncValidators"),_w=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ww{static min(t){return e=>{if(vw(e.value)||vw(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(vw(e.value)||vw(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return vw(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return vw(t.value)||_w.test(t.value)?null:{email:!0}}static minLength(t){return e=>vw(e.value)||!yw(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>yw(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return ww.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(vw(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Ow);return 0==e.length?null:function(t){return Cw(Sw(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Ow);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(On.a)(e))return cw(e,null);if(Object(uw.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return cw(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return cw(t=1===t.length&&Object(On.a)(t[0])?t[0]:t,null).pipe(Object(Et.a)(t=>e(...t)))}return cw(t,null)}(Sw(t,e).map(Ew)).pipe(Object(Et.a)(Cw))}}}function Ow(t){return null!=t}function Ew(t){const e=Object(r.qb)(t)?Object(yt.a)(t):t;return Object(r.pb)(e),e}function Cw(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Sw(t,e){return e.map(e=>e(t))}function xw(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Iw(t){return null!=t?ww.compose(xw(t)):null}function Tw(t){return null!=t?ww.composeAsync(xw(t)):null}function jw(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let Aw=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Iw(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Tw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t}),t})(),kw=(()=>{class t extends Aw{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Pw(e||t)},t.\u0275dir=r.Db({type:t,features:[r.vb]}),t})();const Pw=r.Nb(kw);class Nw extends Aw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Rw{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let Dw=(()=>{class t extends Rw{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Nw,2))},t.\u0275dir=r.Db({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})(),Mw=(()=>{class t extends Rw{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(kw,2))},t.\u0275dir=r.Db({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();const Vw={provide:lw,useExisting:Object(r.T)(()=>Lw),multi:!0};let Lw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([Vw])]}),t})();const Uw={provide:lw,useExisting:Object(r.T)(()=>qw),multi:!0};let Fw=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),qw=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Nw),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(Fw),r.Ib(r.r))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([Uw])]}),t})();const Hw={provide:lw,useExisting:Object(r.T)(()=>zw),multi:!0};let zw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([Hw])]}),t})();const Bw={provide:lw,useExisting:Object(r.T)(()=>Gw),multi:!0};let Gw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([Bw])]}),t})();const Kw={provide:lw,useExisting:Object(r.T)(()=>$w),multi:!0};let $w=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([Kw])]}),t})();function Ww(t,e){Yw(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Qw(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Qw(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Jw(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Yw(t,e,n){const r=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(jw(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=function(t){return t._rawAsyncValidators}(t);if(null!==e.asyncValidator?t.setAsyncValidators(jw(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();Jw(e._rawValidators,n),Jw(e._rawAsyncValidators,n)}}function Qw(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const Zw=[fw,zw,Lw,Gw,$w,qw];function Xw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const tO="VALID",eO="INVALID",nO="PENDING",rO="DISABLED";function iO(t){return(uO(t)?t.validators:t)||null}function oO(t){return Array.isArray(t)?Iw(t):t||null}function sO(t,e){return(uO(e)?e.asyncValidators:t)||null}function aO(t){return Array.isArray(t)?Tw(t):t||null}function uO(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class cO{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=oO(this._rawValidators),this._composedAsyncValidatorFn=aO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===tO}get invalid(){return this.status===eO}get pending(){return this.status==nO}get disabled(){return this.status===rO}get enabled(){return this.status!==rO}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=oO(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=aO(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=nO,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=rO,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=tO,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==tO&&this.status!==nO||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rO:tO}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=nO,this._hasOwnPendingAsyncValidator=!0;const e=Ew(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof hO?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof fO&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?rO:this.errors?eO:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nO)?nO:this._anyControlsHaveStatus(eO)?eO:tO}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){uO(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class lO extends cO{constructor(t=null,e,n){super(iO(e),sO(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Xw(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Xw(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class hO extends cO{constructor(t,e,n){super(iO(e),sO(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof lO?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class fO extends cO{constructor(t,e,n){super(iO(e),sO(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof lO?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const dO={provide:kw,useExisting:Object(r.T)(()=>gO)},pO=(()=>Promise.resolve(null))();let gO=(()=>{class t extends kw{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new hO({},Iw(t),Tw(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){pO.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Ww(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){pO.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),Xw(this._directives,t)})}addFormGroup(t){pO.then(()=>{const e=this._findContainer(t.path),n=new hO({});(function(t,e){Yw(t,e,!1)})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){pO.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){pO.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(mw,10),r.Ib(bw,10))},t.\u0275dir=r.Db({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Sb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([dO]),r.vb]}),t})();const vO={provide:Nw,useExisting:Object(r.T)(()=>mO)},yO=(()=>Promise.resolve(null))();let mO=(()=>{class t extends Nw{constructor(t,e,n,i){super(),this.control=new lO,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===gw?n=t:(e=t,Zw.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(t,e){return[...e.path,t]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ww(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){yO.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;yO.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(kw,9),r.Ib(mw,10),r.Ib(bw,10),r.Ib(lw,10))},t.\u0275dir=r.Db({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.xb([vO]),r.vb,r.wb]}),t})(),bO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const _O={provide:mw,useExisting:Object(r.T)(()=>wO),multi:!0};let wO=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}validate(t){return this.required?ww.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.zb("required",e.required?"":null)},inputs:{required:"required"},features:[r.xb([_O])]}),t})(),OO=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)}}),t})(),EO=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[Fw],imports:[OO]}),t})();function CO(t,e){1&t&&r.Jb(0,"img",25)}function SO(t,e){1&t&&r.Jb(0,"img",26)}function xO(t,e){1&t&&r.Jb(0,"img",27)}function IO(t,e){if(1&t&&(r.Lb(0,"div",21),r.bc(1,CO,1,0,"img",22),r.bc(2,SO,1,0,"img",23),r.bc(3,xO,1,0,"img",24),r.Kb()),2&t){const t=r.Ub().$implicit,e=r.Ub();r.yb(1),r.Vb("ngIf",(null==e.authService.userData?null:e.authService.userData.first)==t.id),r.yb(1),r.Vb("ngIf",(null==e.authService.userData?null:e.authService.userData.second)==t.id),r.yb(1),r.Vb("ngIf",(null==e.authService.userData?null:e.authService.userData.third)==t.id)}}function TO(t,e){if(1&t){const t=r.Mb();r.Lb(0,"img",28),r.Sb("click",function(){r.Yb(t);const e=r.Ub().$implicit;return r.Ub().onVoted(1,e)}),r.Kb()}}function jO(t,e){if(1&t){const t=r.Mb();r.Lb(0,"img",29),r.Sb("click",function(){r.Yb(t);const e=r.Ub().$implicit;return r.Ub().onVoted(2,e)}),r.Kb()}}function AO(t,e){if(1&t){const t=r.Mb();r.Lb(0,"img",30),r.Sb("click",function(){r.Yb(t);const e=r.Ub().$implicit;return r.Ub().onVoted(3,e)}),r.Kb()}}function kO(t,e){if(1&t){const t=r.Mb();r.Lb(0,"span",31),r.Sb("click",function(){r.Yb(t);const e=r.Ub().$implicit;return r.Ub().onLike(e)}),r.Jb(1,"i",32),r.cc(2," Tap to remove your vote "),r.Kb()}}function PO(t,e){1&t&&(r.Lb(0,"span",33),r.cc(1,"No votes left"),r.Kb())}function NO(t,e){if(1&t){const t=r.Mb();r.Lb(0,"div",9),r.Jb(1,"img",10),r.bc(2,IO,4,3,"div",11),r.Lb(3,"div",12),r.Lb(4,"img",13),r.Sb("click",function(){r.Yb(t);const n=e.$implicit;return r.Ub().expandImage(n)}),r.Kb(),r.Kb(),r.Lb(5,"div",14),r.bc(6,TO,1,0,"img",15),r.bc(7,jO,1,0,"img",16),r.bc(8,AO,1,0,"img",17),r.bc(9,kO,3,0,"span",18),r.bc(10,PO,2,0,"span",19),r.Kb(),r.Lb(11,"span",20),r.cc(12),r.Kb(),r.Kb()}if(2&t){const t=e.$implicit,n=r.Ub();r.yb(1),r.Wb("src",t.photoUrl,r.Zb),r.yb(1),r.Vb("ngIf",n.isVoted(t.id)),r.yb(4),r.Vb("ngIf",""==(null==n.authService.userData?null:n.authService.userData.first)&&!n.isVoted(t.id)),r.yb(1),r.Vb("ngIf",""==(null==n.authService.userData?null:n.authService.userData.second)&&!n.isVoted(t.id)),r.yb(1),r.Vb("ngIf",""==(null==n.authService.userData?null:n.authService.userData.third)&&!n.isVoted(t.id)),r.yb(1),r.Vb("ngIf",n.isVoted(t.id)),r.yb(1),r.Vb("ngIf",0==n.getRemainingVotes()&&!n.isVoted(t.id)),r.yb(2),r.ec(" ",t.caption," ")}}function RO(t,e){1&t&&(r.Lb(0,"p"),r.cc(1,"Choose a file to"),r.Jb(2,"br"),r.cc(3,"upload"),r.Kb())}function DO(t,e){if(1&t){const t=r.Mb();r.Lb(0,"div",42),r.Sb("click",function(){return r.Yb(t),r.Ub(2).chooseFile()}),r.bc(1,RO,4,0,"p",43),r.Jb(2,"img",44),r.Kb()}if(2&t){const t=r.Ub(2);r.yb(1),r.Vb("ngIf",!t.imgSelected)}}function MO(t,e){if(1&t){const t=r.Mb();r.Lb(0,"div",42),r.Sb("click",function(){return r.Yb(t),r.Ub(2).chooseFile()}),r.Lb(1,"p"),r.cc(2,"Uploading..."),r.Kb(),r.Kb()}}function VO(t,e){if(1&t){const t=r.Mb();r.Lb(0,"div",34),r.Lb(1,"p",35),r.cc(2,"Upload your photo"),r.Kb(),r.Lb(3,"input",36),r.Sb("change",function(e){return r.Yb(t),r.Ub().onFileSelected(e)}),r.Kb(),r.Lb(4,"input",37),r.Sb("ngModelChange",function(e){return r.Yb(t),r.Ub().caption=e}),r.Kb(),r.bc(5,DO,3,1,"div",38),r.bc(6,MO,3,0,"div",38),r.Lb(7,"span",39),r.Lb(8,"button",40),r.Sb("click",function(){return r.Yb(t),r.Ub().uploadToFireStorage()}),r.cc(9,"Upload"),r.Kb(),r.Lb(10,"button",41),r.Sb("click",function(){return r.Yb(t),r.Ub().popUpVisible=!1}),r.cc(11,"Cancel"),r.Kb(),r.Kb(),r.Kb()}if(2&t){const t=r.Ub();r.yb(4),r.Vb("ngModel",t.caption),r.yb(1),r.Vb("ngIf",!t.uploading),r.yb(1),r.Vb("ngIf",t.uploading)}}function LO(t,e){if(1&t){const t=r.Mb();r.Lb(0,"div",45),r.Jb(1,"img",2),r.Lb(2,"span",39),r.Lb(3,"button",40),r.Sb("click",function(){return r.Yb(t),r.Ub().download()}),r.cc(4,"Download"),r.Kb(),r.Lb(5,"button",41),r.Sb("click",function(){return r.Yb(t),r.Ub().expanded=!1}),r.cc(6,"Cancel"),r.Kb(),r.Kb(),r.Kb()}if(2&t){const t=r.Ub();r.yb(1),r.Wb("src",t.selectedImage.photoUrl,r.Zb)}}function UO(t,e){if(1&t){const t=r.Mb();r.Lb(0,"div",46),r.Lb(1,"div"),r.Jb(2,"img",47),r.Jb(3,"img",48),r.Lb(4,"p"),r.cc(5,". weep not for roads untraveled ."),r.Kb(),r.Lb(6,"p"),r.cc(7,"Richard Joy"),r.Kb(),r.Kb(),r.Lb(8,"div"),r.Jb(9,"img",49),r.Jb(10,"img",50),r.Lb(11,"p"),r.cc(12,"Once in while, Stop and look back."),r.Kb(),r.Lb(13,"p"),r.cc(14,"Isham Mohamed"),r.Kb(),r.Kb(),r.Lb(15,"div"),r.Jb(16,"img",51),r.Jb(17,"img",52),r.Lb(18,"p"),r.cc(19,"Mornings in Manimala"),r.Kb(),r.Lb(20,"p"),r.cc(21,"Jitin"),r.Kb(),r.Kb(),r.Lb(22,"button",41),r.Sb("click",function(){return r.Yb(t),r.Ub().resultsVisible=!1}),r.cc(23,"Cancel"),r.Kb(),r.Kb()}}let FO=(()=>{class t{constructor(t,e,n){this.firestore=t,this.storage=e,this.authService=n,this.popUpVisible=!1,this.resultsVisible=!1,this.uploading=!1,this.expanded=!1,this.imgSelected=!1,this.photoEntries=[],document.body.classList.remove("bg");for(let r=1;r<10;r++)this.photoEntries.push({id:r.toString(),photoUrl:"assets/img"+r+".jpeg",score:1,timeUploaded:1,caption:null,author:null,uid:null,likedPeoples:[]})}onUpload(){var t;this.popUpVisible=!0,this.uploading=!1,this.imgSelected=!1,null===(t=document.getElementById("preview"))||void 0===t||t.setAttribute("hidden","true")}chooseFile(){var t;null===(t=document.querySelector(".input-file"))||void 0===t||t.dispatchEvent(new MouseEvent("click"))}onFileSelected(t){var e,n;this.imgSelected=!0,this.file=t.target.files[0],null===(e=document.getElementById("preview"))||void 0===e||e.setAttribute("src",URL.createObjectURL(this.file)),null===(n=document.getElementById("preview"))||void 0===n||n.classList.remove("nano")}uploadToFireStorage(){if(this.caption&&this.imgSelected){this.uploading=!0;var t="/entries/"+(new Date).getTime();const e=this.storage.upload(t,this.file),n=this.storage.ref(t);this.uploadPercent=e.percentageChanges(),e.snapshotChanges().pipe(dr(()=>{n.getDownloadURL().subscribe(t=>{var e,n,r;t&&(this.downloadURL=t,r={caption:this.caption,photoUrl:this.downloadURL,score:0,timeUploaded:Date.now(),uid:null===(e=this.authService.currentUser)||void 0===e?void 0:e.uid,author:null===(n=this.authService.currentUser)||void 0===n?void 0:n.displayName,likedPeoples:[]},this.addToFirestore(r))}),this.popUpVisible=!1})).subscribe()}}addToFirestore(t){}useVote(t,e){if(this.authService.userData){const n=this.authService.userData.first,r=this.authService.userData.second,i=this.authService.userData.third;this.authService.userData={first:1==t?n?"":e:n,second:2==t?r?"":e:r,third:3==t?i?"":e:i},this.authService.updateUserVotes(this.authService.userData)}}onVoted(t,e){var n,r,i,o=this.firestore.doc((null===(n=this.authService.config)||void 0===n?void 0:n.theme)+"/"+e.id);(null===(r=this.authService.currentUser)||void 0===r?void 0:r.uid)&&(this.useVote(t,e.id),e.likedPeoples.includes(this.authService.currentUser.uid)?((i=e.likedPeoples).splice(i.indexOf(this.authService.currentUser.uid)),o.update({score:1==t?e.score-20:2==t?e.score-10:e.score-5,likedPeoples:i})):((i=e.likedPeoples).push(this.authService.currentUser.uid),o.update({score:1==t?e.score+20:2==t?e.score+10:e.score+5,likedPeoples:i}))),this.expanded&&this.expandImage(e)}onLike(t){var e,n,r,i,o,s,a;(null===(e=this.authService.currentUser)||void 0===e?void 0:e.uid)&&((null===(n=this.authService.userData)||void 0===n?void 0:n.first)==t.id?this.onVoted(1,t):(null===(r=this.authService.userData)||void 0===r?void 0:r.second)==t.id?this.onVoted(2,t):(null===(i=this.authService.userData)||void 0===i?void 0:i.third)==t.id?this.onVoted(3,t):""==(null===(o=this.authService.userData)||void 0===o?void 0:o.first)?this.onVoted(1,t):""==(null===(s=this.authService.userData)||void 0===s?void 0:s.second)?this.onVoted(2,t):""==(null===(a=this.authService.userData)||void 0===a?void 0:a.third)&&this.onVoted(3,t))}getRemainingVotes(){var t,e,n,r=""==(null===(t=this.authService.userData)||void 0===t?void 0:t.first)?1:0;return(r+=""==(null===(e=this.authService.userData)||void 0===e?void 0:e.second)?1:0)+(""==(null===(n=this.authService.userData)||void 0===n?void 0:n.third)?1:0)}logout(){this.authService.logout()}isVoted(t){var e,n,r;return(null===(e=this.authService.userData)||void 0===e?void 0:e.first)==t||(null===(n=this.authService.userData)||void 0===n?void 0:n.second)==t||(null===(r=this.authService.userData)||void 0===r?void 0:r.third)==t}expandImage(t){this.selectedImage=t,this.expanded=!0}download(){window.open(this.selectedImage.photoUrl)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(sw),r.Ib(gn),r.Ib(aw))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-gallery"]],decls:17,vars:7,consts:[["src","assets/logo.jpeg","width","130px"],[3,"click"],["alt","",3,"src"],[1,"theme"],[1,"main-container"],["class","each-entry",4,"ngFor","ngForOf"],["class","upload-popup",4,"ngIf"],["class","expanded",4,"ngIf"],["class","results",4,"ngIf"],[1,"each-entry"],[3,"src"],["class","overlay-top",4,"ngIf"],[1,"overlay-expand"],["src","assets\\expand.svg",1,"expand-icon",2,"height","30px","width","30px",3,"click"],["id","overlay",1,"overlay"],["src","assets\\medal1.svg","style","margin: 10px; width: 50px; height: 50px",3,"click",4,"ngIf"],["src","assets\\medal2.svg","style","margin: 10px; width: 50px; height: 50px",3,"click",4,"ngIf"],["src","assets\\medal3.svg","style","margin: 10px; width: 50px; height: 50px",3,"click",4,"ngIf"],["class","unvote",3,"click",4,"ngIf"],["class","unvote",4,"ngIf"],[1,"img-bottom"],[1,"overlay-top"],["src","assets\\medal1.svg",4,"ngIf"],["src","assets\\medal2.svg",4,"ngIf"],["src","assets\\medal3.svg",4,"ngIf"],["src","assets\\medal1.svg"],["src","assets\\medal2.svg"],["src","assets\\medal3.svg"],["src","assets\\medal1.svg",2,"margin","10px","width","50px","height","50px",3,"click"],["src","assets\\medal2.svg",2,"margin","10px","width","50px","height","50px",3,"click"],["src","assets\\medal3.svg",2,"margin","10px","width","50px","height","50px",3,"click"],[1,"unvote",3,"click"],[1,"fas","fa-minus-circle",2,"margin","10px"],[1,"unvote"],[1,"upload-popup"],[1,"heading"],["type","file",1,"input-file",3,"change"],["type","text","name","caption","placeholder","Caption","autocomplete","off","required","",3,"ngModel","ngModelChange"],["class","upload-area",3,"click",4,"ngIf"],[1,"done"],[1,"btn",3,"click"],[1,"btn","cancel",3,"click"],[1,"upload-area",3,"click"],[4,"ngIf"],["id","preview","src","#",1,"nano"],[1,"expanded"],[1,"results"],["src","assets\\medal1.svg",1,"svg"],["src","https://firebasestorage.googleapis.com/v0/b/photocontest-7d8c2.appspot.com/o/entries%2F1660903504888?alt=media&token=41e09b8f-f2b7-491d-9305-a9fc581ccabf"],["src","assets\\medal2.svg",1,"svg"],["src","https://firebasestorage.googleapis.com/v0/b/photocontest-7d8c2.appspot.com/o/entries%2F1661507030163?alt=media&token=b56d5c62-1747-439c-9baa-d4a240919e3a"],["src","assets\\medal3.svg",1,"svg"],["src","https://firebasestorage.googleapis.com/v0/b/photocontest-7d8c2.appspot.com/o/entries%2F1663305579389?alt=media&token=a93bf377-31d2-431b-9cbb-f41e1b793793"]],template:function(t,e){1&t&&(r.Lb(0,"nav"),r.Jb(1,"img",0),r.Lb(2,"span"),r.Lb(3,"a",1),r.Sb("click",function(){return e.onUpload()}),r.cc(4,"Upload"),r.Kb(),r.Lb(5,"a"),r.cc(6,"Rosa Calder\xf3n Matienzo"),r.Kb(),r.Jb(7,"img",2),r.Kb(),r.Kb(),r.Lb(8,"div",3),r.cc(9),r.Lb(10,"p"),r.cc(11),r.Kb(),r.Kb(),r.Lb(12,"div",4),r.bc(13,NO,13,8,"div",5),r.Kb(),r.bc(14,VO,12,3,"div",6),r.bc(15,LO,7,1,"div",7),r.bc(16,UO,24,0,"div",8)),2&t&&(r.yb(7),r.Wb("src",null==e.authService.currentUser?null:e.authService.currentUser.photoURL,r.Zb),r.yb(2),r.ec(" ",null==e.authService.config?null:e.authService.config.theme," "),r.yb(2),r.dc(null==e.authService.config?null:e.authService.config.week),r.yb(2),r.Vb("ngForOf",e.photoEntries),r.yb(1),r.Vb("ngIf",e.popUpVisible),r.yb(1),r.Vb("ngIf",e.expanded),r.yb(1),r.Vb("ngIf",e.resultsVisible))},directives:[A,P,gw,wO,Dw,mO],styles:[".nano[_ngcontent-%COMP%]{height:0;width:0}nav[_ngcontent-%COMP%]{position:sticky;display:flex;top:0;left:0;justify-content:space-between;align-items:center;background-color:#fff;border-bottom:2px solid #dadce0;padding:20px;z-index:100}nav[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{color:#5f6368;font-family:Poppins,sans-serif;font-size:22px;padding:0 16px;font-weight:500}nav[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center}nav[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#5f6368;font-family:Poppins,sans-serif;padding:0 16px;font-weight:500;cursor:pointer}nav[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;border-radius:50%}.theme[_ngcontent-%COMP%]{margin:40px;display:flex;flex-direction:column;align-items:center;font-family:Redressed,cursive;font-size:58px;color:#5f6368}.theme[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:16px;color:#c4c4c4;margin:10px}.main-container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;flex-wrap:wrap}.main-container[_ngcontent-%COMP%]   .each-entry[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;margin:40px;width:-webkit-min-content;width:min-content}.main-container[_ngcontent-%COMP%]   .each-entry[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;height:400px}.main-container[_ngcontent-%COMP%]   .each-entry[_ngcontent-%COMP%]   .img-bottom[_ngcontent-%COMP%]{padding:6px 0;display:flex;width:100%;text-align:center;justify-content:center}.main-container[_ngcontent-%COMP%]   .each-entry[_ngcontent-%COMP%]   .img-bottom[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .each-entry[_ngcontent-%COMP%]   .img-bottom[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:500}.main-container[_ngcontent-%COMP%]   .each-entry[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;background:rgba(0,0,0,.74);transition:.5s ease;width:100%;height:400px;opacity:0;display:flex;justify-content:center;align-items:center}.main-container[_ngcontent-%COMP%]   .each-entry[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .unvote[_ngcontent-%COMP%]{display:flex;height:100%;width:100%;justify-content:center;align-items:center;color:#c4c4c4;font-family:Poppins,sans-serif;font-weight:500}.main-container[_ngcontent-%COMP%]   .each-entry[_ngcontent-%COMP%]   .overlay-expand[_ngcontent-%COMP%]{position:absolute;transition:.5s ease;width:100%;height:400px;opacity:1}.main-container[_ngcontent-%COMP%]   .each-entry[_ngcontent-%COMP%]   .expand-icon[_ngcontent-%COMP%]{position:absolute;right:0;margin:10px;transition:.5s ease;opacity:0;z-index:50}.main-container[_ngcontent-%COMP%]   .each-entry[_ngcontent-%COMP%]   .overlay-top[_ngcontent-%COMP%]{position:absolute;background:linear-gradient(to bottom right,#000 0,rgba(42,42,42,0) 25%,hsla(0,0%,100%,0));transition:.5s ease;width:100%;height:400px;opacity:1;display:flex;justify-content:space-between;align-items:flex-start}.main-container[_ngcontent-%COMP%]   .each-entry[_ngcontent-%COMP%]   .overlay-top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10px;width:50px;height:50px;z-index:10}.main-container[_ngcontent-%COMP%]   .each-entry[_ngcontent-%COMP%]:hover   .expand-icon[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .each-entry[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{opacity:1}.upload-popup[_ngcontent-%COMP%]{position:fixed;z-index:50;display:flex;flex-direction:column;align-items:center;width:400px;padding:20px;top:50%;left:50%;transform:translate(-50%,-50%);background-color:hsla(0,0%,100%,.996078431372549);border-radius:20px;box-shadow:4px 4px 50px 8px hsla(0,0%,78%,.52)}.upload-popup[_ngcontent-%COMP%]   p.heading[_ngcontent-%COMP%]{color:#5f6368;font-family:Poppins,sans-serif;font-weight:500}.upload-popup[_ngcontent-%COMP%]   .upload-area[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:200px;height:200px;flex-direction:column;border-radius:20px;border:2px dashed #b1b1b1;cursor:pointer}.upload-popup[_ngcontent-%COMP%]   .upload-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;text-align:center}.upload-popup[_ngcontent-%COMP%]   .upload-area[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px;max-height:200px;border-radius:10px}.upload-popup[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;color:#fff;background-color:#5f6368;padding:8px 20px;margin:20px;border-radius:8px;cursor:pointer}.upload-popup[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{background-color:#eeede8;color:#5f6368}.upload-popup[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{width:0;height:0}.upload-popup[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-family:Poppins,sans-serif;margin:20px;height:30px;text-align:center;border-radius:10px;background-color:#eeede8;color:#777}.upload-popup[_ngcontent-%COMP%]   .done[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-around}.expanded[_ngcontent-%COMP%]{position:fixed;display:flex;font-family:Poppins,sans-serif;align-items:center;justify-content:space-evenly;width:90%;color:#5f6368;height:90%;z-index:150;padding:20px;opacity:1;top:50%;transition:1.8s ease-in-out;left:50%;transform:translate(-50%,-50%);background-color:hsla(0,0%,100%,.996078431372549);border-radius:20px;box-shadow:4px 4px 50px 18px hsla(0,0%,78%,.92)}.expanded[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:80%;max-height:90%;border-radius:10px}.expanded[_ngcontent-%COMP%]   .done[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around}.expanded[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;color:#fff;background-color:#5f6368;padding:8px 20px;margin:20px;border-radius:8px;cursor:pointer}.expanded[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{background-color:#eeede8;color:#5f6368}.expanded[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:4px}.expanded[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;text-align:center}.selected-vote[_ngcontent-%COMP%]{border:solid;padding:4px;border-color:#5f6368}.results[_ngcontent-%COMP%]{position:fixed;display:flex;font-family:Poppins,sans-serif;align-items:center;align-content:center;justify-content:space-evenly;width:90%;color:#5f6368;height:90%;z-index:150;padding:20px;opacity:1;top:50%;transition:1.8s ease-in-out;left:50%;transform:translate(-50%,-50%);background-color:hsla(0,0%,100%,.996078431372549);border-radius:20px;box-shadow:4px 4px 50px 18px hsla(0,0%,78%,.92)}.results[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:400px;max-height:400px}.results[_ngcontent-%COMP%]   .svg[_ngcontent-%COMP%]{margin:20px;width:50px;height:50px}.results[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.results[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:absolute;bottom:20px;font-family:Poppins,sans-serif;color:#fff;background-color:#5f6368;padding:8px 20px;margin:20px;border-radius:8px;cursor:pointer}"]}),t})();const qO=[{path:"",redirectTo:"gallery",pathMatch:"full"},{path:"login",component:(()=>{class t{constructor(t,e){this.authService=t,this.route=e,document.body.classList.add("bg")}loginWithGoogle(){this.authService.loginWithGoogle()}loginWithEmail(){this.authService.loginWithEmail(this.email?this.email:"",this.password?this.password:"")}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(aw),r.Ib(qo))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-root"]],decls:23,vars:2,consts:[[1,"container"],["src","assets\\undraw_moments_0y20.svg"],[1,"forms-container"],[1,"signin-signup"],["action","#",1,"sign-in-form"],[1,"title"],[1,"input-field"],[1,"fas","fa-user","cls"],["type","text","placeholder","Email",3,"ngModel","ngModelChange"],[1,"fas","fa-lock","cls"],["type","password","placeholder","Password",3,"ngModel","ngModelChange"],["type","submit","value","Login",1,"btn","solid",3,"click"],[1,"social-text"],[1,"social-media"],["href","#",1,"social-icon"],[1,"fab","fa-twitter"],[1,"fab","fa-microsoft"],[1,"social-icon",3,"click"],[1,"fab","fa-google"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Jb(1,"img",1),r.Lb(2,"div",2),r.Lb(3,"div",3),r.Lb(4,"form",4),r.Lb(5,"h2",5),r.cc(6,"Welcome"),r.Kb(),r.Lb(7,"div",6),r.Jb(8,"i",7),r.Lb(9,"input",8),r.Sb("ngModelChange",function(t){return e.email=t}),r.Kb(),r.Kb(),r.Lb(10,"div",6),r.Jb(11,"i",9),r.Lb(12,"input",10),r.Sb("ngModelChange",function(t){return e.password=t}),r.Kb(),r.Kb(),r.Lb(13,"input",11),r.Sb("click",function(){return e.loginWithEmail()}),r.Kb(),r.Lb(14,"p",12),r.cc(15,"Or Sign in with"),r.Kb(),r.Lb(16,"div",13),r.Lb(17,"a",14),r.Jb(18,"i",15),r.Kb(),r.Lb(19,"a",14),r.Jb(20,"i",16),r.Kb(),r.Lb(21,"a",17),r.Sb("click",function(){return e.loginWithGoogle()}),r.Jb(22,"i",18),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb()),2&t&&(r.yb(9),r.Vb("ngModel",e.email),r.yb(3),r.Vb("ngModel",e.password))},directives:[bO,Mw,gO,gw,Dw,mO],styles:["*[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;margin:0;padding:0;box-sizing:border-box}.container[_ngcontent-%COMP%]{position:relative;width:100%;background-color:#fff;min-height:100vh;overflow:hidden}img[_ngcontent-%COMP%]{margin:50px;max-width:40%}form[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.forms-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}.forms-container[_ngcontent-%COMP%]   .signin-signup[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translate(-50%,-50%);left:75%;width:50%}.forms-container[_ngcontent-%COMP%]   .signin-signup[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2.2rem;color:#444;margin-bottom:10px}.forms-container[_ngcontent-%COMP%]   .signin-signup[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]{background-color:#f0f0f0;margin:10px 0;height:55px;border-radius:55px;display:grid;grid-template-columns:15% 85%;padding:0 .4rem;position:relative}.forms-container[_ngcontent-%COMP%]   .signin-signup[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:none;outline:none;border:none;line-height:1;font-weight:600;font-size:1.1rem;color:#333}.forms-container[_ngcontent-%COMP%]   .signin-signup[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   .cls[_ngcontent-%COMP%]{margin:18px;text-align:center;line-height:55px;color:#acacac;transition:.5s;font-size:1.1rem}.forms-container[_ngcontent-%COMP%]   .signin-signup[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#aaa;font-weight:500}.forms-container[_ngcontent-%COMP%]   .signin-signup[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:150px;background-color:#5995fd;border:none;outline:none;height:49px;border-radius:49px;color:#fff;text-transform:uppercase;letter-spacing:1px;font-weight:500;margin:10px 0;cursor:pointer;transition:.5s}.forms-container[_ngcontent-%COMP%]   .signin-signup[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#4d84e2}.forms-container[_ngcontent-%COMP%]   .signin-signup[_ngcontent-%COMP%]   .social-text[_ngcontent-%COMP%]{padding:.7rem 0;font-size:1rem}.forms-container[_ngcontent-%COMP%]   .signin-signup[_ngcontent-%COMP%]   .social-media[_ngcontent-%COMP%]{display:flex;justify-content:center}.forms-container[_ngcontent-%COMP%]   .signin-signup[_ngcontent-%COMP%]   .social-media[_ngcontent-%COMP%]   .social-icon[_ngcontent-%COMP%]{height:46px;width:46px;display:flex;justify-content:center;align-items:center;margin:0 .45rem;color:#333;border-radius:50%;border:2px solid #333;text-decoration:none;font-size:1.1rem;transition:.3s}.forms-container[_ngcontent-%COMP%]   .signin-signup[_ngcontent-%COMP%]   .social-media[_ngcontent-%COMP%]   .social-icon[_ngcontent-%COMP%]:hover{color:#4481eb;border-color:#4481eb}"]}),t})()},{path:"gallery",component:FO},{path:"**",redirectTo:"gallery",pathMatch:"full"}];let HO=(()=>{class t{}return t.\u0275mod=r.Gb({type:t,bootstrap:[as]}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[Zo.forRoot(qO),pt,D,EO,jt.a.initializeApp(i),yn]]}),t})();Object(r.S)(),ft().bootstrapModule(HO).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);